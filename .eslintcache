[{"C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\index.js":"1","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\serviceWorker.js":"2","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\reducers\\index.js":"3","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\actions\\webApp.js":"4","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\components\\readPanel.js":"5","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\actions\\a.js":"6","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\utils\\core.js":"7","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\reducers\\app.js":"8","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\reducers\\webApp.js":"9","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\reducers\\explanation.js":"10","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\reducers\\readPanel.js":"11","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\reducers\\translate.js":"12","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\reducers\\a.js":"13","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\reducers\\other.js":"14","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\actions\\explanation.js":"15","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\actions\\app.js":"16","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\actions\\translate.js":"17","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\actions\\readPanel.js":"18","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\components\\a.js":"19","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\utils\\touch.js":"20","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\assets\\explore.js":"21","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\components\\explanation.js":"22","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\containers\\webApp.js":"23","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\containers\\App.js":"24","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\containers\\head.js":"25","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\containers\\home.js":"26","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\components\\home\\ItemCard.tsx":"27","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\components\\home\\History.tsx":"28","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\components\\explore\\NavigationBar.tsx":"29","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\components\\explore\\index.tsx":"30","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\components\\explanation\\switch.tsx":"31","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\components\\translatePanel.tsx":"32","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\containers\\Shadow.tsx":"33","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\containers\\ToolMenu.tsx":"34","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\components\\trayBar.jsx":"35","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\containers\\ManageTranslatePanel.jsx":"36","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\containers\\ManageExplanation.jsx":"37","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\components\\AModal.tsx":"38","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\utils\\config.ts":"39","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\components\\status.js":"40","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\containers\\Home.js":"41","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\containers\\Head.js":"42"},{"size":1283,"mtime":1611151652339,"results":"43","hashOfConfig":"44"},{"size":5184,"mtime":1611150911569,"results":"45","hashOfConfig":"44"},{"size":437,"mtime":1610032825102,"results":"46","hashOfConfig":"44"},{"size":5770,"mtime":1614256912476,"results":"47","hashOfConfig":"44"},{"size":8087,"mtime":1615708327394,"results":"48","hashOfConfig":"44"},{"size":310,"mtime":1614257149334,"results":"49","hashOfConfig":"44"},{"size":26434,"mtime":1614266348394,"results":"50","hashOfConfig":"44"},{"size":443,"mtime":1610032825030,"results":"51","hashOfConfig":"44"},{"size":925,"mtime":1610032825167,"results":"52","hashOfConfig":"44"},{"size":1682,"mtime":1610032825041,"results":"53","hashOfConfig":"44"},{"size":431,"mtime":1610032825135,"results":"54","hashOfConfig":"44"},{"size":596,"mtime":1610032825154,"results":"55","hashOfConfig":"44"},{"size":384,"mtime":1610032825013,"results":"56","hashOfConfig":"44"},{"size":292,"mtime":1610032825119,"results":"57","hashOfConfig":"44"},{"size":2646,"mtime":1615706410223,"results":"58","hashOfConfig":"44"},{"size":6914,"mtime":1610032824556,"results":"59","hashOfConfig":"44"},{"size":2404,"mtime":1610032824618,"results":"60","hashOfConfig":"44"},{"size":1007,"mtime":1610032824596,"results":"61","hashOfConfig":"44"},{"size":1209,"mtime":1615708018872,"results":"62","hashOfConfig":"44"},{"size":5721,"mtime":1610032825236,"results":"63","hashOfConfig":"44"},{"size":18576,"mtime":1610032824647,"results":"64","hashOfConfig":"44"},{"size":23294,"mtime":1615701216622,"results":"65","hashOfConfig":"44"},{"size":7905,"mtime":1615708362029,"results":"66","hashOfConfig":"44"},{"size":8515,"mtime":1615707636427,"results":"67","hashOfConfig":"44"},{"size":520,"mtime":1615707485393,"results":"68","hashOfConfig":"44"},{"size":9870,"mtime":1615707485085,"results":"69","hashOfConfig":"44"},{"size":988,"mtime":1614089408884,"results":"70","hashOfConfig":"44"},{"size":433,"mtime":1614089248964,"results":"71","hashOfConfig":"44"},{"size":1333,"mtime":1614089923062,"results":"72","hashOfConfig":"44"},{"size":2144,"mtime":1615708282148,"results":"73","hashOfConfig":"44"},{"size":620,"mtime":1614170007929,"results":"74","hashOfConfig":"44"},{"size":2112,"mtime":1614253181935,"results":"75","hashOfConfig":"44"},{"size":771,"mtime":1614173686552,"results":"76","hashOfConfig":"44"},{"size":8293,"mtime":1614264994683,"results":"77","hashOfConfig":"44"},{"size":7136,"mtime":1614253553752,"results":"78","hashOfConfig":"44"},{"size":3682,"mtime":1615706387636,"results":"79","hashOfConfig":"44"},{"size":2158,"mtime":1615708218591,"results":"80","hashOfConfig":"44"},{"size":3885,"mtime":1615699816576,"results":"81","hashOfConfig":"44"},{"size":800,"mtime":1615703099080,"results":"82","hashOfConfig":"44"},{"size":4029,"mtime":1615707485476,"results":"83","hashOfConfig":"44"},{"size":9870,"mtime":1615707485085,"results":"84","hashOfConfig":"44"},{"size":309,"mtime":1615707731973,"results":"85","hashOfConfig":"44"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"88","usedDeprecatedRules":"89"},"xs0n9z",{"filePath":"90","messages":"91","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92","usedDeprecatedRules":"89"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"89"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"89"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"89"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":0,"source":"104","usedDeprecatedRules":"89"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"107","usedDeprecatedRules":"89"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"89"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"89"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"114","usedDeprecatedRules":"89"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"89"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"89"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"89"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"123","usedDeprecatedRules":"89"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"89"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"128","usedDeprecatedRules":"89"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"89"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"133","usedDeprecatedRules":"89"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"89"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"89"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"140","usedDeprecatedRules":"89"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"143","messages":"144","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"145","usedDeprecatedRules":"89"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"148","usedDeprecatedRules":"149"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"152","usedDeprecatedRules":"149"},{"filePath":"153","messages":"154","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"155","usedDeprecatedRules":"156"},{"filePath":"157","messages":"158","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"156"},{"filePath":"159","messages":"160","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"161"},{"filePath":"162","messages":"163","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"164","usedDeprecatedRules":"161"},{"filePath":"165","messages":"166","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"161"},{"filePath":"167","messages":"168","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"169","usedDeprecatedRules":"161"},{"filePath":"170","messages":"171","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"172","usedDeprecatedRules":"161"},{"filePath":"173","messages":"174","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"175","usedDeprecatedRules":"161"},{"filePath":"176","messages":"177","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"178","usedDeprecatedRules":"89"},{"filePath":"179","messages":"180","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"181","usedDeprecatedRules":"89"},{"filePath":"182","messages":"183","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"184","messages":"185","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"186","usedDeprecatedRules":"161"},{"filePath":"187","messages":"188","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"161"},{"filePath":"189","messages":"190","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"191","usedDeprecatedRules":"89"},{"filePath":"192","messages":"193","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"194","usedDeprecatedRules":"89"},{"filePath":"195","messages":"196","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"197","usedDeprecatedRules":"89"},"C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\index.js",["198","199","200","201","202","203","204","205"],"import React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport rootReducer from './reducers';\r\nimport thunk from 'redux-thunk';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link,\r\n    useLocation,\r\n    useRouteMatch,\r\n    useParams,\r\n    useHistory,\r\n    withRouter,\r\n\r\n} from 'react-router-dom';\r\n\r\n\r\n// import ReactDOMServer from 'react-dom/server';\r\n// import ReactHtmlParser from 'react-html-parser';\r\n\r\nimport WebApp from './containers/webApp';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nconst traget = document.getElementById('wrp-root')\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n    rootReducer,\r\n    composeEnhancers(\r\n        applyMiddleware(thunk)\r\n    )\r\n);\r\n\r\nrender(\r\n    <Provider store={store}>\r\n        <Router>\r\n            <WebApp />\r\n        </Router>\r\n    </Provider>\r\n    , traget);\r\n\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n\r\nexport { store }",["206","207"],"C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\serviceWorker.js",["208"],"// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.1/8 is considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\nexport function register(config) {\n  console.log('serviceWorker.js > register')\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        // checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n  window.addEventListener('load', () => {\n    const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n    registerValidSW(swUrl, config);\n  })\n\n}\n\nfunction registerValidSW(swUrl, config) {\n  console.log('serviceWorker.js > registerValidSW')\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\reducers\\index.js",["209"],"import { combineReducers } from 'redux'\r\n\r\nimport webApp from './webApp';\r\nimport app from './app';\r\nimport explanation  from './explanation';\r\nimport a from './a';\r\nimport translate from './translate';\r\nimport readPanel from './readPanel';\r\nimport other  from './other';\r\n\r\nconsole.log(`reducers.js`);\r\n\r\nexport default combineReducers({\r\n    webApp,\r\n    app,\r\n    explanation,\r\n    a,\r\n    translate,\r\n    readPanel,\r\n    // other\r\n})","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\actions\\webApp.js",[],"C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\components\\readPanel.js",[],"C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\actions\\a.js",[],"C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\utils\\core.js",["210","211","212","213","214","215","216","217","218","219","220","221","222","223","224"],"import React from \"react\";\r\nimport A from \"../components/a\";\r\nimport { get } from \"lodash\";\r\n\r\nconst config = {\r\n  runScript: true,\r\n  keepIntegrityAttribute: false,\r\n};\r\n\r\nconst extractScope = {\r\n  front: 1,\r\n  behind: 1,\r\n  /**\r\n   * fn, bn为断句过程中的变量,\r\n   * 当fn == front, bn == behind时, 断句即结束\r\n   * 每次断句结束后, 需要重置fn, bn\r\n   */\r\n  fn: 0,\r\n  bn: 0,\r\n};\r\n\r\n\r\nfunction isInline(target) {\r\n  // console.log('isInline: ', target, typeof target, target.nodeName)\r\n  if (!target) return false;\r\n  if (target.nodeName === \"#text\") return true;\r\n\r\n  let display = window.getComputedStyle(target).getPropertyValue(\"display\");\r\n  if (display.search(\"inline\") !== -1) return true;\r\n\r\n  return false;\r\n}\r\n\r\n/**\r\n * @param {String} text \r\n */\r\nfunction getBreakPoints(text) {\r\n  let length = text.length;\r\n  let breakPoints = [];\r\n  let points = text.search(/[.?!。？！]/);\r\n  while (points !== -1) {\r\n    // console.log('=', points)\r\n    breakPoints.push(length - text.length + points)\r\n    text = text.slice(points + 1)\r\n    points = text.search(/[.?!。？！]/);\r\n  }\r\n\r\n  // console.log('breakPoints', breakPoints)\r\n  return breakPoints;\r\n}\r\n\r\n/**\r\n * 用于查找 #text 和 Element 混合节点的分句位置\r\n * 返回所有可能存在分句点的#text对象 和 分句点的相对位置\r\n * return [{target:#text, points:[]}]\r\n * @param {Node} target \r\n */\r\nfunction getTargetAndBreakPoint(target) {\r\n  target = target.firstChild;\r\n  let result = []\r\n  while (target !== null) {\r\n    console.log('--')\r\n    if (target.nodeName !== '#text') {\r\n      target = target.nextSibling;\r\n      continue;\r\n    }\r\n\r\n    let text = target.textContent\r\n    let length = text.length\r\n    let point = text.search(/[.?!。？！]/)\r\n\r\n    let p = {\r\n      points: []\r\n    }\r\n\r\n    while (point !== -1) {\r\n      p.points.push(length - text.length + point);\r\n      text = text.slice(point + 1)\r\n      point = text.search(/[.?!。？！]/)\r\n    }\r\n\r\n    if (p.points.length > 0) {\r\n      p.target = target\r\n      result.push(p)\r\n    }\r\n\r\n    target = target.nextSibling;\r\n  }\r\n  return result;\r\n}\r\n\r\nfunction comparePosition(target, breakPoints, x, y) {\r\n  if (breakPoints.length <= 0) return 0;\r\n  let middle = Math.round(breakPoints.length / 2) - 1;\r\n  // console.log('comparePosition', target, breakPoints, x, y, middle)\r\n  if (breakPoints[0] >= target.textContent.length) return false;\r\n\r\n  window.getSelection().removeAllRanges()\r\n  let range = new Range(target)\r\n  range.setStart(target, breakPoints[middle]);\r\n  range.setEnd(target, breakPoints[middle] + 1);\r\n  window.getSelection().addRange(range);\r\n  let domRect = range.getClientRects()[0]\r\n  // console.log('domRect', domRect)\r\n  // Previous\r\n  if (y < domRect.y || (y < domRect.y + domRect.height && x < domRect.x)) {\r\n    if (breakPoints.slice(0, middle) < 1) return breakPoints[0];\r\n    return comparePosition(target, breakPoints.slice(0, middle), x, y)\r\n  }\r\n\r\n  // following\r\n  if (y > domRect.y + domRect.height || (x > domRect.x && y > domRect.y)) {\r\n    if (breakPoints.slice(middle + 1) < 1)\r\n      return breakPoints.slice(middle, middle + 1)[0] + 1;\r\n    return comparePosition(target, breakPoints.slice(middle + 1), x, y)\r\n  }\r\n}\r\n\r\nexport function calcOffset(target, x, y) {\r\n\r\n  if (target.children.length === 0) {\r\n    let breakPoints = getBreakPoints(target.textContent);\r\n    target = target.firstChild;\r\n    return [target, comparePosition(target, breakPoints, x, y)]\r\n  }\r\n\r\n  // #text 和 Element 混合节点\r\n  let breakPoints = getTargetAndBreakPoint(target);\r\n  if (breakPoints.length === 0) return [target.firstChild, 0];\r\n  let p\r\n  let obj\r\n  for (obj of breakPoints) {\r\n    p = comparePosition(obj.target, obj.points, x, y)\r\n    if (p <= obj.points[obj.points.length - 1]) {\r\n      return [obj.target, p];\r\n    }\r\n  }\r\n\r\n  return [obj.target, p]\r\n}\r\n\r\n// 从html中提取部分文字区域， 例如：单词，句子\r\n/**\r\n * @param {Node} target\r\n * @param {Number} offset\r\n * @param {Enumera} type\r\n */\r\nexport function extractPart(target, offset, type = \"word\") {\r\n  if (!target) return [\"\", \"\"];\r\n  // console.log('translate test',target);\r\n  let frontPattern;\r\n  let behindPattern;\r\n  if (type === \"word\") {\r\n    frontPattern = /^[\\s\\S]*\\W(\\w*?)$/;\r\n    behindPattern = /^(\\w*?)\\W[\\s\\S]*$/;\r\n  }\r\n\r\n  if (type === \"sentence\") {\r\n    frontPattern = /^[\\s\\S]*(?:(?:[.!?](?!\\w))|[。！？\\v\\t])([\\s\\S]*?)$/;\r\n    behindPattern = /^([\\s\\S]*?([.!?](?!\\w))|[。！？\\v\\t])[\\s\\S]*$/;\r\n  }\r\n\r\n  let frontTarget = target;\r\n  if (offset == null) {\r\n    frontTarget = target.previousSibling;\r\n    if (!isInline(target)) {\r\n      frontTarget = null;\r\n    }\r\n  }\r\n  // console.log(\"frontPattern\", frontPattern, behindPattern);\r\n  // console.log('a',frontTarget,offset)\r\n  let front = frontFind(frontTarget, offset, true, frontPattern, type);\r\n  // console.log('go -1 front',front,'go -2');\r\n  let behind = behindFind(target, offset, true, behindPattern, type);\r\n  // console.log('go -2 behind',behind,'go -end');\r\n\r\n  extractScope.fn = 0;\r\n  extractScope.bn = 0;\r\n\r\n  return [front, behind];\r\n}\r\n\r\n// 寻找分割的断点位置\r\nexport function findSubPart(text, orientation, pattern, target, type) {\r\n\r\n  let subPart;\r\n  subPart = text.match(pattern);\r\n  if (subPart === null) {\r\n    return text;\r\n  }\r\n\r\n  if (orientation === 'front' && type === 'word') {\r\n    extractScope.fn += 1;\r\n    return subPart[1];\r\n  }\r\n\r\n  if (orientation === 'behind' && type === 'word') {\r\n    extractScope.bn += 1;\r\n    return subPart[1];\r\n  }\r\n\r\n  if (orientation === \"front\" && type === 'sentence') {\r\n    let index = target.textContent.indexOf(text) + text.lastIndexOf('.')\r\n    if (!sentenceEndingJudge(target, index)) {\r\n      return text;\r\n    }\r\n    extractScope.fn += 1;\r\n    subPart = subPart[1];\r\n  }\r\n\r\n  if (orientation === \"behind\" && type === 'sentence') {\r\n    let index = target.textContent.indexOf(text) + text.indexOf('.');\r\n    if (!sentenceEndingJudge(target, index)) {\r\n      return text;\r\n    }\r\n    extractScope.bn += 1;\r\n    subPart = subPart[1];\r\n  }\r\n\r\n  return subPart;\r\n}\r\n\r\nexport function frontFind(\r\n  target, offset,\r\n  testParent = true,\r\n  pattern,\r\n  type\r\n) {\r\n  // 向前遍历节点 直到找到“起点”\r\n  let result = {\r\n    texts: [],\r\n    elements: [],\r\n    startTarget: null,\r\n    startOffset: 0,\r\n    break: false,\r\n  };\r\n\r\n  if (!target) return result;\r\n\r\n  while (target) {\r\n    // console.log(\"front, while\", target,result.texts);\r\n    if (target.nodeName == \"#text\") {\r\n      let text;\r\n      if (typeof offset === 'number') {\r\n        text = target.textContent.slice(0, offset);\r\n      } else {\r\n        text = target.textContent;\r\n      }\r\n\r\n      // console.log('front text', text, target)\r\n      let subPart = findSubPart(text, \"front\", pattern, target, type);\r\n      // console.log('subPart', subPart)\r\n      if (extractScope.front <= extractScope.fn) {\r\n        result.texts.unshift(subPart);\r\n        result.elements.unshift(subPart);\r\n        result.startTarget = target;\r\n        result.startOffset = text.lastIndexOf(subPart);\r\n        // console.log('break')\r\n        result.break = true;\r\n        break;\r\n      } else {\r\n        subPart = text;\r\n        result.texts.unshift(subPart);\r\n        result.elements.unshift(subPart);\r\n        result.startTarget = target;\r\n        result.startOffset = 0;\r\n      }\r\n    } else if (isInline(target)) {\r\n      // 需要遍历子节点\r\n      let children = frontFind(target.lastChild, null, false, pattern, type);\r\n      result.texts.unshift(...children.texts);\r\n      result.elements.unshift(copy(target, children.elements));\r\n      result.startTarget = children.startTarget;\r\n      result.startOffset = children.startOffset;\r\n      result.break = children.break;\r\n      if (children.break) break;\r\n    } else {\r\n      result.startTarget = target;\r\n      result.startOffset = target.textContent.length;\r\n      break;\r\n    }\r\n\r\n    // 偶尔因target.parentName undefined 出错;\r\n    if (target.previousSibling) {\r\n      if (!isInline(target.previousSibling)) {\r\n        extractScope.fn += 1;\r\n      }\r\n      target = target.previousSibling;\r\n    } else if (testParent) {\r\n      if (\r\n        !isInline(target.parentNode) ||\r\n        !isInline(target.parentNode.previousSibling)\r\n      ) {\r\n        extractScope.fn += 1;\r\n      }\r\n      target = target.parentNode.previousSibling;\r\n    } else {\r\n      break;\r\n    }\r\n    if (extractScope.front <= extractScope.fn) break;\r\n    offset = null;\r\n  }\r\n  return result;\r\n}\r\n\r\nexport function behindFind(\r\n  target,\r\n  offset,\r\n  testParent = true,\r\n  pattern,\r\n  type\r\n) {\r\n  // 向后遍历节点  直到找到“终点” (词尾，句尾)\r\n  let result = {\r\n    texts: [],\r\n    elements: [],\r\n    endTarget: null,\r\n    endOffset: 0,\r\n    break: false,\r\n  };\r\n  if (!target) return result;\r\n  if (!offset) offset = 0;\r\n  while (target) {\r\n    // console.log(\"next, while\", target);\r\n    if (target.nodeName == \"#text\") {\r\n      let text = target.textContent.slice(offset);\r\n      // console.log(\"behind text\", text, target, offset, target.textContent);\r\n\r\n      let subPart = findSubPart(text, \"behind\", pattern, target, type);\r\n      if (extractScope.behind <= extractScope.bn) {\r\n        result.texts.push(subPart);\r\n        result.elements.push(subPart);\r\n        result.endTarget = target;\r\n        result.endOffset = offset + subPart.length;\r\n        result.break = true;\r\n        // console.log(\"break\");\r\n        break;\r\n      } else {\r\n        subPart = text;\r\n        result.texts.push(subPart);\r\n        result.elements.push(subPart);\r\n        result.endTarget = target;\r\n        result.endOffset = target.textContent.length;\r\n      }\r\n    } else if (isInline(target)) {\r\n      // 需要遍历子节点\r\n      let children = behindFind(target.firstChild, null, false, pattern);\r\n      result.texts.push(...children.texts);\r\n      result.elements.push(copy(target, children.elements));\r\n      result.endTarget = children.endTarget;\r\n      result.endOffset = children.endOffset;\r\n      result.break = children.break;\r\n      if (children.break) break;\r\n    } else {\r\n      result.endTarget = target;\r\n      result.endOffset = 0;\r\n      break;\r\n    }\r\n\r\n    if (target.nextSibling) {\r\n      if (!isInline(target.nextSibling)) {\r\n        extractScope.bn += 1;\r\n      }\r\n      target = target.nextSibling;\r\n      // offset = 0;\r\n    } else if (testParent) {\r\n      if (\r\n        !isInline(target.parentNode) ||\r\n        !isInline(target.parentNode.nextSibling)\r\n      ) {\r\n        extractScope.bn += 1;\r\n      }\r\n      target = target.parentNode.nextSibling;\r\n      // offset = 0;\r\n    } else {\r\n      break;\r\n    }\r\n\r\n    if (extractScope.behind <= extractScope.bn) break;\r\n    offset = 0;\r\n  }\r\n  return result;\r\n}\r\n/**\r\n * \r\n * @param {Object {target:#text, offset: 0}} start \r\n * @param {Object {target:#text, offset: 2}} end \r\n */\r\nexport function selectedText(start, end) {\r\n  window.getSelection().removeAllRanges();\r\n  let range = new Range();\r\n  range.setStart(start.target, start.offset);\r\n  range.setEnd(end.target, end.offset);\r\n  window.getSelection().addRange(range);\r\n}\r\n\r\n// 🦉 英文人名缩写如何判断？\r\n/**\r\n * 判断一段含“.”的文字，是否为一个句子的结尾。\r\n */\r\nexport function sentenceEndingJudge(target, index) {\r\n  let text = target.textContent.slice(Math.max(0, index - 5), index + 5);\r\n  if (index <= 1) {\r\n\r\n  }\r\n  if (index >= target.length - 1) {\r\n\r\n  }\r\n  const negateList = [\r\n    /\\d{1,4}\\.\\s?\\d{1,4}/,\r\n    /[\\s^]Inc\\.\\s[a-z]/,\r\n    /[\\s^]([A-Z]\\. ?){1,3}/,\r\n  ];\r\n  return !negateList.some(re => re.test(text))\r\n}\r\n\r\nexport function deepCopy(node, returnChilren = false) {\r\n  if (node.nodeName == \"#text\") return node.textContent;\r\n\r\n  let children = node.firstChild;\r\n  let childrenList = [];\r\n  while (children) {\r\n    childrenList = childrenList.concat(deepCopy(children));\r\n    children = children.nextSibling;\r\n  }\r\n\r\n  if (returnChilren) {\r\n    return childrenList;\r\n  } else {\r\n    let type = node.nodeName.toLowerCase();\r\n    const ignoreTag = [\"#comment\"];\r\n\r\n    if (ignoreTag.includes(type)) {\r\n      return \"\";\r\n    }\r\n\r\n    let props = attToProps(node);\r\n    const noChildren = [\"img\", \"hr\", \"br\", \"input\", \"link\", \"wbr\"];\r\n\r\n    if (noChildren.includes(type)) {\r\n      let element = React.createElement(type, props);\r\n      return element;\r\n    }\r\n\r\n    let element = React.createElement(type, props, childrenList);\r\n    return element;\r\n  }\r\n}\r\n\r\nexport function copy(content, children) {\r\n  // Element、Children 为React Element\r\n  let type = content.nodeName.toLowerCase();\r\n  let props = attToProps(content);\r\n  let element = React.createElement(type, props, ...children);\r\n  return element;\r\n}\r\n\r\nexport function extractHead(head) {\r\n  /** 提取head中的有用部分，复制，返回列表 */\r\n  let list = [];\r\n  if (!head) return list;\r\n  let base = false;\r\n  for (let i = 0; i < head.childNodes.length; i++) {\r\n    let node = head.childNodes[i];\r\n    let type = node.nodeName;\r\n    // console.log('nodeName', node, node.nodeName)\r\n    // console.log('node src ->', node.href)\r\n\r\n    if (type === \"BASE\") {\r\n      base = true;\r\n    }\r\n\r\n    // 相对链接转换为绝对\r\n    if (node.href) node.href = node.href;\r\n    if (node.src) node.src = node.src;\r\n\r\n    switch (type) {\r\n      case \"LINK\":\r\n        // 黑名单\r\n        if (\r\n          [/manifest/, /icon/].findIndex((value) => value.test(node.rel)) != -1\r\n        )\r\n          break;\r\n\r\n        //白名单\r\n        // if(![/stylesheet/,/preload/].findIndex((value)=>value.test(node.rel))) break;\r\n\r\n        list.push(createElement(type, attToProps(node), node.innerText));\r\n        break;\r\n      case \"STYLE\":\r\n        // list.push(this.createElement(type, this.attToProps(node), node.innerText));\r\n        list.push(<style>{node.innerText}</style>);\r\n        break;\r\n\r\n      case \"SCRIPT\":\r\n        // list.push(<script >{node.innerText}</script>);\r\n        list.push(createElement(\"script\", attToProps(node), node.innerText));\r\n        break;\r\n\r\n      case \"TITLE\":\r\n      // 忽略\r\n      case \"#text\":\r\n      // case \"SCRIPT\":\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  // if(!base)list.push(this.createBaseTag());\r\n  return list;\r\n}\r\n\r\n//提取网页内容摘要\r\nexport function extractAbstract(node) {\r\n  if (!node) return;\r\n  let abstract = {};\r\n  // icon\r\n  let links = node.head.getElementsByTagName(\"link\");\r\n  for (let i = 0; i < links.length; i++) {\r\n    let link = links[i];\r\n    if (!link.rel) continue;\r\n    if (link.rel.indexOf(\"icon\") > 0) {\r\n      abstract.icon = link.href;\r\n      break;\r\n    }\r\n  }\r\n  // title\r\n  let title = \"\";\r\n  let docTitle = node.head.getElementsByTagName(\"title\");\r\n  if (docTitle.length > 0) {\r\n    title = docTitle[0].textContent;\r\n  } else {\r\n    let docH1 = node.body.getElementsByTagName(\"h1\");\r\n    if (docH1.length > 0) {\r\n      title = docH1[0].textContent;\r\n    } else {\r\n    }\r\n  }\r\n  abstract.title = title;\r\n\r\n  // description\r\n  let pTags = node.getElementsByTagName(\"p\");\r\n  let description = \"\";\r\n  for (let i = 0; i < pTags.length; i++) {\r\n    description = description + pTags[i].textContent.trim().slice(0, 200);\r\n    if (description.length >= 200) break;\r\n  }\r\n\r\n  let spanTags = node.getElementsByTagName(\"span\");\r\n  for (let i = 0; i < spanTags.length; i++) {\r\n    description = description + spanTags[i].textContent.trim().slice(0, 200);\r\n    if (description.length >= 200) break;\r\n  }\r\n\r\n  if (!description) description = node.body.textContent.trim().slice(0, 200);\r\n  abstract.des = description;\r\n\r\n  // console.log('摘要 描述',pTags, description);\r\n\r\n  // abstract.url = this.props.app.url;\r\n  // abstract.key = this.props.app.key;\r\n\r\n  return abstract;\r\n}\r\n\r\nexport function createElement(type, props, children) {\r\n  type = type.toLowerCase();\r\n  let element;\r\n\r\n  switch (type) {\r\n    case \"div\":\r\n    case \"span\":\r\n    case \"p\":\r\n      element = React.createElement(type, props, children);\r\n      return element;\r\n    case \"a\":\r\n      element = React.createElement(type, props, children);\r\n      return element;\r\n    // 以下为 empty elements (no children) 的标签\r\n    case \"input\":\r\n      // 存在value属性导致无法输入\r\n      delete props.value;\r\n    case \"img\":\r\n    case \"hr\":\r\n    case \"br\":\r\n    case \"link\":\r\n    case \"wbr\":\r\n    case \"area\":\r\n    case \"base\":\r\n    case \"embed\":\r\n    case \"keygen\":\r\n    case \"meta\":\r\n    case \"param\":\r\n    case \"source\":\r\n    case \"track\":\r\n    case \"menuitem\":\r\n      element = React.createElement(type, props);\r\n      return element;\r\n    // 以下为忽略的标签\r\n    case \"#comment\":\r\n    case \"#document\":\r\n      break;\r\n    case \"script\":\r\n      // return '';\r\n      if (!config.runScript) return \"\";\r\n      // if (props.src) props[\"data-href\"] = props.src;\r\n      // delete props.src;\r\n      props['data-wrp-content-script'] = true;\r\n      element = React.createElement(type, props, children);\r\n      return element;\r\n    // 特殊处理\r\n    case \"svg\":\r\n      element = React.createElement(type, props, children);\r\n      // element.dangerouslySetInnerHTML()\r\n      return element;\r\n    case \"body\":\r\n      element = React.createElement(\"body\", props, children);\r\n      return element;\r\n    case \"col\":\r\n      return <col {...props}></col>;\r\n    case \"textarea\":\r\n      if (children.length > 1)\r\n        console.warn(\r\n          \"React.reactElememt() Error! <textarea> tag only requests one children.\"\r\n        );\r\n      // element = React.createElement('div',props, children[0]);\r\n      element = React.createElement(\"textarea\", props, children[0]);\r\n      return element;\r\n    default:\r\n      try {\r\n        if (type.match(/^\\w*$/)) {\r\n          element = React.createElement(type, props, children);\r\n          return element;\r\n        }\r\n      } catch (e) {\r\n        console.log('React.createElement() Error on create \"', type, '\" tag!');\r\n      }\r\n  }\r\n}\r\n\r\nexport function styleConvert(style) {\r\n  // style = element.style;\r\n  let styleObj = {};\r\n  for (let i = 0; i < style.length; i++) {\r\n    let styleKey = style[i].replace(/-([a-z])/g, (m, g) => g.toUpperCase());\r\n    styleObj[styleKey] = style[style[i]];\r\n  }\r\n  // console.log(\"App.js: styleConvert() style:\", style, \"obj:\", styleObj);\r\n  return styleObj;\r\n}\r\n\r\nexport function attToProps(node) {\r\n  if (!node) return {};\r\n  if (!node.attributes) return {};\r\n  let props = {};\r\n  for (let i = 0; i < node.attributes.length; i++) {\r\n    let att = node.attributes[i];\r\n    let attName = att.name;\r\n    let attValue = att.value;\r\n\r\n    // 转换\r\n    switch (attName) {\r\n      case \"style\":\r\n        attValue = styleConvert(node.style);\r\n        break;\r\n      case \"src\":\r\n      case \"href\":\r\n        // 大多默认为相对路径，需补全链接\r\n        attValue = node[attName];\r\n        break;\r\n      case \"srcset\":\r\n        // Todo scrset 相对路径补全\r\n        // 如何补全相对路径呢？这是一个问题，还有在css中的background-image:url()...\r\n        attName = \"srcSet\";\r\n        attValue = \"\";\r\n        break;\r\n      case \"class\":\r\n        attName = \"className\";\r\n        break;\r\n      case \"for\":\r\n        attName = \"htmlFor\";\r\n        break;\r\n      case \"tabindex\":\r\n        attName = \"tabIndex\";\r\n        break;\r\n      case \"itemprop\":\r\n        attName = \"itemProp\";\r\n        break;\r\n      case \"itemscope\":\r\n        attName = \"itemScope\";\r\n        break;\r\n      case \"itemtype\":\r\n        attName = \"itemType\";\r\n        break;\r\n      case \"nomodule\":\r\n        attName = 'noModule'\r\n        break;\r\n      case \"autocapitalize\":\r\n        attName = \"autoCapitalize\";\r\n        break;\r\n      case \"acceptcharset\":\r\n        attName = \"acceptCharset\";\r\n        break;\r\n      case \"autocomplete\":\r\n        attName = \"autoComplete\";\r\n        break;\r\n      case \"crossorigin\":\r\n        attName = \"crossOrigin\";\r\n        break;\r\n      case \"autocorrect\":\r\n        attName = \"autoCorrect\";\r\n        break;\r\n      case \"onkeypress\":\r\n        attName = \"onKeyPress\";\r\n        break;\r\n      case \"onclick\":\r\n        // React onClick 接受一个函数，html中的值只是文本，怎么办？\r\n        attName = \"onClick\";\r\n        try {\r\n          attValue = new Function(attValue);\r\n        } catch (e) { console.error(e) }\r\n        break;\r\n      case \"spellcheck\":\r\n        attName = \"spellCheck\";\r\n        break;\r\n      case \"playsinline\":\r\n        attName = \"playsInline\";\r\n        break;\r\n      case \"colspan\":\r\n        attName = \"colSpan\";\r\n        break;\r\n      case \"onload\":\r\n        // attName = \"onLoad\"\r\n        try {\r\n          // attValue = new Function(attValue);\r\n        } catch (e) { console.error(e) }\r\n        break;\r\n      case \"maxlength\":\r\n        attName = 'maxLength'\r\n        break\r\n      case \"hreflang\":\r\n        attName = 'hrefLang'\r\n        break;\r\n      case \"xml:space\":\r\n      case \"fill-rule\":\r\n      case \"clip-rule\":\r\n      case \"stroke-linecap\":\r\n      case \"stroke-miterlimit\":\r\n      case \"stroke-width\":\r\n      case \"stroke-linejoin\":\r\n      case \"xmlns:xlink\":\r\n      case \"enable-background\":\r\n      case \"accept-charset\":\r\n        attName = attName.replace(/\\W([a-z])/g, (m, g) => g.toUpperCase());\r\n        break;\r\n      default:\r\n        break\r\n    }\r\n    // attName = attName.replace(/\\W([a-z])/g,(m,g)=>g.toUpperCase());\r\n    props[attName] = attValue;\r\n    if (!config.keepIntegrityAttribute) delete props.integrity;\r\n\r\n  }\r\n  return props;\r\n}\r\n\r\nexport function frontHaveWordEnd(node) {\r\n  /**判断前半部分(node)的末尾是否是单词的末尾， 即判断前半部分(node)的末尾是否有单词分割符（空格等） */\r\n  let children = node;\r\n  let deep = 0;\r\n  while (children) {\r\n    let child = children; // 备份\r\n    if (!this.isInline(children)) return false;\r\n    if (children.nodeName == \"#text\") {\r\n      let text = children.textContent;\r\n      if (/[a-zA-Z0-9_-]/.test(text[text.length - 1])) return true;\r\n      return false;\r\n    }\r\n\r\n    if (!children.lastChild) {\r\n      children = children.previousSibling;\r\n      // deep = deep\r\n    } else {\r\n      children = children.lastChild;\r\n      deep = deep + 1;\r\n    }\r\n\r\n    // 继续向上就不必了吧, 算了， 先写上\r\n    if (!children && deep > 0) {\r\n      children = child.parentNode.previousSibling;\r\n      deep = deep - 1;\r\n    }\r\n  }\r\n}\r\n\r\nexport function behindHaveWordEnd(node) {\r\n  /**判断后半部分（node）的开端是否是单词的开端， 即判断后半部分(node)的开端是否有单词分割符（空格等） */\r\n  let children = node;\r\n  let deep = 0;\r\n  while (children) {\r\n    let child = children;\r\n    if (!isInline(children)) return false;\r\n    if (children.nodeName == \"#text\") {\r\n      let text = children.textContent;\r\n      if (/[a-zA-Z0-9_-]/.test(text[0])) return true;\r\n      return false;\r\n    }\r\n\r\n    if (!children.firstChild) {\r\n      children = children.nextSibling;\r\n      // deep = deep\r\n    } else {\r\n      children = children.firstChild;\r\n      deep = deep + 1;\r\n    }\r\n\r\n    // 继续向上就不必了吧, 算了， 先写上\r\n    if (!children && deep > 0) {\r\n      children = child.parentNode.nextSibling;\r\n      deep = deep - 1;\r\n    }\r\n  }\r\n}\r\n\r\nexport function htmlTraversal(node) {\r\n  if (!node) return [];\r\n  // console.log('htmlTraversal',node,node.nodeName)\r\n  // let ignoreTag = [\"script\",'meta','link','#comment','#document','iframe'];\r\n  // let mostCommon = [\"DIV\",\"P\",\"SPAN\"]\r\n  let type, props, element;\r\n  switch (node.nodeName) {\r\n    case \"#text\":\r\n      return node.textContent;\r\n    case \"#comment\":\r\n    case \"#document\":\r\n    case \"IFRAME\":\r\n      // 忽略\r\n      return [];\r\n    case \"STYLE\":\r\n      // console.log('style tag->',node, node.innerText, node.scoped);\r\n      type = node.nodeName.toLowerCase();\r\n\r\n      props = attToProps(node);\r\n      element = createElement(type, props, node.innerText);\r\n      return element;\r\n    case \"SCRIPT\":\r\n      type = node.nodeName.toLowerCase();\r\n\r\n      props = attToProps(node);\r\n      element = createElement(type, props, node.innerText);\r\n      return element;\r\n    case \"DIV\":\r\n    case \"P\":\r\n    case \"SPAN\":\r\n    case \"A\":\r\n    default:\r\n      let childrenList = [];\r\n      for (let i = 0; i < node.childNodes.length; i++) {\r\n        let children = node.childNodes[i];\r\n        childrenList = childrenList.concat(htmlTraversal(children));\r\n      }\r\n\r\n      type = node.nodeName.toLowerCase();\r\n\r\n      props = attToProps(node);\r\n      element = createElement(type, props, childrenList);\r\n      return element;\r\n  }\r\n}\r\n\r\nexport function replaceScript(attr = 'data-wrp-content-script', value = true) {\r\n  let scriptList = document.querySelectorAll(`[${attr}=${value}]`);\r\n  scriptList.forEach(\r\n    s => {\r\n      let newScript = document.createElement('script');\r\n      for (let a of s.attributes) {\r\n        newScript[a.name] = a.value\r\n      }\r\n      // s.parentNode.replaceChild(newScript, s);\r\n      s.parentNode.appendChild(newScript)\r\n    }\r\n  )\r\n}\r\n\r\n/**\r\n * \r\n * @param {Array} path\r\n * @param {String} action\r\n */\r\nexport function targetActionFilter(path, action, deep = 5) {\r\n  if (!Array.isArray(path)) {\r\n    console.warn('targetActionFilter(path:Node[])')\r\n    return true;\r\n  }\r\n  path = path.slice(0, -3);\r\n  for (let i = path.length - 1, j = Math.max(path.length - deep, 0); i >= j; i--) {\r\n    let blockAttr = path[i].attributes['data-wrp-action-block'];\r\n    if (!blockAttr) continue;\r\n    if (blockAttr.value.split(' ').includes(action)) {\r\n      console.log('filter action:', action);\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\n/**\r\n * \r\n * @param {event} e event\r\n * @param {function} callback function(<a/>)\r\n */\r\nexport function linkIntercept(e, callback) {\r\n  let path = e.path || getPath(e.target);\r\n  for (let i = 0; i < path.length; i++) {\r\n    if (path[i].nodeName !== 'A') continue;\r\n    if (!targetActionFilter(path.slice(i), 'intercept')) continue;\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (callback) callback(path[i]);\r\n  }\r\n}\r\n\r\nexport function calcHash(text) {\r\n  return Math.abs(text.split(\"\").reduce(function (a, b) { a = ((a << 5) - a) + b.charCodeAt(0); return a & a }, 0));\r\n}\r\n\r\nexport function getPath(target) {\r\n  let path = [];\r\n  while (target !== null) {\r\n    path.unshift(target);\r\n    target = target.parentNode;\r\n  }\r\n  return path;\r\n}\r\n\r\nexport function scrollToTop() {\r\n  document.querySelector('html').scrollTop = 0;\r\n}\r\n\r\nexport function cleanDOM() {\r\n\r\n}\r\n","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\reducers\\app.js",["225","226"],"const app = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case \"app/\":\r\n            return {...state, status: action.status}\r\n        case \"app/\":\r\n            // console.log(`reducers app/SETXMLDOC: xmlDoc: ${action.xmlDoc}`)\r\n            return {...state, xmlDoc: action.xmlDoc}\r\n        case \"app/\":\r\n            return {...state, url: action.url}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default app","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\reducers\\webApp.js",[],"C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\reducers\\explanation.js",[],"C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\reducers\\readPanel.js",["227","228"],"\r\n\r\nexport default function (state = {}, action) {\r\n    switch (action.type) {\r\n        case \"readPanel/SETMENUSTYLE\":\r\n            return { ...state, menuStyle: action.style }\r\n            break;\r\n        case \"readPanel/SETTARGET\":\r\n            return { ...state, target: action.target }\r\n        case \"readPanel/SETSHOW\":\r\n            return { ...state, show: action.show }\r\n        default:\r\n            return state;\r\n    }\r\n}","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\reducers\\translate.js",[],"C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\reducers\\a.js",[],"C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\reducers\\other.js",[],"C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\actions\\explanation.js",["229","230"],"import axios from 'axios'\r\nimport { get } from 'lodash'\r\n\r\nimport { extractPart, extractHead } from '../utils/core'\r\n\r\nexport const setWord = (word, coordinate) => ({\r\n    type: \"expl/SETWORD\",\r\n    word: word,\r\n    coordinate: coordinate\r\n})\r\n\r\nexport const setShow = show => ({\r\n    type: \"expl/SETSHOW\",\r\n    show\r\n})\r\n\r\nexport const setData = data => ({\r\n    type: \"expl/SETDATA\",\r\n    data\r\n})\r\n\r\n/** \r\n * 请求接口获取单词释义\r\n *  并 setData, addMore, setExplState\r\n */\r\nexport const loadWordData = word => {\r\n    return dispatch => {\r\n        let url = `https://1773134661611650.cn-shanghai.fc.aliyuncs.com/2016-08-15/proxy/wrp/wrp_server/iciba?w=${\r\n            word.toLowerCase()\r\n        }`\r\n        let timeout = 10000;\r\n        \r\n        return new Promise(async (resolve) => {\r\n            try {\r\n                let res = await axios({ url: url, method: \"get\", timeout: timeout });\r\n                if (res.status === 200) {\r\n                    console.log('res', res, '\\n', res.data)\r\n                    let data = get(res, 'data.data') || {}\r\n                    let more = (data.answer || []).join(';').match(/[a-zA-Z]{3,30}/g) || []\r\n                    console.log('loadWordData', data, more)\r\n                    dispatch(setData(data))\r\n                    dispatch(addMore(more))\r\n                    dispatch(setExplState('completed'))\r\n                    console.log('--end--')\r\n                } else {\r\n                    console.log()\r\n                    throw new Error('request status != 200')\r\n                }\r\n            } catch (e) {\r\n                console.log('loadWordData Error', e);\r\n                dispatch(setExplState('failed'))\r\n            }\r\n            resolve()\r\n        })\r\n    }\r\n}\r\n\r\nexport const setExplState = status => ({\r\n    type: \"expl/SETEXPLSTATE\",\r\n    status\r\n})\r\n\r\nexport const setPlayAudio = audio => ({\r\n    type: \"expl/SETPLAYAUDIO\",\r\n    audio\r\n})\r\n\r\nexport const setZoom = zoom => ({\r\n    type: \"expl/SETZOOM\",\r\n    zoom\r\n})\r\n\r\nexport const addMore = more => {\r\n\r\n    more = [].concat(more)\r\n    more = more.filter(w => typeof w === 'string')\r\n    more = more.map(w => w.toLowerCase())\r\n    return {\r\n        type: \"expl/ADDMORE\",\r\n        more\r\n    }\r\n\r\n}\r\n\r\n/** & addMore */\r\nexport const setMore = more => {\r\n    more = more.filter(w => typeof w === 'string')\r\n    more = more.map(w => w.toLowerCase())\r\n    return {\r\n        type: \"exp/SETMORE\",\r\n        more\r\n    }\r\n}\r\n\r\nexport const setSetting = setting => ({\r\n    type: \"expl/SETSETTING\",\r\n    setting\r\n})\r\n\r\nexport const setMoreFold = isUnfold => ({\r\n    type: \"expl/SETMOREFOLD\",\r\n    isUnfold\r\n})\r\n\r\n","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\actions\\app.js",[],"C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\actions\\translate.js",["231"],"import axios from 'axios';\r\nimport { get } from 'lodash'\r\n\r\nimport { extractPart, calcOffset, selectedText } from '../utils/core'\r\n\r\n// \r\nexport const setShow = value => ({\r\n    type: \"translate/SETSHOW\",\r\n    value\r\n})\r\n\r\n// \r\nexport const setOriginal = original => ({\r\n    type: \"translate/SETORIGINAL\",\r\n    original\r\n})\r\n\r\n// \r\nexport const setStatus = status => ({\r\n    type: \"translate/SETSTATUS\",\r\n    status\r\n})\r\n\r\n// translation = { text:'', elements:[] }\r\nexport const setTranslation = translation => ({\r\n    type: \"translate/SETTRANSLATION\",\r\n    translation\r\n})\r\n\r\nconst nullAction = () => ({\r\n    type: \"\",\r\n})\r\n\r\nexport const slideTranslate = (target, x, y) => {\r\n    let url = \"https://1773134661611650.cn-shanghai.fc.aliyuncs.com/2016-08-15/proxy/wrp/wrp_server/alimt\";\r\n\r\n    let [textTarget, offset] = calcOffset(target, x, y);\r\n\r\n    let part = extractPart(textTarget, offset, 'sentence');\r\n    let sentence = part[0].texts.join('') + part[1].texts.join('');\r\n    sentence = sentence.trim();\r\n\r\n    if (sentence.length < 3) return nullAction();\r\n\r\n    let original = {\r\n        text: sentence,\r\n        elements: [...part[0].elements, ...part[1].elements]\r\n    }\r\n\r\n    selectedText(\r\n        { target: part[0].startTarget, offset: part[0].startOffset },\r\n        { target: part[1].endTarget, offset: part[1].endOffset }\r\n    );\r\n\r\n    return dispatch => {\r\n        dispatch(setShow('half'))\r\n        dispatch(setStatus('loading'))\r\n        dispatch(setOriginal(original))\r\n        let formData = new URLSearchParams()\r\n        formData.append('text', sentence)\r\n        return new Promise(async resolve => {\r\n            try {\r\n                let res = await axios({\r\n                    url: url,\r\n                    method: \"POST\",\r\n                    data: formData\r\n                })\r\n                if (res.status === 200) {\r\n                    console.log('slipTranslate', res)\r\n                    dispatch(setTranslation({\r\n                        text: res.data.Data.Translated,\r\n                        elements: res.data.Data.Translated\r\n                    }))\r\n                    dispatch(setStatus('completed'))\r\n                } else {\r\n                    throw new Error('request status != 200')\r\n                }\r\n            } catch (e) {\r\n                console.log('slip translate error', e)\r\n\r\n            }\r\n            resolve()\r\n        })\r\n    }\r\n}","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\actions\\readPanel.js",[],"C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\components\\a.js",["232"],"import React from 'react'\r\nimport {\r\n    Link,\r\n} from 'react-router-dom'\r\n\r\nimport { connect } from 'react-redux'\r\nimport * as aActions from '../actions/a'\r\nimport * as _ from 'lodash'\r\n\r\n// A 组件目前弃用\r\nfunction A(props) {\r\n\r\n    const handleClick = (e) => {\r\n        e.preventDefault();\r\n        let url = _.get(e, 'currentTarget.attributes.data-src.value');\r\n        if (!url) return;\r\n        props.setHref(url)\r\n        props.setShow(true)\r\n    }\r\n\r\n    let aProps = props.props\r\n    aProps.className = \"wrp-a \" + aProps.className;\r\n    aProps['data-href'] = aProps.href;\r\n    delete aProps.href;\r\n\r\n    return (\r\n        <a {...aProps}\r\n            onClick={handleClick}\r\n        >{props.children}</a>\r\n    );\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    setShow: isShow => {\r\n        dispatch(aActions.setShow(isShow))\r\n    },\r\n    setHref: href => {\r\n        dispatch(aActions.setHref(href))\r\n    }\r\n})\r\n\r\nexport default connect(null, mapDispatchToProps)(A);\r\n\r\n// extension 中a不可以用“/wrp-read?url=...”方式打开新页面\r\n// 怎么兼容 extension 比较好呢 ?\r\n\r\n// 另外如何区分 extension 和 网页的环境呢，是运行时区分，还是build时区分\r\n","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\utils\\touch.js",[],"C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\assets\\explore.js",[],"C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\components\\explanation.js",["233","234","235","236","237","238","239","240","241","242","243","244"],"import React from 'react'\r\n\r\nimport Switch from './explanation/switch';\r\n\r\n// import './explanation.scss';\r\n/* eslint import/no-webpack-loader-syntax: off */\r\nimport styles from '!!raw-loader!sass-loader!./explanation.scss';\r\n\r\n\r\nimport arrow_icon from \"./res/explainBoxArrow.svg\";\r\nimport audio_icon from \"./res/audio.svg\";\r\nimport star_icon from \"./res/star.svg\";\r\nimport menu_icon from \"./res/more.svg\";\r\nimport open_icon from './res/open.svg';\r\nimport arrowShadow_icon from './res/arrowShadow.png'\r\n\r\nconst calcFontSize = (size, maxNumber, text) => {\r\n    /**size:初始字符大小, maxNumber:初始字符大小下可以显示的最大字符, text：当前字符 */\r\n    if (!text) return size;\r\n    if (text.length <= maxNumber) return size;\r\n    return size * maxNumber / text.length;\r\n}\r\n\r\nconst calcPosition = (coordinate, zoom = 0) => {\r\n    const ew = 17;                  // em explanation width 宽度\r\n    const eh = 8;                   // em explanation height 高度\r\n    const aw = 2.8;                 // em arrow width 三角箭头宽度\r\n    const ah = 2.8;                 // em arrow height 三角箭头高度\r\n    const topDistance = 12;         // em 顶部距离小于topDistance时,expainPanel显示在单词下方\r\n    const wordDistance = 3;         // em expainPanel距离单词的距离\r\n    const edgeDistance = 1;         // em 最小左右边距\r\n    const arrowOverlapping = 0.1;   // 箭头和框的重叠距离\r\n    const remRatioPx = 14;          // 1 rem = 16 px\r\n\r\n    let position = {};\r\n    let arrowPosition = {};\r\n    if (!coordinate) return { position, arrowPosition }\r\n    if (typeof (zoom) !== 'number') zoom = 0;\r\n    let x = coordinate.x, y = coordinate.y, clientY = coordinate.clientY;\r\n    let vw = window.innerWidth, vh = window.innerHeight;\r\n\r\n    let ratio = remRatioPx + remRatioPx * zoom;\r\n\r\n    //纵向位置 Vertical position\r\n    if (clientY >= topDistance * ratio) {\r\n        // expainPanel显示在单词上方\r\n        position.top = `calc(${y}px - ${eh}em - ${wordDistance}em)`;\r\n        // arrowStyle.transform = 'rotate(180deg)'\r\n        arrowPosition.top = `${eh - ah / 2 - arrowOverlapping}em`\r\n    } else {\r\n        // expainPanel显示在单词下方\r\n        position.top = `calc(${y}px + ${wordDistance}em)`;\r\n        arrowPosition.top = `-${ah / 2 - arrowOverlapping}em`;\r\n        // arrowStyle.transform = 'rotate(0deg)';\r\n    }\r\n\r\n    // 横向位置 Horizontal position\r\n    if (x >= vw - (ew / 2 + edgeDistance) * ratio) {\r\n        // 单词位置靠右边框\r\n        position.left = `calc(${vw}px - ${ew}em - ${edgeDistance}em)`;\r\n        // 太偏右 调整\r\n        if ((vw - x) < (edgeDistance * ratio + aw / 2 * ratio)) x = vw - (edgeDistance * ratio + aw / 2 * ratio);\r\n        arrowPosition.left = `calc(${x - vw}px + ${ew + edgeDistance - aw / 2}em)`;\r\n    } else if (x <= (ew / 2 + edgeDistance) * ratio) {\r\n        // 单词位置靠左边框\r\n        position.left = `${edgeDistance}em`;\r\n        // 太偏左 调整\r\n        if (x < (edgeDistance * ratio + aw / 2 * ratio)) x = edgeDistance * ratio + aw / 2 * ratio;\r\n        arrowPosition.left = `calc(${x}px - ${edgeDistance + aw / 2}em)`;\r\n    } else {\r\n        // 中间\r\n        position.left = `calc(${x}px - ${ew / 2}em)`;\r\n        arrowPosition.left = `${ew / 2 - aw / 2}em`;\r\n    }\r\n\r\n    return { position, arrowPosition };\r\n}\r\n\r\nconst playingWhich = (data, value, auto) => {\r\n    let autoPlay = [false, false, false];\r\n    if (auto === false) return autoPlay;\r\n    // debugger\r\n    switch (value) {\r\n        case 'us':\r\n            if (data.audioUS) autoPlay[0] = true; break;\r\n            if (data.audioUK) autoPlay[1] = true; break;\r\n            if (data.audio) autoPlay[2] = true; break;\r\n        case 'uk':\r\n            if (data.audioUK) autoPlay[1] = true; break;\r\n            if (data.audioUS) autoPlay[0] = true; break;\r\n            if (data.audio) autoPlay[2] = true; break;\r\n        case 'tts':\r\n            if (data.audio) autoPlay[2] = true; break;\r\n            if (data.audioUS) autoPlay[0] = true; break;\r\n            if (data.audioUK) autoPlay[1] = true; break;\r\n        default:\r\n            if (data.audioUS) {\r\n                autoPlay[0] = true;\r\n                break;\r\n            }\r\n            if (data.audioUK) {\r\n                autoPlay[1] = true;\r\n                break;\r\n            }\r\n            if (data.audio) {\r\n                autoPlay[2] = true;\r\n                break;\r\n            }\r\n    }\r\n    return autoPlay;\r\n}\r\n\r\nconst answerFormat = answer => {\r\n    // answer = [[\"n.\", \"开关\"],[\"vt.\", \"转变\"]]\r\n    if (!answer) return '';\r\n    return answer.map(value => (<dt><b>{value[0]}</b>{value[1]}</dt>))\r\n}\r\n\r\nconst Explanation = ({\r\n    explanation,\r\n    setSetting,\r\n    setMoreFold,\r\n    loadWordData,\r\n    setZoom\r\n}) => {\r\n\r\n    const Loading = (\r\n        <div className=\"wrp-ep-other-content\">\r\n            <div className=\"wrp-icon\">\r\n                <div className=\"wrp-loading-icon\">\r\n                    <div /> <div />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const nothing = (\r\n        <div className=\"wrp-ep-other-content\">\r\n            <div className=\"wrp-icon\">\r\n                <svg t=\"1600868218467\" viewBox=\"0 0 1024 1024\" width=\"100%\" height=\"100%\"><defs><style type=\"text/css\"></style></defs><path d=\"M861.140992 694.10816c-3.49184-31.456256-17.475584-48.93184-17.475584-52.427776 0-3.49696-6.987776-3.49696-10.484736-3.49696-3.495936 3.49696-3.495936 6.992896-3.495936 13.980672 0 0 10.488832 17.475584 13.980672 45.44 3.495936 34.952192-6.987776 66.407424-31.456256 97.867776-27.96032 31.456256-69.904384 48.93184-129.324032 48.93184-20.97152 0-41.944064-3.495936-55.923712-3.495936 3.495936 0 3.495936-3.495936 6.991872-3.495936 10.483712-6.987776 17.475584-17.475584 20.967424-31.456256 6.992896-13.979648 10.488832-31.455232 10.488832-52.427776 0-48.93184 13.979648-83.888128 41.944064-101.363712 34.951168-27.96032 87.379968-10.483712 87.379968-10.483712h3.495936c-6.992896 13.979648-10.488832 27.959296-17.476608 38.447104-20.97152 34.952192-38.448128 55.924736-38.448128 59.420672-3.495936 3.49184-3.495936 10.483712 0 13.979648 3.495936 3.495936 10.484736 3.495936 13.980672 0 0 0 20.97152-24.467456 41.944064-59.419648 10.483712-20.972544 20.97152-41.944064 27.959296-62.916608 6.991872-24.46336 13.984768-48.93184 13.984768-73.399296 0-3.492864-3.495936-10.484736-10.488832-10.484736-3.495936 0-10.483712 3.495936-10.483712 10.484736 0 27.963392-6.991872 52.431872-13.983744 76.895232l-3.49184-3.495936s-13.984768-3.49184-34.952192-3.49184c-27.964416 0-48.935936 6.987776-66.412544 17.476608-31.455232 20.97152-45.44 59.419648-48.93184 115.34336 0 31.456256-10.487808 55.923712-27.963392 69.904384-10.484736 10.483712-24.46848 13.979648-24.46848 13.979648-3.49184 0-6.987776 3.495936-6.987776 6.991872 0 3.49184 3.495936 6.9888 6.987776 10.484736 0 0 38.448128 10.487808 83.888128 10.487808 27.964416 0 52.427776-3.495936 73.40032-10.487808 27.963392-10.484736 49.874944-26.417152 66.41152-45.436928C838.996992 797.696 851.456 777.728 856.832 756.992c2.866176-11.057152 7.2192-44.544 4.308992-62.88384z m-69.904384-531.279872c0-3.492864-3.495936-10.484736-6.987776-10.484736-3.495936 0-10.487808 3.495936-10.487808 6.991872-10.483712 59.416576-101.359616 171.264-199.227392 227.188736 3.495936-20.968448 0-41.939968-3.49696-55.924736-10.483712-38.444032-38.447104-66.407424-76.895232-73.399296-48.93184-10.484736-87.379968 10.487808-108.352512 48.935936-17.475584 34.952192-13.979648 73.40032 6.987776 97.867776 31.460352 34.952192 76.896256 41.939968 132.819968 24.464384 6.992896-3.495936 17.476608-6.9888 24.46848-10.484736-10.483712 31.456256-31.456256 66.408448-66.408448 94.372864-115.34336 97.867776-269.135872 118.8352-314.575872 118.8352-3.49184 0-10.483712 3.495936-10.483712 10.488832 0 6.987776 3.495936 10.483712 10.483712 10.483712 48.935936 0 206.220288-20.972544 325.060608-125.828096 45.44-38.448128 66.41152-80.392192 76.895232-118.84032 104.856576-52.427776 209.716224-174.759936 220.199936-244.667392zM553.561088 397.011968c-10.487808 6.991872-24.46848 10.483712-34.952192 13.979648-48.935936 13.980672-87.384064 6.991872-115.34336-20.97152-17.476608-17.476608-17.476608-48.93184-3.495936-76.896256 13.979648-27.96032 41.94304-41.939968 69.90336-41.939968h17.476608c31.459328 6.987776 52.431872 27.96032 62.915584 59.415552 6.991872 20.972544 6.991872 41.944064 3.495936 66.412544z m0 0\" fill=\"#999999\" p-id=\"28413\"></path></svg>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    const renderMore = (moreList, unfold) => {\r\n        let list = [];\r\n        if (!Array.isArray(moreList)) return list;\r\n        if (unfold) {\r\n            // Expanded state\r\n            list = moreList.map(word => {\r\n                return (<span onClick={() => loadWordData(word)}>{word}</span>)\r\n            });\r\n            list.push(\r\n                <span\r\n                    className=\"unfold-button\"\r\n                    onClick={() => setMoreFold()}\r\n                >{`<`}</span>\r\n            );\r\n        } else {\r\n            // Folded state\r\n            if (moreList.length >= 1) {\r\n                list.push(<span onClick={() => loadWordData(moreList[0])}>{moreList[0]}</span>)\r\n            }\r\n            if (moreList.length > 1) {\r\n                list.push(\r\n                    <span\r\n                        className=\"unfold-button\"\r\n                        onClick={() => setMoreFold()}\r\n                    >{`<`}</span>\r\n                )\r\n            }\r\n        }\r\n        return list;\r\n    }\r\n\r\n    let { position, arrowPosition } = calcPosition(explanation.coordinate, explanation.zoom)\r\n    let data = explanation.data || {}\r\n    let setting = explanation.setting || {}\r\n    let autoPlay = playingWhich(data, setting.playWhich, setting.autoPlay)\r\n    let more = explanation.more || [];\r\n    let zoom = { fontSize: `${14 + explanation.zoom}px` }\r\n\r\n    return (\r\n        <div\r\n            id=\"wrp-ep\"\r\n            className={`explain-panel ${explanation.show ? '' : 'explain-hidden'}`}\r\n            style={{ ...position, ...zoom }}\r\n            data-wrp-action-block=\"tapword\"\r\n        >\r\n            <style>{styles}</style>\r\n            <div\r\n                className=\"wrp-ep-arrow-container\"\r\n                style={arrowPosition}\r\n            >\r\n                <div className=\"wrp-ep-arrow\"></div>\r\n            </div>\r\n            <div className=\"wrp-explain-content\">\r\n                <div className=\"wrp-ep-title\">\r\n                    <div className=\"wrp-title-left\">\r\n                        <h3 className=\"wrp-title-word\"\r\n                            style={{ fontSize: `${calcFontSize(1.2, 11, data.word || explanation.word)}em` }}>\r\n                            {data.word || explanation.word}\r\n                        </h3>\r\n                        {\r\n                            data.audioUS ? (\r\n                                <div className=\"title-tts\" onClick={() => document.getElementById(\"a-us\").play()}>\r\n                                    <div className=\"\" >US</div>\r\n                                    <svg\r\n                                        className=\"title-audio\"\r\n                                        // style={autoPlay[0]?playingStyle:{}}\r\n                                        fill=\"var(--t-fore-c)\"\r\n                                        viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M541.2 132.3c-7.2-3.3-15.2-5-23.3-5-13.9 0-26.8 5.1-36.5 14.4L280.6 312.4h-158c-11.5 0-23.9 3.9-33.6 10.4h-4l-8.7 9.2c-7.5 7.9-12.2 20.8-12.2 33.8v290.7c0 15 6.7 31.4 16.9 41.6 10.2 10.3 26.6 16.9 41.6 16.9h158.2l200.7 165.6c8.4 7.9 23.3 16 35.6 16 5.6 0 16.5 0 27.1-8 10-4.2 17.8-10.4 23.1-18.6 5.7-8.6 8.4-19.1 8.4-32V184c0-12.9-2.8-23.4-8.4-32-5.8-9-14.6-15.6-26.1-19.7z m-24.8 57.4v642.9L310.2 662.5l-8.2-6.8v0.1H123.3V371.7h179l214.1-182zM899.3 300c-20.9-32.7-46.5-61.1-75.9-84.2l-0.1-0.1c-1.3-1.1-2.2-1.8-2.9-2.4-4.5-2.8-9.6-4.3-15.1-4.3-10.3 0-21.6 5.3-31.1 14.5l-0.1 0.1c-8.4 13.5-3.9 35.9 9 45.2l0.1 0.1c6.1 2.5 14.7 9.7 20.8 15.4 9.4 8.7 23.6 23.7 38.1 45.6 24.3 36.8 53.3 99.7 53.3 190.8 0 91-27.4 153.9-50.3 190.6-13.7 22-27.2 36.9-36.1 45.6-8.6 8.3-15.3 13.5-20.1 15.5l-0.1 0.1c-13.9 9.8-17.2 28.6-8.1 46.7 3.8 7.7 17.2 12.9 27.3 12.9 3.8 0 13.9 0 17.4-3.5 0.7-0.7 1.5-1.4 3.3-2.8 28.1-22.9 52.6-51 72.7-83.8 38.8-63.2 58.5-137.6 58.5-221.4 0-83.4-20.4-157.6-60.6-220.6z\" p-id=\"778\"></path><path d=\"M752.7 376.7c-23.8-27.4-48.4-40.2-53.7-42.1h-1.6l-1.9-1.3c-3.2-2.2-7.4-3.3-12-3.3-11.9 0-24.9 7.6-27.8 16.4l-0.3 1-0.6 0.9c-3.8 5.8-4.3 14.2-1.4 22.7 2.9 8.4 8.6 15.1 14.6 17.1l0.6 0.2 0.6 0.3c0.7 0.4 17.2 9.5 33.6 29.7 15.1 18.5 33.1 50.3 33.1 96.7 0 96.6-54.4 128.5-60.7 131.9-13.8 9.4-23 27.9-14.6 40.4l0.3 0.4 0.2 0.5c4.3 8.7 18.9 18.6 27.3 18.6 5.5 0 8.4-0.1 11.7-3.8l2.2-2.2H704.7c6.2-2.3 28.7-15.6 50.6-44.2 20.6-26.9 45.1-74.4 45.1-147.4 0-64.2-25.9-107.5-47.7-132.5z\" p-id=\"779\"></path></svg>\r\n                                    <audio id=\"a-us\" key={data.audioUS} src={data.audioUS} autoPlay={autoPlay[0]} ></audio>\r\n                                </div>)\r\n                                :\r\n                                ''\r\n                        }\r\n                        {\r\n                            data.audioUK ? (\r\n                                <div className=\"title-tts\" onClick={() => document.getElementById(\"a-uk\").play()}>\r\n                                    <div className=\"\" >UK</div>\r\n                                    <svg\r\n                                        className=\"title-audio\"\r\n                                        // style={autoPlay[1]?playingStyle:{}}\r\n                                        fill=\"var(--t-fore-c)\"\r\n                                        viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M541.2 132.3c-7.2-3.3-15.2-5-23.3-5-13.9 0-26.8 5.1-36.5 14.4L280.6 312.4h-158c-11.5 0-23.9 3.9-33.6 10.4h-4l-8.7 9.2c-7.5 7.9-12.2 20.8-12.2 33.8v290.7c0 15 6.7 31.4 16.9 41.6 10.2 10.3 26.6 16.9 41.6 16.9h158.2l200.7 165.6c8.4 7.9 23.3 16 35.6 16 5.6 0 16.5 0 27.1-8 10-4.2 17.8-10.4 23.1-18.6 5.7-8.6 8.4-19.1 8.4-32V184c0-12.9-2.8-23.4-8.4-32-5.8-9-14.6-15.6-26.1-19.7z m-24.8 57.4v642.9L310.2 662.5l-8.2-6.8v0.1H123.3V371.7h179l214.1-182zM899.3 300c-20.9-32.7-46.5-61.1-75.9-84.2l-0.1-0.1c-1.3-1.1-2.2-1.8-2.9-2.4-4.5-2.8-9.6-4.3-15.1-4.3-10.3 0-21.6 5.3-31.1 14.5l-0.1 0.1c-8.4 13.5-3.9 35.9 9 45.2l0.1 0.1c6.1 2.5 14.7 9.7 20.8 15.4 9.4 8.7 23.6 23.7 38.1 45.6 24.3 36.8 53.3 99.7 53.3 190.8 0 91-27.4 153.9-50.3 190.6-13.7 22-27.2 36.9-36.1 45.6-8.6 8.3-15.3 13.5-20.1 15.5l-0.1 0.1c-13.9 9.8-17.2 28.6-8.1 46.7 3.8 7.7 17.2 12.9 27.3 12.9 3.8 0 13.9 0 17.4-3.5 0.7-0.7 1.5-1.4 3.3-2.8 28.1-22.9 52.6-51 72.7-83.8 38.8-63.2 58.5-137.6 58.5-221.4 0-83.4-20.4-157.6-60.6-220.6z\" p-id=\"778\"></path><path d=\"M752.7 376.7c-23.8-27.4-48.4-40.2-53.7-42.1h-1.6l-1.9-1.3c-3.2-2.2-7.4-3.3-12-3.3-11.9 0-24.9 7.6-27.8 16.4l-0.3 1-0.6 0.9c-3.8 5.8-4.3 14.2-1.4 22.7 2.9 8.4 8.6 15.1 14.6 17.1l0.6 0.2 0.6 0.3c0.7 0.4 17.2 9.5 33.6 29.7 15.1 18.5 33.1 50.3 33.1 96.7 0 96.6-54.4 128.5-60.7 131.9-13.8 9.4-23 27.9-14.6 40.4l0.3 0.4 0.2 0.5c4.3 8.7 18.9 18.6 27.3 18.6 5.5 0 8.4-0.1 11.7-3.8l2.2-2.2H704.7c6.2-2.3 28.7-15.6 50.6-44.2 20.6-26.9 45.1-74.4 45.1-147.4 0-64.2-25.9-107.5-47.7-132.5z\" p-id=\"779\"></path></svg>\r\n                                    <audio id=\"a-uk\" key={data.audioUK} src={data.audioUK} autoPlay={autoPlay[1]} ></audio>\r\n                                </div>)\r\n                                :\r\n                                \"\"\r\n                        }\r\n                        {\r\n                            (!data.audioUK || !data.audioUS && data.audio) ? (\r\n                                <div className=\"title-tts\" onClick={() => document.getElementById(\"a-tts\").play()}>\r\n                                    <svg\r\n                                        className=\"title-audio\"\r\n                                        // style={autoPlay[2]?playingStyle:{}}\r\n                                        fill=\"var(--t-fore-c)\"\r\n                                        viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M541.2 132.3c-7.2-3.3-15.2-5-23.3-5-13.9 0-26.8 5.1-36.5 14.4L280.6 312.4h-158c-11.5 0-23.9 3.9-33.6 10.4h-4l-8.7 9.2c-7.5 7.9-12.2 20.8-12.2 33.8v290.7c0 15 6.7 31.4 16.9 41.6 10.2 10.3 26.6 16.9 41.6 16.9h158.2l200.7 165.6c8.4 7.9 23.3 16 35.6 16 5.6 0 16.5 0 27.1-8 10-4.2 17.8-10.4 23.1-18.6 5.7-8.6 8.4-19.1 8.4-32V184c0-12.9-2.8-23.4-8.4-32-5.8-9-14.6-15.6-26.1-19.7z m-24.8 57.4v642.9L310.2 662.5l-8.2-6.8v0.1H123.3V371.7h179l214.1-182zM899.3 300c-20.9-32.7-46.5-61.1-75.9-84.2l-0.1-0.1c-1.3-1.1-2.2-1.8-2.9-2.4-4.5-2.8-9.6-4.3-15.1-4.3-10.3 0-21.6 5.3-31.1 14.5l-0.1 0.1c-8.4 13.5-3.9 35.9 9 45.2l0.1 0.1c6.1 2.5 14.7 9.7 20.8 15.4 9.4 8.7 23.6 23.7 38.1 45.6 24.3 36.8 53.3 99.7 53.3 190.8 0 91-27.4 153.9-50.3 190.6-13.7 22-27.2 36.9-36.1 45.6-8.6 8.3-15.3 13.5-20.1 15.5l-0.1 0.1c-13.9 9.8-17.2 28.6-8.1 46.7 3.8 7.7 17.2 12.9 27.3 12.9 3.8 0 13.9 0 17.4-3.5 0.7-0.7 1.5-1.4 3.3-2.8 28.1-22.9 52.6-51 72.7-83.8 38.8-63.2 58.5-137.6 58.5-221.4 0-83.4-20.4-157.6-60.6-220.6z\" p-id=\"778\"></path><path d=\"M752.7 376.7c-23.8-27.4-48.4-40.2-53.7-42.1h-1.6l-1.9-1.3c-3.2-2.2-7.4-3.3-12-3.3-11.9 0-24.9 7.6-27.8 16.4l-0.3 1-0.6 0.9c-3.8 5.8-4.3 14.2-1.4 22.7 2.9 8.4 8.6 15.1 14.6 17.1l0.6 0.2 0.6 0.3c0.7 0.4 17.2 9.5 33.6 29.7 15.1 18.5 33.1 50.3 33.1 96.7 0 96.6-54.4 128.5-60.7 131.9-13.8 9.4-23 27.9-14.6 40.4l0.3 0.4 0.2 0.5c4.3 8.7 18.9 18.6 27.3 18.6 5.5 0 8.4-0.1 11.7-3.8l2.2-2.2H704.7c6.2-2.3 28.7-15.6 50.6-44.2 20.6-26.9 45.1-74.4 45.1-147.4 0-64.2-25.9-107.5-47.7-132.5z\" p-id=\"779\"></path></svg>\r\n                                    <audio id=\"a-tts\" key={data.audio} src={data.audio} autoPlay={autoPlay[2]}></audio>\r\n                                </div>\r\n                            )\r\n                                :\r\n                                \"\"\r\n                        }\r\n\r\n                    </div>\r\n                    <div>\r\n                        <svg\r\n                            className=\"wrp-title-button\"\r\n                            style={{ display: 'none' }}\r\n                            fill=\"var(--t-fore-c)\"\r\n                            viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\" ><defs><style type=\"text/css\"></style></defs><path d=\"M1009.562 454.103c-72.264 88.023-200.049 233.339-200.049 233.339s20.9 159.55 32.614 268.534c5.09 55.51-34.928 79.513-80.25 57.876-86.242-43.325-217.478-110.448-247-125.573-30.044 14.97-162.6 80.988-249.733 124.211-45.844 21.586-86.343-2.416-81.193-57.825 11.869-108.82 32.983-268.216 32.983-268.216S87.685 541.44 14.582 453.529c-25.836-31.928-9.247-77.311 41.697-85.657 103.885-19.64 264.909-50.944 264.909-50.944s88.074-162.335 143.8-261.755C495.657-5.325 516.874 1.66 520.5 3.441c9.452 3.256 24.371 15.022 43.848 51.783 55.091 99.574 142.172 262.124 142.172 262.124s159.13 31.304 261.806 50.995c50.33 8.397 66.765 53.832 41.237 85.76z\" p-id=\"3336\"></path></svg>\r\n                        <svg\r\n                            className={`wrp-title-button ${setting.show ? \"expl-menu-show\" : \"expl-menu-hidden\"}`}\r\n                            onClick={() => { setSetting({ show: !setting.show }) }}\r\n                            fill=\"var(--t-fore-c)\"\r\n                            viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M415.93 223.79c0-52.98 43.004-95.984 95.984-95.984s95.984 43.004 95.984 95.984-43.004 95.984-95.984 95.984-95.984-43.003-95.984-95.984zM415.93 511.742c0-52.98 43.004-95.984 95.984-95.984s95.984 43.004 95.984 95.984-43.004 95.984-95.984 95.984-95.984-43.004-95.984-95.984zM415.93 799.866c0-52.98 43.004-95.984 95.984-95.984s95.984 43.003 95.984 95.984-43.004 95.983-95.984 95.983-95.984-43.175-95.984-95.983z\" p-id=\"4126\"></path></svg>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"wrp-ep-content\">\r\n                    <dl style={explanation.menuBgStyle}>\r\n                        {explanation.status === 'completed' ? answerFormat(data.answer) : Loading}\r\n                        {(explanation.status === 'completed' && !data.answer) ? nothing : ''}\r\n                    </dl>\r\n                    <div className={`more-word-contanier ${explanation.unfoldMore ? 'more-unfold' : ''}`}>\r\n                        {renderMore(more, explanation.unfoldMore)}\r\n                    </div>\r\n                    {/* MENU 更多 菜单 */}\r\n                    <div className={`wrp-ep-menu ${setting.show ? \"wrp-expl-menu-show\" : \"\"}`} >\r\n                        <div>\r\n                            <span>Auto Speech</span>\r\n                            <Switch\r\n                                defaultValue={setting.autoPlay !== false}\r\n                                onChange={(status) => setSetting({ autoPlay: status })}\r\n                            ></Switch>\r\n                        </div>\r\n                        <div>\r\n                            <span>Speech US</span>\r\n                            <Switch\r\n                                defaultValue={setting.playWhich ? setting.playWhich === 'us' : true}\r\n                                onChange={(status) => setSetting({ playWhich: status ? 'us' : 'uk' })}\r\n                            ></Switch>\r\n                        </div>\r\n                        <svg className=\"menu-button\" onClick={() => setZoom(1)} fill=\"var(--t-fore-c)\" viewBox=\"0 0 1024 1024\" version=\"1.1\" p-id=\"2685\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M592 400l-128 0 0-128c0-19.2-12.8-32-32-32s-32 12.8-32 32l0 128-128 0c-19.2 0-32 12.8-32 32s12.8 32 32 32l128 0 0 128c0 19.2 12.8 32 32 32s32-12.8 32-32l0-128 128 0c19.2 0 32-12.8 32-32S611.2 400 592 400z\" p-id=\"2686\"></path><path d=\"M950.4 905.6l-236.8-236.8c54.4-64 86.4-147.2 86.4-236.8C800 227.2 636.8 64 432 64 227.2 64 64 227.2 64 432 64 636.8 227.2 800 432 800c89.6 0 172.8-32 236.8-86.4l236.8 236.8c6.4 6.4 16 9.6 22.4 9.6s16-3.2 22.4-9.6C963.2 937.6 963.2 918.4 950.4 905.6zM432 736C265.6 736 128 598.4 128 432 128 265.6 265.6 128 432 128c166.4 0 304 137.6 304 304C736 598.4 598.4 736 432 736z\" p-id=\"2687\"></path></svg>\r\n                        <svg className=\"menu-button\" onClick={() => setZoom(-1)} fill=\"var(--t-fore-c)\" viewBox=\"0 0 1024 1024\" version=\"1.1\" p-id=\"2556\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M592 400l-320 0c-19.2 0-32 12.8-32 32s12.8 32 32 32l320 0c19.2 0 32-12.8 32-32S611.2 400 592 400z\" p-id=\"2557\"></path><path d=\"M950.4 905.6l-236.8-236.8c54.4-64 86.4-147.2 86.4-236.8C800 227.2 636.8 64 432 64 227.2 64 64 227.2 64 432 64 636.8 227.2 800 432 800c89.6 0 172.8-32 236.8-86.4l236.8 236.8c6.4 6.4 16 9.6 22.4 9.6s16-3.2 22.4-9.6C963.2 937.6 963.2 918.4 950.4 905.6zM432 736C265.6 736 128 598.4 128 432 128 265.6 265.6 128 432 128c166.4 0 304 137.6 304 304C736 598.4 598.4 736 432 736z\" p-id=\"2558\"></path></svg>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Explanation","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\containers\\webApp.js",["245","246","247","248","249","250","251","252","253"],"C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\containers\\App.js",["254","255","256","257","258"],"import React, { useEffect, useRef } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport * as actions from '../actions/app';\r\nimport * as explActions from '../actions/explanation';\r\nimport * as transActions from '../actions/translate';\r\nimport * as aActions from '../actions/a';\r\nimport * as rpActions from '../actions/readPanel';\r\n\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport './App.scss';\r\n\r\nimport ManageExplanation, { tapWord } from './ManageExplanation';\r\nimport ManageTranslatePanel from './ManageTranslatePanel';\r\nimport A from '../components/a';\r\nimport AModal from '../components/AModal'\r\n// import { ToolMenu } from '../components/readPanel';\r\nimport ToolMenu from './ToolMenu'\r\n\r\nimport Shadow from './Shadow'\r\n\r\nimport {\r\n    extractPart,\r\n    targetActionFilter,\r\n    linkIntercept,\r\n    getPath,\r\n    scrollToTop\r\n} from '../utils/core';\r\nimport Touch, { Tap, MouseMove } from '../utils/touch';\r\n\r\nfunction App(props) {\r\n\r\n    const rootRef = useRef()\r\n\r\n    const hiddenSomeone = function (name) {\r\n        let names = name.split(' ');\r\n        names.map((name) => {\r\n            switch (name) {\r\n                case \"explainPanel\":\r\n                    this.props.setExplShow(false);\r\n                    break;\r\n                case \"linkDialog\":\r\n                    this.props.setAShow(false)\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        })\r\n    }\r\n\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n\r\n        const tapOptions = {\r\n            count: 3,\r\n            callback: () => {\r\n                console.log('连按3次')\r\n                history.push('/wrp-home')\r\n                scrollToTop();\r\n            }\r\n        }\r\n        const tap = new Tap(tapOptions);\r\n        const onClick = function (e) {\r\n            // console.log('window onClick e', e)\r\n            // action filter\r\n            if (targetActionFilter(e.path || getPath(e.target), 'tapword'))\r\n                props.tapWord(e);\r\n            // intercept open new page\r\n            linkIntercept(e, props.tapA);\r\n            tap.tap(e);\r\n            props.hiddenToolMenu();\r\n        }\r\n\r\n        const touch = new Touch();\r\n        const onTouchStart = function (e) {\r\n            // console.log('window onTouchStart', e)\r\n        }\r\n        touch.setOnStart(onTouchStart)\r\n        const onTouchMove = function (touch, e) {\r\n            // console.log('window onTouchMove', e)\r\n        }\r\n        touch.setOnMoving(onTouchMove)\r\n        const onTouchEnd = function (touch, e) {\r\n            console.log('window onTouchEnd', touch, e)\r\n            if (\r\n                Math.abs(touch.sumX) > 50 &&\r\n                Math.abs(touch.sumY) < 15\r\n            ) {\r\n                console.log('translate', touch)\r\n                props.slideTranslate(touch.target, touch.startX, touch.startY)\r\n            }\r\n\r\n            if (\r\n                touch.duration > 800 &&\r\n                touch.duration < 1200 &&\r\n                Math.abs(touch.sumX) < 8 &&\r\n                Math.abs(touch.sumY) < 5\r\n            ) {\r\n                if (targetActionFilter(e.path, 'toolmenu'))\r\n                    props.showToolMenu(touch.target, touch.startX, touch.startY)\r\n            }\r\n        }\r\n        touch.setOnEnd(onTouchEnd)\r\n\r\n        const mouseMove = new MouseMove({ button: [2] })\r\n        let preventContextMenu = false;\r\n\r\n        mouseMove.setOnEnd((move, e) => {\r\n            if (\r\n                Math.abs(move.sumX) > 50 &&\r\n                Math.abs(move.sumY) < 15\r\n            ) {\r\n                props.slideTranslate(move.target, move.startX, move.startY)\r\n                preventContextMenu = true\r\n            }\r\n\r\n            if (\r\n                touch.duration > 800 &&\r\n                touch.duration < 1200 &&\r\n                Math.abs(touch.sumX) < 8 &&\r\n                Math.abs(touch.sumY) < 5\r\n            ) {\r\n                if (targetActionFilter(e.path, 'toolmenu')) {\r\n                    props.showToolMenu(touch.target, touch.startX, touch.startY)\r\n                    preventContextMenu = true\r\n                }\r\n            }\r\n        })\r\n\r\n        const onContextMenu = (e) => {\r\n            if (preventContextMenu === true) {\r\n                preventContextMenu = false\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                return false\r\n            }\r\n        }\r\n\r\n        let scrolling = false\r\n        let timestamp = 0;\r\n        let scrollTop = 0;\r\n        let scrollOffset = 0;\r\n        /**\r\n         * 连续滚动时长超过300ms 触发\r\n         * \r\n         * @param {*} e \r\n         */\r\n        const onScroll = function (e) {\r\n            // console.log('-')\r\n            if (scrolling) return;\r\n\r\n            scrolling = true;\r\n            setTimeout(() => {\r\n                scrolling = false;\r\n                timestamp = Date.now();\r\n                scrollOffset = document.documentElement.scrollTop - scrollTop\r\n                if (Math.abs(scrollOffset) > 50) {\r\n                    props.setExplShow(false);\r\n                    props.setAShow(false);\r\n                };\r\n            }, 300);\r\n\r\n            // console.log(Date.now() - timestamp, e)\r\n            if (Date.now() - timestamp < 20) {\r\n                props.setExplShow(false);\r\n                props.setAShow(false);\r\n            }\r\n            props.hiddenToolMenu();\r\n            scrollTop = document.documentElement.scrollTop;\r\n        }\r\n        const touchEventCapture = true;\r\n        window.addEventListener('click', onClick, true)\r\n        // { passive: false }\r\n        window.addEventListener('touchstart', touch.start, { capture: touchEventCapture, passive: false });\r\n        window.addEventListener('touchmove', touch.move);\r\n        window.addEventListener('touchend', touch.end);\r\n        window.addEventListener('scroll', onScroll, { capture: touchEventCapture, passive: false });\r\n        window.addEventListener('mousedown', mouseMove.start, true)\r\n        window.addEventListener('mouseup', mouseMove.end, true)\r\n        window.addEventListener('mousemove', mouseMove.move, true)\r\n        window.addEventListener('contextmenu', onContextMenu, true)\r\n\r\n        return () => {\r\n            window.removeEventListener('click', onClick, true);\r\n            window.removeEventListener('touchstart', touch.start, { capture: touchEventCapture, passive: false });\r\n            window.removeEventListener('touchmove', touch.move);\r\n            window.removeEventListener('touchend', touch.end);\r\n            window.removeEventListener('scroll', onScroll, { capture: touchEventCapture, passive: false });\r\n            window.removeEventListener('mousedown', mouseMove.start, true)\r\n            window.removeEventListener('mouseup', mouseMove.end, true)\r\n            window.removeEventListener('mousemove', mouseMove.move, true)\r\n            window.removeEventListener('contextmenu', onContextMenu, true)\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <div ref={rootRef}>\r\n            <Shadow hostEl={rootRef}>\r\n                <div id=\"wrp-app\" data-wrp-action-block=\"toolmenu\" >\r\n                    <div className=\"wrp-view\">\r\n                        <ManageTranslatePanel />\r\n                        <AModal />\r\n                        <ToolMenu />\r\n                    </div>\r\n                    <ManageExplanation />\r\n                </div>\r\n            </Shadow>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    // app: state.app,\r\n    // a: state.a,\r\n    // explShow: state.explanation.show,\r\n    // aShow: state.a.show,\r\n    // toolMenuShow: state,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    // tapWord: events => {\r\n    //     dispatch(explActions.tapWord(events))\r\n    // },\r\n    tapWord: tapWord,\r\n    setExplShow: show => {\r\n        dispatch(explActions.setShow(show))\r\n    },\r\n    setAShow: isShow => {\r\n        dispatch(aActions.setShow(isShow))\r\n    },\r\n    tapA: a => {\r\n        dispatch(aActions.tapA(a))\r\n    },\r\n    loadXmlDoc: url => {\r\n        console.log(`mapDispatchToProps: input: ${url}`)\r\n        dispatch(actions.loadXmlDoc(url))\r\n    },\r\n    slideTranslate: (target, x, y) => {\r\n        dispatch(transActions.slideTranslate(target, x, y))\r\n    },\r\n    showToolMenu: (target, x, y) => {\r\n        dispatch(rpActions.showMenu(target, x, y))\r\n    },\r\n    hiddenToolMenu: () => {\r\n        dispatch(rpActions.hiddenMenu())\r\n    }\r\n\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\containers\\head.js",["259","260","261"],"import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport logo from \"../components/res/logo.png\";\r\nimport manifest from \"../manifest.json\";\r\n\r\nimport './Head.scss'\r\n\r\nfunction Head(props) {\r\n  return <div id=\"wrp-head\">{props.heads}</div>;\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  heads: state.webApp.heads,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Head);",["262","263"],"C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\containers\\home.js",["264","265","266","267","268","269","270","271","272","273"],"import React, { useState } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link,\r\n    useLocation,\r\n    useRouteMatch,\r\n    useParams,\r\n    useHistory,\r\n    withRouter,\r\n} from 'react-router-dom';\r\n\r\nimport * as actions from '../actions/webApp'\r\n\r\nimport { calcHash } from '../utils/core';\r\n\r\nimport './home.scss';\r\n\r\nimport logo from '../components/res/logo.png';\r\n\r\nimport ItemCard from '../components/home/ItemCard.tsx'\r\nimport History from '../components/home/History.tsx'\r\n\r\nfunction Home(props) {\r\n    const [focused, setFocused] = useState(false);\r\n    const [input, setInput] = useState('');\r\n\r\n    const urlPattern = /^https?:\\/\\/(.+\\.\\w+.*)|(localhost.*)/;\r\n\r\n    const onKeyUp = (e) => {\r\n        if (e.key == \"Enter\") {\r\n            go();\r\n        }\r\n    }\r\n\r\n    const onChange = (e) => {\r\n        // console.log('onChange');\r\n        setInput(e.currentTarget.value)\r\n    }\r\n\r\n    const onPaste = (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        // console.log('onPaste');\r\n        let copiedText = e.clipboardData.getData('text/plain');\r\n        let copiedRichText = e.clipboardData.getData('text/html');\r\n        if (!copiedRichText || copiedRichText.length <= copiedText.length) {\r\n            setInput(copiedText)\r\n        } else {\r\n            // 如果粘贴的不是url, 则尝试获取富文本\r\n            setInput(copiedRichText);\r\n        }\r\n    }\r\n\r\n    const go = () => {\r\n        let isUrl = input.length < 10000 && urlPattern.test(input);\r\n\r\n        if (isUrl) {\r\n            return readFromUrl(input);\r\n        }\r\n\r\n        let key = String(calcHash(input));\r\n        localStorage.setItem(key, input);\r\n        readFromText(key, input);\r\n    }\r\n\r\n    const readFromUrl = (url) => {\r\n        if (url === props.webApp.url) {\r\n            props.setStatus('parsing')\r\n            props.setLocation('/wrp-read')\r\n        } else {\r\n            props.setUrl(url)\r\n            props.setKey('')\r\n            props.setStatus('loading')\r\n            props.loadXmlDoc(url)\r\n            props.setLocation('/wrp-read')\r\n        }\r\n\r\n        // 转跳至 /wrp-read\r\n        props.history.push({\r\n            pathname: '/wrp-read',\r\n            search: `?url=${url}`\r\n        })\r\n    }\r\n\r\n    const readFromText = (key, value = '') => {\r\n        if (!value) value = localStorage.getItem(key)\r\n        props.setKey(key)\r\n        // props.setXmlDoc(value)\r\n        props.setStatus('parsing')\r\n        props.docParser(value, null, key);\r\n        props.setUrl('')\r\n        props.setLocation('/wrp-read')\r\n\r\n        // 转跳至 /wrp-read\r\n        props.history.push({\r\n            pathname: '/wrp-read',\r\n            search: `?key=${key}`\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"wrp-page\">\r\n            <div className=\"wrp-app-logo-container\">\r\n                <img className=\"wrp-app-logo\" src={logo} />\r\n                <h1 class=\"wrp-app-logo-title\" style={{ display: 'none' }}>Word Reading Beta</h1>\r\n            </div>\r\n            <div className={\"wrp-input-container \".concat(focused ? \"focused\" : \"\")}>\r\n                <div className=\"wrp-input-bar\">\r\n                    {focused ? (\r\n                        <div\r\n                            className=\"wrp-input-bar-button\"\r\n                            onClick={() => setFocused(false)}\r\n                        >\r\n                            <svg viewBox=\"0 0 1118 1024\" version=\"1.1\" width=\"218.359375\" height=\"200\" fill=\"var(--c-dark)\"><defs><style type=\"text/css\"></style></defs><path d=\"M229.42 558.545h841.125c25.707 0 46.546-20.839 46.546-46.545 0-25.706-20.84-46.545-46.546-46.545H229.42L544.913 149.96c18.177-18.177 18.177-47.648 0-65.825-18.178-18.177-47.648-18.177-65.826 0L84.137 479.087c-9.09 9.089-13.634 21.001-13.634 32.913 0 11.912 4.545 23.824 13.633 32.913l394.951 394.95c18.178 18.178 47.648 18.178 65.826 0 18.177-18.176 18.177-47.647 0-65.824L229.419 558.545z\" p-id=\"5564\"></path></svg>\r\n                        </div>\r\n                    ) : ''}\r\n                    {/* <input type=\"file\"></input> */}\r\n                    <input\r\n                        className={\"wrp-input \".concat(focused ? \"wrp-input-focused\" : \"\")}\r\n                        id=\"wrp-home-input\"\r\n                        autoComplete=\"on\"\r\n                        contentEditable=\"true\"\r\n                        onChange={onChange}\r\n                        onKeyUp={onKeyUp}\r\n                        onPaste={onPaste}\r\n                        onFocus={() => setFocused(true)}\r\n                        type=\"text\"\r\n                        placeholder=\"贴入文章或链接\"\r\n                        value={input}\r\n                    ></input>\r\n                    {focused ? (\r\n                        <div\r\n                            className=\"wrp-input-bar-button wb-clearinput\"\r\n                            onClick={() => setInput('')}\r\n                        >\r\n                            <svg viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\" fill=\"var(--c-dark)\"><defs><style type=\"text/css\"></style></defs><path d=\"M512 0a512 512 0 0 0-512 512 512 512 0 0 0 512 512 512 512 0 0 0 512-512 512 512 0 0 0-512-512z m241.005714 703.268571a32.182857 32.182857 0 0 1 0.512 45.348572 32.182857 32.182857 0 0 1-45.348571 0.512L512 556.763429 315.830857 748.982857a31.963429 31.963429 0 1 1-44.836571-45.787428L466.285714 512l-195.291428-191.268571a32.182857 32.182857 0 0 1-0.512-45.348572 32.182857 32.182857 0 0 1 45.348571-0.512L512 467.236571 708.169143 275.017143a31.963429 31.963429 0 1 1 44.836571 45.787428L557.714286 512l195.291428 191.268571z\" p-id=\"10064\"></path></svg>\r\n                        </div>\r\n                    ) : ''}\r\n                    <div className=\"wrp-input-bar-go\" onClick={go}>\r\n                        <svg viewBox=\"0 0 218.36 200\"><path fill=\"var(--c-light)\" d=\"M187.14,109.09l-61.62,61.62a9.09,9.09,0,0,0,12.86,12.86l77.14-77.14a9.1,9.1,0,0,0,0-12.86L138.38,16.43a9.09,9.09,0,1,0-12.86,12.86l61.62,61.62H22.86a9.09,9.09,0,1,0,0,18.18Z\" /></svg>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            <div className=\"wrp-card-container\">\r\n                <History data={props.readHistory}></History>\r\n            </div>\r\n            <div>\r\n                {/**推荐文章 */}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    readHistory: state.webApp.history,\r\n    webApp: state.webApp,\r\n    app: state.app,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    goRead: (input, currentUrl) => {\r\n        dispatch(actions.goRead(input, currentUrl))\r\n    },\r\n    setUrl: url => {\r\n        dispatch(actions.setUrl(url))\r\n    },\r\n    setKey: key => {\r\n        dispatch(actions.setKey(key))\r\n    },\r\n    loadXmlDoc: (url) => {\r\n        dispatch(actions.loadXmlDoc(url))\r\n    },\r\n    setStatus: status => {\r\n        dispatch(actions.setStatus(status))\r\n    },\r\n    setLocation: location => {\r\n        dispatch(actions.setLocation(location))\r\n    },\r\n    setXmlDoc: xmlDoc => {\r\n        dispatch(actions.setXmlDoc(xmlDoc))\r\n    },\r\n    docParser: (doc, baseUrl, key) => {\r\n        dispatch(actions.docParser(doc, baseUrl, key))\r\n    }\r\n})\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Home));\r\nexport { ItemCard }","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\components\\home\\ItemCard.tsx",["274"],"import React from 'react'\r\nimport {\r\n    Link,\r\n} from 'react-router-dom';\r\n\r\nexport interface ItemCardData {\r\n    url?: string,\r\n    key?: string,\r\n    icon?: string,\r\n    des?: string,\r\n    title?: string\r\n}\r\n\r\nexport default function ItemCard(props: {\r\n    key?: any,\r\n    data: ItemCardData,\r\n}) {\r\n    let data = props.data;\r\n    if (!data) data = {};\r\n    return (\r\n        <Link\r\n            to={`/wrp-read?${data.url ? 'url=' + encodeURIComponent(data.url) : 'key=' + data.key}`}\r\n            className=\"wrp-card-wrapper\"\r\n            data-url={data.url}\r\n            data-key={data.key}\r\n        >\r\n            <div className=\"wrp-image-wrapper wrp-card-image\">\r\n                <img className=\"wrp-image\" src={data.icon}></img>\r\n            </div>\r\n            <div className=\"wrp-card-text-wrapper\">\r\n                <div className=\"wrp-ellipsis wrp-ct\">{data.title}</div>\r\n                <div className=\"wrp-cs\">{data.des}</div>\r\n            </div>\r\n        </Link>\r\n    )\r\n}",["275","276"],"C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\components\\home\\History.tsx",[],"C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\components\\explore\\NavigationBar.tsx",[],["277","278"],"C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\components\\explore\\index.tsx",["279","280"],"import React, { useState, useRef } from 'react';\r\n\r\nimport './explore.scss';\r\nimport { withRouter } from 'react-router';\r\n\r\nimport { ItemCard } from '../../containers/home';\r\n\r\nimport { exploreData } from '../../assets/explore'\r\n\r\nimport NavigationBar from './NavigationBar'\r\n\r\n\r\nfunction ExploreApp() {\r\n\r\n    const navigationList = [\r\n        {\r\n            title: '推荐',\r\n            key: 'recommended',\r\n            color: '',\r\n        }, {\r\n            title: '入门级',\r\n            key: 'gettingStarted',\r\n            color: '',\r\n        }, {\r\n            title: '英语教材',\r\n            key: 'textbook',\r\n            color: '',\r\n        }, {\r\n            title: '名著小说',\r\n            key: 'classicNovel',\r\n            color: '',\r\n        }, {\r\n            title: '技术文档',\r\n            key: 'technicalDocuments',\r\n            color: '',\r\n        }, {\r\n            title: '时事新闻',\r\n            key: 'news',\r\n            color: '',\r\n        }, {\r\n            title: '政治金融',\r\n            key: 'politicalFinance',\r\n            color: '',\r\n        }, {\r\n            title: '文史哲',\r\n            key: 'history',\r\n            color: '',\r\n        }, {\r\n            title: '体育运动',\r\n            key: 'sports',\r\n            color: '',\r\n        }\r\n    ]\r\n\r\n    const navigationData = exploreData as { [index: string]: { list: any[] } }\r\n\r\n    const [navigationIndex, setIndex] = useState(0);\r\n\r\n    const seletedKey = navigationList[navigationIndex].key\r\n\r\n    return (\r\n        <>\r\n            <header className=\"wrp-find-header\">\r\n                <NavigationBar\r\n                    list={navigationList}\r\n                    selected={navigationIndex}\r\n                    setIndex={setIndex}\r\n                ></NavigationBar>\r\n            </header>\r\n\r\n            <div className=\"wrp-page wrp-card-container\">\r\n                {\r\n                    navigationData[seletedKey].list.map((item, index) => (\r\n                        <ItemCard data={item} key={item.url}></ItemCard>\r\n                    ))\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ExploreApp;","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\components\\explanation\\switch.tsx",[],"C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\components\\translatePanel.tsx",["281","282","283"],"import React from 'react';\r\nimport { get } from 'lodash';\r\n\r\n// import './translatePanel.scss';\r\n/* eslint import/no-webpack-loader-syntax: off */\r\nimport styles from '!!raw-loader!sass-loader!./translatePanel.scss';\r\n\r\ninterface Props {\r\n\r\n}\r\n\r\nconst TranslatePanel = (props: any) => {\r\n\r\n    const showStyle: { [index: string]: React.CSSProperties } = {\r\n        hidden: {\r\n            bottom: \"-18rem\",\r\n            height: '16rem',\r\n        },\r\n        half: {\r\n            bottom: 0,\r\n            height: '12rem',\r\n        },\r\n        full: {\r\n            bottom: 0,\r\n            height: '36rem',\r\n            maxHeight: '80%',\r\n        }\r\n    }\r\n\r\n    console.log('props', props)\r\n\r\n    let show: string = props.show || 'hidden'\r\n    let panelStyle = Object.assign({}, showStyle[show]);\r\n\r\n    return (\r\n        <>\r\n            <style>{styles}</style>\r\n            <div id=\"tp\" className=\"wrp-translate-panel\" style={panelStyle}\r\n                onTouchStart={(e) => props.onSlipStart(e, props.show)}\r\n                onTouchMove={props.onSlipMove}\r\n                onTouchEnd={props.onSlipEnd}\r\n                onMouseMove={props.onSlipMove}\r\n                onMouseDown={(e) => props.onSlipStart(e, props.show)}\r\n                onMouseUp={props.onSlipEnd}\r\n                onMouseLeave={props.onSlipEnd}\r\n                onContextMenu={(e) => { e.preventDefault(); return false; }}\r\n                onClick={props.handleClick}\r\n            >\r\n                <div className=\"wrp-tp-handle\"\r\n                    onTouchMove={props.handleDrag}\r\n                    onClick={props.setTranslateY}\r\n                >\r\n                    <div ref={props.handleEl} />\r\n                </div>\r\n\r\n                <div className=\"\">{props.original.elements}</div>\r\n                <br />\r\n                <div className=\"\">\r\n                    {(props.status == \"completed\") ? props.translation.text : ''}\r\n                </div>\r\n                {/* <div class=\"wrp-tr-scall-mask\">\r\n                <div></div>\r\n            </div> */}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default TranslatePanel","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\containers\\Shadow.tsx",["284","285"],"import React, { useEffect, useRef, useState } from 'react'\r\nimport { createPortal } from 'react-dom'\r\n\r\n\r\nfunction Shadow({ root, children }: {\r\n    root: ShadowRoot\r\n    children: JSX.Element\r\n}) {\r\n    // if (!root) return <></>\r\n    // @ts-ignore\r\n    return createPortal(children, root)\r\n}\r\n\r\n\r\nexport default function ShadowHost({ hostEl, children }: {\r\n    hostEl: React.MutableRefObject<HTMLElement>\r\n    children: JSX.Element\r\n}) {\r\n\r\n    useEffect(() => {\r\n        const root = hostEl.current.attachShadow({ mode: \"open\" })\r\n        setRoot(root)\r\n    }, [])\r\n\r\n    const [root, setRoot] = useState(null as unknown as ShadowRoot)\r\n\r\n    if (!root) return children\r\n\r\n    return (\r\n        <Shadow root={root}>\r\n            {children}\r\n        </Shadow>\r\n    )\r\n}","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\containers\\ToolMenu.tsx",["286"],"import React from \"react\";\r\nimport { connect, DefaultRootState, RootStateOrAny } from \"react-redux\";\r\n\r\n// import \"./readPanel.scss\";\r\n/* eslint import/no-webpack-loader-syntax: off */\r\nimport styles from '!!raw-loader!sass-loader!./toolMenu.scss';\r\nimport * as actions from '../actions/readPanel';\r\n\r\nfunction Menu(props: any) {\r\n\r\n    const style = {\r\n        opacity: 0,\r\n        pointerEvents: 'none',\r\n        left: '-5rem',\r\n    }\r\n\r\n    const hidden = () => {\r\n        props.hiddenMenu({})\r\n    }\r\n\r\n    const hiddenTarget = () => {\r\n        if (!props.target) hidden();\r\n        props.target.classList.add('wrp-rp-hidden')\r\n        hidden();\r\n    }\r\n\r\n    const removeTarget = () => {\r\n        if (!props.target) hidden();\r\n        props.target.classList.add('wrp-rp-remove')\r\n        hidden();\r\n    }\r\n\r\n    const showTarget = () => {\r\n        if (!props.target) hidden();\r\n        props.target.classList.remove('wrp-rp-hidden')\r\n        hidden();\r\n    }\r\n\r\n    return (\r\n        <div id=\"wrp-rp-menu\" style={{ ...style, ...props.menuStyle }}>\r\n            <style>{styles}</style>\r\n            <div\r\n                className=\"wrp-nav-item\"\r\n                onClick={hidden}\r\n            >\r\n                <svg\r\n                    className=\"wrp-nav-item-icon\"\r\n                    fill=\"var(--t-fore-c)\"\r\n                    viewBox=\"0 0 1024 1024\"\r\n                    width=\"200\"\r\n                    height=\"200\"\r\n                >\r\n                    <defs>\r\n                        <style type=\"text/css\"></style>\r\n                    </defs>\r\n                    <path\r\n                        d=\"M877.216 491.808M575.328 510.496 946.784 140.672c17.568-17.504 17.664-45.824 0.192-63.424-17.504-17.632-45.792-17.664-63.36-0.192L512.032 446.944 143.712 77.216C126.304 59.712 97.92 59.648 80.384 77.12 62.848 94.624 62.816 123.008 80.288 140.576l368.224 369.632L77.216 879.808c-17.568 17.504-17.664 45.824-0.192 63.424 8.736 8.8 20.256 13.216 31.776 13.216 11.424 0 22.848-4.352 31.584-13.056l371.36-369.696 371.68 373.088C892.192 955.616 903.68 960 915.168 960c11.456 0 22.912-4.384 31.648-13.088 17.504-17.504 17.568-45.824 0.096-63.392L575.328 510.496 575.328 510.496zM575.328 510.496\"\r\n                        p-id=\"10091\"\r\n                    ></path>\r\n                </svg>\r\n                <div className=\"wrp-nav-item-title\"></div>\r\n            </div>\r\n            <div className=\"wrp-nav-item\" onClick={hiddenTarget}>\r\n                <svg\r\n                    className=\"wrp-nav-item-icon\"\r\n                    fill=\"var(--t-fore-c)\"\r\n                    viewBox=\"0 0 1024 1024\"\r\n                    width=\"200\"\r\n                    height=\"200\"\r\n                >\r\n                    <defs>\r\n                        <style type=\"text/css\"></style>\r\n                    </defs>\r\n                    <path\r\n                        d=\"M947.6 477.2c-85-106-175.9-177.5-272.8-214.7l60.1-122.3c8.8-17.8 1.4-39.5-16.4-48.2-17.8-8.8-39.5-1.4-48.2 16.4l-65.6 133.4c-30.4-6.4-61.3-9.6-92.7-9.6-159.3 0-304.5 81.7-435.6 245-8.3 10.2-12.4 22.6-12.4 35s4.1 24.8 12.3 35.1C161.3 653.2 252.2 724.7 349 762l-59.9 121.9c-8.8 17.8-1.4 39.5 16.4 48.2s39.5 1.3 48.2-16.4l65.3-133c30.4 6.4 61.4 9.6 93 9.6 159.3 0 304.5-81.7 435.6-245 16.4-20.5 16.4-49.7 0-70.1z m-799.1 35c112.4-140 232.8-207.8 363.5-207.8 20.1 0 39.9 1.6 59.6 4.8L544.7 364c-10.5-2.3-21.5-3.5-32.7-3.5-83.8 0-151.8 68-151.8 151.8 0 46.7 21.1 88.5 54.4 116.4L381.4 696c-81.5-30.8-159-91.7-232.9-183.8z m443.3 0c0 43.8-35.3 79.4-79 79.8l62.9-127.9c10.1 13.4 16.1 30.1 16.1 48.1z m-159.6 0c0-43.8 35.2-79.2 78.8-79.8l-62.8 127.8c-10.1-13.3-16-29.9-16-48zM512 720c-20.2 0-40.1-1.6-59.7-4.9l26.9-54.7c10.6 2.3 21.6 3.6 32.8 3.6 83.8 0 151.8-68 151.8-151.8 0-46.8-21.2-88.6-54.5-116.5l33.1-67.4C724 359.1 801.5 420 875.5 512.2 763.1 652.2 642.6 720 512 720z\"\r\n                        p-id=\"7888\"\r\n                    ></path>\r\n                </svg>\r\n                <div className=\"wrp-nav-item-title\">隐藏</div>\r\n            </div>\r\n            <div className=\"wrp-nav-item\" onClick={removeTarget}>\r\n                <svg\r\n                    className=\"wrp-nav-item-icon\"\r\n                    fill=\"var(--t-fore-c)\"\r\n                    viewBox=\"0 0 1024 1024\"\r\n                    width=\"200\"\r\n                    height=\"200\"\r\n                >\r\n                    <defs>\r\n                        <style type=\"text/css\"></style>\r\n                    </defs>\r\n                    <path\r\n                        d=\"M668.8 896h-320c-48.64 0-88.32-37.76-92.8-87.68L211.2 403.2c-1.92-17.28 10.88-33.28 28.16-35.2 17.28-1.92 33.28 10.88 35.2 28.16l44.16 405.76c1.28 17.28 14.08 30.08 28.8 30.08h320c14.72 0 27.52-12.8 28.8-29.44l44.16-406.4c1.92-17.28 17.92-30.08 35.2-28.16 17.28 1.92 30.08 17.92 28.16 35.2l-44.16 405.76c-2.56 49.28-42.88 87.04-90.88 87.04zM826.24 321.28H190.72c-17.92 0-32-14.08-32-32s14.08-32 32-32h636.16c17.92 0 32 14.08 32 32s-14.72 32-32.64 32z\"\r\n                        p-id=\"13417\"\r\n                    ></path>\r\n                    <path\r\n                        d=\"M424.96 789.12c-16.64 0-30.72-12.8-32-29.44l-27.52-347.52c-1.28-17.92 11.52-33.28 29.44-34.56 17.92-1.28 33.28 11.52 34.56 29.44l27.52 347.52c1.28 17.92-11.52 33.28-29.44 34.56h-2.56zM580.48 789.12h-2.56c-17.92-1.28-30.72-16.64-29.44-34.56L576 407.04c1.28-17.92 16.64-30.72 34.56-29.44 17.92 1.28 30.72 16.64 29.44 34.56l-27.52 347.52c-1.92 16.64-15.36 29.44-32 29.44zM581.76 244.48c-17.92 0-32-14.08-32-32 0-23.68-19.2-43.52-43.52-43.52s-43.52 19.2-43.52 43.52c0 17.92-14.08 32-32 32s-32-14.08-32-32c0-59.52 48-107.52 107.52-107.52s107.52 48 107.52 107.52c0 17.28-14.08 32-32 32z\"\r\n                        p-id=\"13418\"\r\n                    ></path>\r\n                </svg>\r\n                <div className=\"wrp-nav-item-title\">移除</div>\r\n            </div>\r\n            <div className=\"wrp-nav-item\" onClick={showTarget}>\r\n                <svg\r\n                    className=\"wrp-nav-item-icon\"\r\n                    fill=\"var(--t-fore-c)\"\r\n                    viewBox=\"0 0 1024 1024\"\r\n                    width=\"200\"\r\n                    height=\"200\"\r\n                >\r\n                    <defs>\r\n                        <style type=\"text/css\"></style>\r\n                    </defs>\r\n                    <path\r\n                        d=\"M512.14 819c-136.83 0-253.2-59.32-326.73-109.08C97.84 650.6 35.29 581.25 12.15 538.82a56.53 56.53 0 0 1 0-54.35c23.14-42.44 85.69-111.79 173.26-171 73.53-49.77 189.9-109.09 326.73-109.09 137.53 0 253.1 57.92 325.84 106.51 40.4 27 78.56 58.49 110.35 91.12 28.79 29.53 51.46 59.18 63.84 83.48a57.94 57.94 0 0 1 0 52.4c-12.38 24.3-35 53.95-63.84 83.48-31.79 32.63-70 64.14-110.35 91.13C765.24 761 649.67 819 512.14 819zM67 511.64c10 17.43 28.73 40.66 51.89 64.2a672.78 672.78 0 0 0 100.8 83.41c66.45 45 171.14 98.59 292.48 98.59 122.21 0 226.18-52.32 291.89-96.21 78.53-52.46 133.92-114.07 152.88-150-19-35.92-74.35-97.53-152.88-150-65.71-43.89-169.68-96.21-291.89-96.21-121.34 0-226 53.61-292.48 98.59a672.23 672.23 0 0 0-100.8 83.42C95.7 471 76.93 494.21 67 511.64z\"\r\n                        fill=\"#333333\"\r\n                        p-id=\"8662\"\r\n                    ></path>\r\n                    <path\r\n                        d=\"M511.81 682.86c-94.41 0-171.22-76.81-171.22-171.22s76.81-171.22 171.22-171.22S683 417.23 683 511.64s-76.78 171.22-171.19 171.22z m0-278.44A107.22 107.22 0 1 0 619 511.64a107.34 107.34 0 0 0-107.19-107.22z\"\r\n                        fill=\"#333333\"\r\n                        p-id=\"8663\"\r\n                    ></path>\r\n                </svg>\r\n                <div className=\"wrp-nav-item-title\">显示</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state: RootStateOrAny) => ({\r\n    webApp: state.webApp,\r\n    menuStyle: state.readPanel.menuStyle,\r\n    target: state.readPanel.target,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n    setMenuStyle: (style: React.CSSProperties) => {\r\n        dispatch(actions.setMenuStyle(style))\r\n    },\r\n    hiddenMenu: () => {\r\n        dispatch(actions.hiddenMenu())\r\n    }\r\n});\r\n\r\ntype StateProps = ReturnType<typeof mapStateToProps>\r\ntype DispatchProps = typeof mapDispatchToProps\r\n\r\nexport default connect<StateProps, DispatchProps>(mapStateToProps, mapDispatchToProps)(Menu);\r\n","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\components\\trayBar.jsx",["287","288","289","290","291","292","293","294","295","296"],"import React, { useState, useEffect } from 'react';\r\n\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link,\r\n    useLocation,\r\n    useRouteMatch,\r\n    useParams,\r\n    useHistory,\r\n    withRouter,\r\n} from 'react-router-dom';\r\n\r\nimport './trayBar.scss';\r\n\r\nfunction fixCurrentIndex(trayData, setCurrentIndex) {\r\n    let pathList = trayData.map(item => item.path)\r\n    let pathName = (new URL(window.location.href)).pathname\r\n    let current = pathList.findIndex((path) => pathName.search(path) === 0)\r\n    setCurrentIndex(current)\r\n    return current;\r\n}\r\n\r\nfunction TrayBar() {\r\n\r\n    const icon = {\r\n        home: <svg className=\"wrp-nav-item-icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\"><path d=\"M854.08768 503.1168l0 342.08768c0 44.450816-36.040704 80.490496-80.49152 80.490496L612.614144 925.694976 612.614144 664.09984c0-44.450816-36.03968-80.490496-80.490496-80.490496l-40.245248 0c-44.450816 0-80.49152 36.03968-80.49152 80.490496L411.38688 925.696 250.40384 925.696c-44.450816 0-80.490496-36.03968-80.490496-80.490496l0-342.08768L49.175552 503.117824 512 60.416l462.824448 442.701824L854.08768 503.117824z\" p-id=\"13773\"></path></svg>,\r\n        explore: <svg className=\"wrp-nav-item-icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\"><path d=\"M534.378667 574.549333c31.338667 0 58.410667-17.130667 73.152-42.346667 0.149333 0.149333 0.256 0.256 0.405333 0.405333 32.341333-55.658667 57.045333-127.168 74.176-190.869333-57.472 15.466667-121.024 36.949333-173.717333 64.725333-1.365333 0.725333-2.730667 1.450667-4.096 2.176-9.557333 5.141333-12.8 7.445333-13.952 8.405333-24.490667 14.933333-41.024 41.642667-41.024 72.448C449.322667 536.469333 487.402667 574.549333 534.378667 574.549333z\" p-id=\"14571\"></path><path d=\"M512.021333 64C264.554667 64 64 264.554667 64 511.978667 64 759.445333 264.554667 960 512.021333 960 759.381333 960 960 759.445333 960 511.978667 960 264.512 759.381333 64 512.021333 64zM603.989333 603.989333c-90.986667 90.944-304.149333 120.213333-304.149333 120.213333s29.269333-213.205333 120.213333-304.149333 304.149333-120.213333 304.149333-120.213333S694.976 513.045333 603.989333 603.989333z\" p-id=\"14572\"></path></svg>,\r\n        reading: <svg class=\"wrp-nav-item-icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M307.2 173.346133c108.049067 17.066667 187.733333 111.325867 187.733333 222.088534v433.032533c0 32.597333-26.112 59.016533-58.299733 58.999467-5.563733 0-11.093333-0.8192-16.452267-2.4064l-217.207466-65.024C153.463467 805.2224 119.466667 759.176533 119.466667 706.884267V212.616533C119.466667 180.0192 145.5616 153.6 177.732267 153.6c3.003733 0 6.007467 0.238933 8.977066 0.699733L307.2 173.346133z m596.650667 30.190934c0.443733 3.003733 0.682667 6.058667 0.682666 9.096533V706.901333c0 52.292267-33.979733 98.3552-83.5072 113.152L603.818667 885.060267c-30.8736 9.216-63.266133-8.6528-72.362667-39.918934a59.716267 59.716267 0 0 1-2.389333-16.657066V395.434667c0-110.7456 79.684267-205.0048 187.733333-222.0544l120.490667-19.063467c31.7952-5.034667 61.5936 16.9984 66.56 49.2032z\" p-id=\"3000\"></path></svg>,\r\n        word: <svg className=\"wrp-nav-item-icon\" version=\"1.1\" viewBox=\"0 0 200 200\"><path d=\"M78.6,96.4h42.8c10.8,0,19.6-8.8,19.6-19.6V34.1c0-10.8-8.8-19.6-19.6-19.6H78.6C67.8,14.5,59,23.3,59,34.1v42.8\tC59,87.7,67.8,96.4,78.6,96.4z M84,44.8c0-8.9,7.2-16,16-16s16,7.2,16,16v32.1c0,3-2.4,5.3-5.3,5.3s-5.3-2.4-5.3-5.3V64.4\tc0-2-1.6-3.6-3.6-3.6h-3.6c-2,0-3.6,1.6-3.6,3.6v0v12.5c0,3-2.4,5.3-5.3,5.3S84,79.8,84,76.8V44.8z M98.2,50.1h3.6\tc2,0,3.6-1.6,3.6-3.6v-1.8c0-3-2.4-5.3-5.3-5.3s-5.3,2.4-5.3,5.3v1.8C94.7,48.5,96.3,50.1,98.2,50.1L98.2,50.1z M76.8,103.6H34.1\tc-10.8,0-19.6,8.8-19.6,19.6v42.8c0,10.8,8.8,19.6,19.6,19.6h42.8c10.8,0,19.6-8.8,19.6-19.6v-42.8\tC96.4,112.3,87.7,103.6,76.8,103.6L76.8,103.6z M68.9,146.5c4.8,7.4,2.7,17.3-4.7,22.2c-2.6,1.7-5.7,2.6-8.8,2.6H44.8\tc-3,0-5.3-2.4-5.3-5.3v-42.8c0-3,2.4-5.3,5.3-5.3h10.7c8.8,0,16,7.1,16,16c0,3.1-0.9,6.2-2.6,8.8C68.1,143.8,68.1,145.3,68.9,146.5\tL68.9,146.5z M55.5,149.9h-1.8c-2,0-3.6,1.6-3.6,3.6v3.6c0,2,1.6,3.6,3.6,3.6h1.8c3,0,5.3-2.4,5.3-5.3\tC60.8,152.3,58.4,149.9,55.5,149.9L55.5,149.9z M55.5,128.5h-1.8c-2,0-3.6,1.6-3.6,3.6v3.6c0,2,1.6,3.6,3.6,3.6h1.8\tc3,0,5.3-2.4,5.3-5.3C60.8,130.9,58.4,128.5,55.5,128.5L55.5,128.5z M165.9,103.6h-42.8c-10.8,0-19.6,8.8-19.6,19.6v42.8\tc0,10.8,8.8,19.6,19.6,19.6h42.8c10.8,0,19.6-8.8,19.6-19.6v-42.8C185.5,112.3,176.7,103.6,165.9,103.6L165.9,103.6z M151.7,160.6\tc3,0,5.3,2.4,5.3,5.3s-2.4,5.3-5.3,5.3c-14.8,0-26.7-12-26.7-26.7c0-14.8,12-26.7,26.7-26.7c3,0,5.3,2.4,5.3,5.3\tc0,3-2.4,5.3-5.3,5.3c-8.9,0-16,7.2-16,16S142.8,160.6,151.7,160.6z\" /></svg>,\r\n        about: <svg className=\"wrp-nav-item-icon\" version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 200 200\"><path d=\"M100,10c-49.7,0-90,40.3-90,90c0,49.7,40.3,90,90,90c49.7,0,90-40.3,90-90C190,50.3,149.7,10,100,10z M97.2,156.3\tc-4.3,0-7.8-4.2-7.8-9.3l0-56.7c0-5.1,3.5-9.3,7.8-9.3c4.3,0,7.8,4.2,7.8,9.3l0,56.7C105,152.1,101.5,156.3,97.2,156.3z M97.2,64\tc-4.6,0-8.4-4.5-8.4-10l0-0.3c0-5.5,3.8-10,8.4-10c4.6,0,8.4,4.5,8.4,10l0,0.3C105.6,59.6,101.9,64,97.2,64z\" /></svg>\r\n    }\r\n\r\n    const trayData = [\r\n        {\r\n            icon: 'home',\r\n            title: '首页',\r\n            path: '/wrp-home'\r\n        }, {\r\n            icon: 'explore',\r\n            title: '探索',\r\n            path: '/wrp-explore'\r\n        }, {\r\n            icon: 'reading',\r\n            title: '阅读',\r\n            path: '/wrp-reading'\r\n        }, {\r\n            icon: 'word',\r\n            title: '单词',\r\n            path: '/wrp-word'\r\n        }, {\r\n            icon: 'about',\r\n            title: '关于',\r\n            path: '/wrp-about'\r\n        }\r\n    ]\r\n\r\n    let c = \"var(--t-fore-c)\";\r\n    let c2 = \"var(--sc)\";\r\n\r\n    const [isShow, setIsShow] = useState(true);\r\n    const [currentIndex, setCurrentIndex] = useState(0);\r\n    const location = useLocation();\r\n\r\n    let colors = [c, c, c, c];\r\n    colors = colors.map((v, i) => { return i == currentIndex ? c2 : c });\r\n\r\n    useEffect(function () {\r\n        if (!isShow) setIsShow(true);\r\n        if (location.pathname === '/wrp-read') {\r\n            setIsShow(false);\r\n        }\r\n\r\n        fixCurrentIndex(trayData, setCurrentIndex);\r\n\r\n    }, [location]);\r\n\r\n    return (\r\n        <div\r\n            className={`wrp-nav ${isShow ? '' : 'wrp-nav-hidden'}`}\r\n            data-wrp-action-block=\"intercept\"\r\n        >\r\n            <div className=\"wrp-nav-item-container\">\r\n                {\r\n                    trayData.map((item, index) => (\r\n                        <Link to={item.path} onClick={() => setCurrentIndex(index)} key={item.path}>\r\n                            <div className={`wrp-nav-item ${index === currentIndex && 'wrp-tary-bar-selected'}`}>\r\n                                {icon[item.icon]}\r\n                                <div className=\"wrp-nav-item-title\">{item.title}</div>\r\n                            </div>\r\n                        </Link>\r\n                    ))\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport { TrayBar };","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\containers\\ManageTranslatePanel.jsx",["297","298","299","300","301","302"],"import React, { useState, useEffect, useMemo, useRef } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { get } from \"lodash\";\r\n\r\nimport * as explActions from \"../actions/explanation\";\r\nimport * as translateActions from \"../actions/translate\";\r\n\r\nimport TranslatePanel from \"../components/translatePanel\";\r\n\r\nimport Touch, { TouchOrMouse } from \"../utils/touch\";\r\nimport { tapWord } from \"./ManageExplanation\";\r\n\r\nimport \"../components/translatePanel.scss\";\r\n\r\nfunction ManageTranslatePanel(props) {\r\n  const handleEl = useRef(null);\r\n\r\n  const slipTouch = useMemo(() => {\r\n    const showStatusMap = {\r\n      hidden: 0,\r\n      half: 1,\r\n      full: 2,\r\n      0: \"hidden\",\r\n      1: \"half\",\r\n      2: \"full\",\r\n    };\r\n    let sumY = 0;\r\n    let diffThreshold = 24;\r\n    const slipMoving = (touch, e) => {\r\n      // e.preventDefault();\r\n      e.stopPropagation();\r\n\r\n      let showStatus = showStatusMap[touch.data];\r\n      let diff = Math.round(touch.sumY - sumY);\r\n\r\n      if (showStatus === 2 && diff < 0) {\r\n        // 无效滑动\r\n        // handleEl.current.style.background = `linear-gradient(to right, var(--t-fore-c2) ${Math.abs(diff) - 1}%, var(--t-back-c2) ${Math.abs(diff)}%)`\r\n      } else {\r\n        handleEl.current.style.transform = `translateY(${diff / 2}px)`;\r\n        handleEl.current.style.background = `linear-gradient(to right, var(--sc) ${\r\n          Math.abs((diff / diffThreshold) * 100) - 1\r\n        }%, var(--t-back-c2) ${Math.abs((diff / diffThreshold) * 100)}%)`;\r\n      }\r\n\r\n      if (Math.abs(diff) < diffThreshold) {\r\n        return;\r\n      }\r\n\r\n      if (diff > diffThreshold) {\r\n        sumY = touch.sumY;\r\n        showStatus -= 1;\r\n        console.log(\"-\", showStatus);\r\n      }\r\n\r\n      if (diff < -diffThreshold) {\r\n        sumY = touch.sumY;\r\n        showStatus += 1;\r\n        console.log(\"+\", showStatus);\r\n      }\r\n\r\n      if (showStatus < 0) showStatus = 0;\r\n      if (showStatus > 2) showStatus = 2;\r\n\r\n      if (showStatus !== showStatusMap[touch.data]) {\r\n        // 更新showStatus\r\n        props.setShow(showStatusMap[showStatus]);\r\n        touch.data = showStatusMap[showStatus];\r\n      }\r\n    };\r\n\r\n    const slipStart = () => {};\r\n\r\n    const slipEnd = () => {\r\n      if (handleEl.current) {\r\n        // transition: all 0.3s;\r\n        handleEl.current.style.transform = `translateY(0px)`;\r\n        handleEl.current.style.background = `linear-gradient(to right, var(--sc) 0%, var(--t-back-c2) 0%)`;\r\n        handleEl.current.style.transition = `all 0.3s`;\r\n        setTimeout(() => {\r\n          handleEl.current.style.transition = `all 0s`;\r\n        }, 300);\r\n      }\r\n      sumY = 0;\r\n    };\r\n    // return new Touch({ onMoving: slipMoving, onEnd: slipEnd, onStart: slipStart })\r\n    return new TouchOrMouse({\r\n      onMoving: slipMoving,\r\n      onEnd: slipEnd,\r\n      onStart: slipStart,\r\n      button: [0, 2],\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <TranslatePanel\r\n      onSlipStart={slipTouch.start}\r\n      onSlipMove={slipTouch.move}\r\n      onSlipEnd={slipTouch.end}\r\n      handleEl={handleEl}\r\n      show={props.translate.show}\r\n      original={props.translate.original || {}}\r\n      status={props.translate.status}\r\n      translation={props.translate.translation}\r\n    ></TranslatePanel>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  translate: state.translate,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => ({\r\n  tapWord: tapWord,\r\n  setShow: (value) => {\r\n    dispatch(translateActions.setShow(value));\r\n  },\r\n});\r\n\r\n// export default connect(mapStateToProps, mapDispatchToProps)(TranslatePanel);\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ManageTranslatePanel);\r\n","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\containers\\ManageExplanation.jsx",[],"C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\components\\AModal.tsx",["303","304","305","306"],"import React from 'react'\r\nimport {\r\n    Link,\r\n} from 'react-router-dom'\r\nimport { connect, RootStateOrAny, ConnectedProps } from 'react-redux'\r\nimport * as _ from 'lodash'\r\n/* eslint import/no-webpack-loader-syntax: off */\r\nimport styles from '!!raw-loader!sass-loader!./aModal.scss'\r\n\r\ntype Props = ConnectedProps<typeof connector>\r\n\r\nfunction Modal(props: any) {\r\n\r\n    const link = {\r\n        hash: false,\r\n        url: \"\",\r\n    }\r\n\r\n    return (\r\n        <div\r\n            className={'wrp-link-dialog-box '.concat(props.a.show ? 'link-dialog-show' : '')}\r\n            data-wrp-action-block=\"intercept\"\r\n        >\r\n            <style>{styles}</style>\r\n            <div>\r\n                {(/^#.+/.test(props.a.href)) ?\r\n                    <a href={props.a.href}>\r\n                        <div className=\"wrp-nav-item wrp-ld-button\">\r\n                            <svg className=\"wrp-nav-item-icon \" viewBox=\"0 0 1024 1024\" version=\"1.1\" fill=\"var(--c-dark)\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"4385\"><defs><style type=\"text/css\"></style></defs><path d=\"M250.016 416.992l319.008 43.008 40 310.016 236-591.008zM120.992 464q-11.008-0.992-18.496-8.512t-8.992-19.008 4-20.512 15.488-12.992l778.016-311.008q8.992-4 18.016-2.016t16 8.992 8.992 16-2.016 18.016l-310.016 776q-4 10.016-13.504 15.488t-20.512 4-18.496-8.992-8.512-18.496l-48.992-384z\" p-id=\"4386\"></path></svg>\r\n                            <div className=\"wrp-nav-item-title\" >转跳至此处</div>\r\n                        </div>\r\n                    </a>\r\n                    :\r\n                    <Link\r\n                        className=\"wrp-nav-item wrp-ld-button\"\r\n                        to={`/wrp-read?url=${encodeURIComponent(props.a.href)}`}\r\n                    >\r\n                        <svg className=\"wrp-nav-item-icon \" viewBox=\"0 0 1024 1024\" version=\"1.1\" fill=\"var(--c-dark)\"><path d=\"M863 942H500.3L309.7 822.6c-33.8-21.2-54.9-60.7-54.9-103V162.5c0-30.4 14.5-57.6 38.7-72.9 24.4-15.4 53.6-15.4 78-0.1L507 174.3h356c52.9 0 96 46.9 96 104.6v558.4c0 57.8-43.1 104.7-96 104.7z m-345.6-69.8H863c17.6 0 32-15.6 32-34.9V278.9c0-19.2-14.4-34.9-32-34.9H489.9l-150.3-94.1c-6.4-4-12-1.3-14.1 0-2.5 1.6-6.7 5.3-6.7 12.6v557.1c0 17.5 8.7 33.8 22.8 42.5l175.8 110.1z\" fill=\"#595959\" p-id=\"4277\"></path><path d=\"M508.8 942H161c-52.9 0-96-46.9-96-104.6V278.9c0-57.7 43.1-104.6 96-104.6h125.8v69.8H161c-17.6 0-32 15.6-32 34.9v558.4c0 19.2 14.4 34.9 32 34.9h347.8V942zM497.5 174.3h1v69.8h-1z\" p-id=\"4278\"></path><path d=\"M480 209.2h64v697.2h-64z\" p-id=\"4279\"></path></svg>\r\n                        <div className=\"wrp-nav-item-title\">阅读新页面</div>\r\n                    </Link>\r\n                }\r\n            </div>\r\n            <a target=\"_blank\" href={props.a.href}>\r\n                <div className=\"wrp-nav-item wrp-ld-button\">\r\n                    <svg className=\"wrp-nav-item-icon \" version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 200 200\" ><path fill=\"var(--c-dark)\" d=\"M168.8,123.3c0-3.2,2.8-5.8,6.3-5.8s6.3,2.6,6.3,5.8V164c0,6.4-5.6,11.6-12.5,11.6H31.2\tc-6.9,0-12.5-5.2-12.5-11.6V36c0-6.4,5.6-11.6,12.5-11.6H75c3.5,0,6.3,2.6,6.3,5.8s-2.8,5.8-6.3,5.8H37.5c-3.4,0-6.2,2.6-6.3,5.8\tc0,0,0,0,0,0.1v116.2c0,3.2,2.8,5.8,6.2,5.8c0,0,0,0,0.1,0h125c3.4,0,6.2-2.6,6.3-5.8c0,0,0,0,0-0.1V123.3z M74,132.8\tc-2.4,2.3-6.4,2.3-8.8,0c0,0,0,0,0,0c-2.4-2.2-2.5-5.9-0.1-8.2c0,0,0,0,0,0l94-87.4l-34.4,0.1c-3.4,0-6.1-2.5-6.2-5.7\tc0,0,0-0.1,0-0.1c0-3.2,2.8-5.8,6.2-5.8l49.8-0.2c3.4,0,6.1,2.5,6.2,5.7c0,0,0,0.1,0,0.1l-0.2,46.4c-0.1,3.2-2.8,5.8-6.3,5.8\tc-3.4,0-6.2-2.5-6.2-5.6c0,0,0-0.1,0-0.1l0.1-32.6L74,132.8z\" /></svg>\r\n                    <div className=\"wrp-nav-item-title\">新窗口打开</div>\r\n                </div>\r\n            </a>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state: RootStateOrAny) => ({\r\n    a: state.a,\r\n})\r\n\r\nconst connector = connect(mapStateToProps, null)\r\n\r\nexport default connector(Modal)","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\utils\\config.ts",[],"C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\components\\status.js",["307","308","309","310","311","312","313"],"import React from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport * as actions from '../actions/app';\r\n\r\nimport './status.scss';\r\n\r\n\r\nfunction Status(props){\r\n    // props.status,\r\n    console.log('Status', props.status)\r\n\r\n    const handleClick = ()=>{\r\n        // 回退，将状态重置为completed\r\n        if(props.status == 'completed') return;\r\n        if(props.status == 'loading') return;\r\n        if(props.status == 'parsing') return;\r\n\r\n        try{\r\n            props.setStatus('completed')\r\n        }catch(e){\r\n            console.error('status.js: need props.setStatus() ', e);\r\n        }\r\n\r\n    }\r\n\r\n    const wrapper = (content)=>{\r\n        return (\r\n            <div \r\n                className=\"wrp-show-status\"\r\n                onClick = {handleClick}\r\n            >\r\n                {content}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const errorIcon = (\r\n        <div className=\"wrp-icon\">\r\n            <svg className=\"wrp-icon-svg\" viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\" fill=\"rgb(var(--t-c-e))\"><defs><style type=\"text/css\"></style></defs><path d=\"M512 0a512 512 0 0 0-512 512 512 512 0 0 0 512 512 512 512 0 0 0 512-512 512 512 0 0 0-512-512z m241.005714 703.268571a32.182857 32.182857 0 0 1 0.512 45.348572 32.182857 32.182857 0 0 1-45.348571 0.512L512 556.763429 315.830857 748.982857a31.963429 31.963429 0 1 1-44.836571-45.787428L466.285714 512l-195.291428-191.268571a32.182857 32.182857 0 0 1-0.512-45.348572 32.182857 32.182857 0 0 1 45.348571-0.512L512 467.236571 708.169143 275.017143a31.963429 31.963429 0 1 1 44.836571 45.787428L557.714286 512l195.291428 191.268571z\" p-id=\"10064\"></path></svg>\r\n        </div>\r\n    );\r\n\r\n    const button = (\r\n        <div>\r\n            <button>重试</button>\r\n            <button>返回</button>\r\n        </div>\r\n    );\r\n\r\n    var statusContent = '';\r\n    switch(props.status){\r\n        case \"loading\":\r\n        case \"parsing\":\r\n        default:\r\n            if(props.status == \"loading\" || props.status == \"parsing\"){\r\n                statusContent = wrapper(\r\n                    <>\r\n                        <div className=\"wrp-icon\">\r\n                            <div className=\"wrp-loading-icon\">\r\n                                <div/> <div/>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"wrp-status-tip\">{props.status==\"loading\"?\"加载中...\":\"解析中...\"}</div>\r\n                    </>\r\n                )\r\n            }\r\n            break;\r\n        case \"failed\":\r\n        case \"timeout\":\r\n            statusContent = wrapper(\r\n                <>\r\n                    {errorIcon}\r\n                    <div className=\"wrp-text\">{props.status==\"failed\"?\"加载失败\":\"加载超时\"}</div>\r\n                    <div className=\"wrp-text wrp-status-des\">\r\n                        加载此网址：\r\n                        <span className=\"wrp-warning\">{props.url}</span>\r\n                        <br/>发生问题，请检查网址!\r\n                    </div>\r\n                </>\r\n            )\r\n            break;\r\n        case \"typeError\":\r\n            statusContent = wrapper(\r\n                <>\r\n                    {errorIcon}\r\n                    <div className=\"wrp-text\">返回类型错误</div>\r\n                    <div className=\"wrp-text wrp-status-des\">\r\n                        此网址：\r\n                        <span className=\"wrp-warning\">{props.url}</span>\r\n                        <br/>返回不受支持的内容，请检查网址!\r\n                    </div>\r\n                </>\r\n            )\r\n            break;\r\n        case \"completed\":\r\n            statusContent = ''\r\n            break;\r\n    }\r\n\r\n    return statusContent\r\n            \r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    status: state.webApp.status\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setStatus: status => {\r\n        dispatch(actions.setStatus(status))\r\n    }\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Status);","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\containers\\Home.js",["314","315","316","317","318","319","320","321","322"],"import React, { useState, useRef } from \"react\"\r\nimport { connect } from \"react-redux\"\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link,\r\n    useLocation,\r\n    useRouteMatch,\r\n    useParams,\r\n    useHistory,\r\n    withRouter,\r\n} from \"react-router-dom\"\r\n\r\nimport * as actions from \"../actions/webApp\"\r\n\r\nimport { calcHash } from \"../utils/core\"\r\n\r\nimport \"./home.scss\"\r\n\r\nimport logo from \"../assets/logo.png\"\r\n\r\nfunction ItemCard(props) {\r\n    let data = props.data\r\n    if (!data) data = {}\r\n    return (\r\n        <Link\r\n            to={`/wrp-read?url=${encodeURIComponent(data.url)}`}\r\n            className=\"wrp-card-wrapper\"\r\n            data-url={data.url}\r\n            data-key={data.key}\r\n        >\r\n            <div className=\"wrp-image-wrapper wrp-card-image\">\r\n                <img className=\"wrp-image\" src={data.icon}></img>\r\n            </div>\r\n            <div className=\"wrp-card-text-wrapper\">\r\n                <div className=\"wrp-ellipsis wrp-ct\">{data.title}</div>\r\n                <div className=\"wrp-cs\">{data.des}</div>\r\n            </div>\r\n        </Link>\r\n    )\r\n}\r\n\r\nfunction History(props) {\r\n    let List = []\r\n    if (!props.readHistory) return List\r\n    if (!Array.isArray(props.readHistory)) {\r\n        console.warn(\r\n            \"Home.js History(props), props.readHistory is not an Array.\"\r\n        )\r\n        return List\r\n    }\r\n    for (let i of props.readHistory) {\r\n        List.unshift(<ItemCard key={i.url || i.key || i} data={i}></ItemCard>)\r\n    }\r\n    return List\r\n}\r\n\r\nfunction Home(props) {\r\n    const [focused, setFocused] = useState(false)\r\n    const [input, setInput] = useState(\"\")\r\n    const inputEl = useRef(null)\r\n\r\n    const urlPattern = /^https?:\\/\\/(.+\\.\\w+.*)|(localhost.*)/\r\n\r\n    const onKeyUp = (e) => {\r\n        if (e.key === \"Enter\" && input) {\r\n            go()\r\n        }\r\n\r\n        if (e.key === \"Escape\") {\r\n            setFocused(false)\r\n            inputEl.current.blur()\r\n        }\r\n    }\r\n\r\n    const onChange = (e) => {\r\n        // console.log('onChange');\r\n        setInput(e.currentTarget.value)\r\n    }\r\n\r\n    const onPaste = (e) => {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        // console.log('onPaste');\r\n        let copiedText = e.clipboardData.getData(\"text/plain\")\r\n        let copiedRichText = e.clipboardData.getData(\"text/html\")\r\n        if (!copiedRichText || copiedRichText.length <= copiedText.length) {\r\n            setInput(copiedText)\r\n        } else {\r\n            // 如果粘贴的不是url, 则尝试获取富文本\r\n            setInput(copiedRichText)\r\n        }\r\n    }\r\n\r\n    const go = () => {\r\n        let isUrl = input.length < 10000 && urlPattern.test(input)\r\n\r\n        if (isUrl) {\r\n            return readFromUrl(input)\r\n        }\r\n\r\n        let key = String(calcHash(input))\r\n        localStorage.setItem(key, input)\r\n        readFromText(key, input)\r\n    }\r\n\r\n    const readFromUrl = (url) => {\r\n        if (url === props.webApp.url) {\r\n            props.setStatus(\"parsing\")\r\n            props.setLocation(\"/wrp-read\")\r\n        } else {\r\n            props.setUrl(url)\r\n            props.setKey(\"\")\r\n            props.setStatus(\"loading\")\r\n            props.loadXmlDoc(url)\r\n            props.setLocation(\"/wrp-read\")\r\n        }\r\n\r\n        // 转跳至 /wrp-read\r\n        props.history.push({\r\n            pathname: \"/wrp-read\",\r\n            search: `?url=${url}`,\r\n        })\r\n    }\r\n\r\n    const readFromText = (key, value = \"\") => {\r\n        if (!value) value = localStorage.getItem(key)\r\n        props.setKey(key)\r\n        // props.setXmlDoc(value)\r\n        props.setStatus(\"parsing\")\r\n        props.docParser(value, null, key)\r\n        props.setUrl(\"\")\r\n        props.setLocation(\"/wrp-read\")\r\n\r\n        // 转跳至 /wrp-read\r\n        props.history.push({\r\n            pathname: \"/wrp-read\",\r\n            search: `?key=${key}`,\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"wrp-page\">\r\n            <div className=\"wrp-app-logo-container\">\r\n                <img className=\"wrp-app-logo\" src={logo} />\r\n                <h1 class=\"wrp-app-logo-title\" style={{ display: \"none\" }}>\r\n                    Word Reading Beta\r\n                </h1>\r\n            </div>\r\n            <div\r\n                className={\"wrp-input-container \".concat(\r\n                    focused ? \"focused\" : \"\"\r\n                )}\r\n            >\r\n                <div className=\"wrp-input-bar\">\r\n                    {focused ? (\r\n                        <div\r\n                            className=\"wrp-input-bar-button\"\r\n                            onClick={() => setFocused(false)}\r\n                        >\r\n                            <svg\r\n                                viewBox=\"0 0 1118 1024\"\r\n                                version=\"1.1\"\r\n                                width=\"218.359375\"\r\n                                height=\"200\"\r\n                                fill=\"var(--c-dark)\"\r\n                            >\r\n                                <defs>\r\n                                    <style type=\"text/css\"></style>\r\n                                </defs>\r\n                                <path\r\n                                    d=\"M229.42 558.545h841.125c25.707 0 46.546-20.839 46.546-46.545 0-25.706-20.84-46.545-46.546-46.545H229.42L544.913 149.96c18.177-18.177 18.177-47.648 0-65.825-18.178-18.177-47.648-18.177-65.826 0L84.137 479.087c-9.09 9.089-13.634 21.001-13.634 32.913 0 11.912 4.545 23.824 13.633 32.913l394.951 394.95c18.178 18.178 47.648 18.178 65.826 0 18.177-18.176 18.177-47.647 0-65.824L229.419 558.545z\"\r\n                                    p-id=\"5564\"\r\n                                ></path>\r\n                            </svg>\r\n                        </div>\r\n                    ) : (\r\n                        \"\"\r\n                    )}\r\n                    {/* <input type=\"file\"></input> */}\r\n                    <input\r\n                        ref={inputEl}\r\n                        className={\"wrp-input \".concat(\r\n                            focused ? \"wrp-input-focused\" : \"\"\r\n                        )}\r\n                        id=\"wrp-home-input\"\r\n                        autoComplete=\"off\"\r\n                        contentEditable=\"true\"\r\n                        onChange={onChange}\r\n                        onKeyUp={onKeyUp}\r\n                        onPaste={onPaste}\r\n                        onFocus={() => setFocused(true)}\r\n                        type=\"text\"\r\n                        placeholder=\"贴入文章或链接\"\r\n                        value={input}\r\n                    ></input>\r\n                    {focused ? (\r\n                        <div\r\n                            className=\"wrp-input-bar-button wb-clearinput\"\r\n                            onClick={() => setInput(\"\")}\r\n                        >\r\n                            <svg\r\n                                viewBox=\"0 0 1024 1024\"\r\n                                version=\"1.1\"\r\n                                width=\"200\"\r\n                                height=\"200\"\r\n                                fill=\"var(--c-dark)\"\r\n                            >\r\n                                <defs>\r\n                                    <style type=\"text/css\"></style>\r\n                                </defs>\r\n                                <path\r\n                                    d=\"M512 0a512 512 0 0 0-512 512 512 512 0 0 0 512 512 512 512 0 0 0 512-512 512 512 0 0 0-512-512z m241.005714 703.268571a32.182857 32.182857 0 0 1 0.512 45.348572 32.182857 32.182857 0 0 1-45.348571 0.512L512 556.763429 315.830857 748.982857a31.963429 31.963429 0 1 1-44.836571-45.787428L466.285714 512l-195.291428-191.268571a32.182857 32.182857 0 0 1-0.512-45.348572 32.182857 32.182857 0 0 1 45.348571-0.512L512 467.236571 708.169143 275.017143a31.963429 31.963429 0 1 1 44.836571 45.787428L557.714286 512l195.291428 191.268571z\"\r\n                                    p-id=\"10064\"\r\n                                ></path>\r\n                            </svg>\r\n                        </div>\r\n                    ) : (\r\n                        \"\"\r\n                    )}\r\n                    <div className=\"wrp-input-bar-go\" onClick={go}>\r\n                        <svg viewBox=\"0 0 218.36 200\">\r\n                            <path\r\n                                fill=\"var(--c-light)\"\r\n                                d=\"M187.14,109.09l-61.62,61.62a9.09,9.09,0,0,0,12.86,12.86l77.14-77.14a9.1,9.1,0,0,0,0-12.86L138.38,16.43a9.09,9.09,0,1,0-12.86,12.86l61.62,61.62H22.86a9.09,9.09,0,1,0,0,18.18Z\"\r\n                            />\r\n                        </svg>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"wrp-card-container\">\r\n                <History readHistory={props.readHistory}></History>\r\n            </div>\r\n            <div>{/**推荐文章 */}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    readHistory: state.webApp.history,\r\n    webApp: state.webApp,\r\n    app: state.app,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    goRead: (input, currentUrl) => {\r\n        dispatch(actions.goRead(input, currentUrl))\r\n    },\r\n    setUrl: (url) => {\r\n        dispatch(actions.setUrl(url))\r\n    },\r\n    setKey: (key) => {\r\n        dispatch(actions.setKey(key))\r\n    },\r\n    loadXmlDoc: (url) => {\r\n        dispatch(actions.loadXmlDoc(url))\r\n    },\r\n    setStatus: (status) => {\r\n        dispatch(actions.setStatus(status))\r\n    },\r\n    setLocation: (location) => {\r\n        dispatch(actions.setLocation(location))\r\n    },\r\n    setXmlDoc: (xmlDoc) => {\r\n        dispatch(actions.setXmlDoc(xmlDoc))\r\n    },\r\n    docParser: (doc, baseUrl, key) => {\r\n        dispatch(actions.docParser(doc, baseUrl, key))\r\n    },\r\n})\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Home))\r\nexport { ItemCard }\r\n","C:\\Users\\baotlake\\Desktop\\React\\wordreadingpro\\src\\containers\\Head.js",["323"],"import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport './Head.scss'\r\n\r\nfunction Head(props) {\r\n  return <div id=\"wrp-head\">{props.heads}</div>;\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  heads: state.webApp.heads,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Head);",{"ruleId":"324","severity":1,"message":"325","line":9,"column":5,"nodeType":"326","messageId":"327","endLine":9,"endColumn":11},{"ruleId":"324","severity":1,"message":"328","line":10,"column":5,"nodeType":"326","messageId":"327","endLine":10,"endColumn":10},{"ruleId":"324","severity":1,"message":"329","line":11,"column":5,"nodeType":"326","messageId":"327","endLine":11,"endColumn":9},{"ruleId":"324","severity":1,"message":"330","line":12,"column":5,"nodeType":"326","messageId":"327","endLine":12,"endColumn":16},{"ruleId":"324","severity":1,"message":"331","line":13,"column":5,"nodeType":"326","messageId":"327","endLine":13,"endColumn":18},{"ruleId":"324","severity":1,"message":"332","line":14,"column":5,"nodeType":"326","messageId":"327","endLine":14,"endColumn":14},{"ruleId":"324","severity":1,"message":"333","line":15,"column":5,"nodeType":"326","messageId":"327","endLine":15,"endColumn":15},{"ruleId":"324","severity":1,"message":"334","line":16,"column":5,"nodeType":"326","messageId":"327","endLine":16,"endColumn":15},{"ruleId":"335","replacedBy":"336"},{"ruleId":"337","replacedBy":"338"},{"ruleId":"324","severity":1,"message":"339","line":108,"column":10,"nodeType":"326","messageId":"327","endLine":108,"endColumn":33},{"ruleId":"324","severity":1,"message":"340","line":9,"column":8,"nodeType":"326","messageId":"327","endLine":9,"endColumn":13},{"ruleId":"324","severity":1,"message":"341","line":2,"column":8,"nodeType":"326","messageId":"327","endLine":2,"endColumn":9},{"ruleId":"324","severity":1,"message":"342","line":3,"column":10,"nodeType":"326","messageId":"327","endLine":3,"endColumn":13},{"ruleId":"343","severity":1,"message":"344","line":242,"column":25,"nodeType":"345","messageId":"346","endLine":242,"endColumn":27},{"ruleId":"343","severity":1,"message":"344","line":325,"column":25,"nodeType":"345","messageId":"346","endLine":325,"endColumn":27},{"ruleId":"343","severity":1,"message":"344","line":418,"column":21,"nodeType":"345","messageId":"346","endLine":418,"endColumn":23},{"ruleId":"324","severity":1,"message":"347","line":470,"column":7,"nodeType":"326","messageId":"327","endLine":470,"endColumn":11},{"ruleId":"348","severity":1,"message":"349","line":474,"column":32,"nodeType":"350","messageId":"351","endLine":474,"endColumn":41},{"ruleId":"348","severity":1,"message":"352","line":475,"column":30,"nodeType":"350","messageId":"351","endLine":475,"endColumn":38},{"ruleId":"343","severity":1,"message":"353","line":481,"column":75,"nodeType":"345","messageId":"346","endLine":481,"endColumn":77},{"ruleId":"354","severity":1,"message":"355","line":502,"column":7,"nodeType":"356","messageId":"357","endLine":502,"endColumn":20},{"ruleId":"354","severity":1,"message":"358","line":504,"column":7,"nodeType":"356","messageId":"359","endLine":505,"endColumn":15},{"ruleId":"354","severity":1,"message":"355","line":583,"column":5,"nodeType":"356","messageId":"357","endLine":583,"endColumn":16},{"ruleId":"360","severity":1,"message":"361","line":720,"column":22,"nodeType":"362","messageId":"363","endLine":720,"endColumn":44},{"ruleId":"343","severity":1,"message":"344","line":774,"column":27,"nodeType":"345","messageId":"346","endLine":774,"endColumn":29},{"ruleId":"343","severity":1,"message":"344","line":803,"column":27,"nodeType":"345","messageId":"346","endLine":803,"endColumn":29},{"ruleId":"364","severity":1,"message":"365","line":5,"column":9,"nodeType":"356","messageId":"346","endLine":7,"endColumn":53},{"ruleId":"364","severity":1,"message":"365","line":8,"column":9,"nodeType":"356","messageId":"346","endLine":9,"endColumn":47},{"ruleId":"366","severity":1,"message":"367","line":3,"column":1,"nodeType":"368","endLine":15,"endColumn":2},{"ruleId":"369","severity":1,"message":"370","line":7,"column":13,"nodeType":"371","messageId":"372","endLine":7,"endColumn":19},{"ruleId":"324","severity":1,"message":"373","line":4,"column":10,"nodeType":"326","messageId":"327","endLine":4,"endColumn":21},{"ruleId":"324","severity":1,"message":"374","line":4,"column":23,"nodeType":"326","messageId":"327","endLine":4,"endColumn":34},{"ruleId":"324","severity":1,"message":"342","line":2,"column":10,"nodeType":"326","messageId":"327","endLine":2,"endColumn":13},{"ruleId":"324","severity":1,"message":"329","line":3,"column":5,"nodeType":"326","messageId":"327","endLine":3,"endColumn":9},{"ruleId":"324","severity":1,"message":"375","line":10,"column":8,"nodeType":"326","messageId":"327","endLine":10,"endColumn":18},{"ruleId":"324","severity":1,"message":"376","line":11,"column":8,"nodeType":"326","messageId":"327","endLine":11,"endColumn":18},{"ruleId":"324","severity":1,"message":"377","line":12,"column":8,"nodeType":"326","messageId":"327","endLine":12,"endColumn":17},{"ruleId":"324","severity":1,"message":"378","line":13,"column":8,"nodeType":"326","messageId":"327","endLine":13,"endColumn":17},{"ruleId":"324","severity":1,"message":"379","line":14,"column":8,"nodeType":"326","messageId":"327","endLine":14,"endColumn":17},{"ruleId":"324","severity":1,"message":"380","line":15,"column":8,"nodeType":"326","messageId":"327","endLine":15,"endColumn":24},{"ruleId":"324","severity":1,"message":"381","line":40,"column":33,"nodeType":"326","messageId":"327","endLine":40,"endColumn":35},{"ruleId":"369","severity":1,"message":"370","line":86,"column":13,"nodeType":"382","messageId":"372","endLine":87,"endColumn":55},{"ruleId":"369","severity":1,"message":"370","line":90,"column":13,"nodeType":"382","messageId":"372","endLine":91,"endColumn":55},{"ruleId":"369","severity":1,"message":"370","line":94,"column":13,"nodeType":"382","messageId":"372","endLine":95,"endColumn":57},{"ruleId":"383","severity":1,"message":"384","line":233,"column":44,"nodeType":"385","messageId":"386","endLine":233,"endColumn":46},{"ruleId":"383","severity":1,"message":"384","line":233,"column":61,"nodeType":"385","messageId":"386","endLine":233,"endColumn":63},{"ruleId":"324","severity":1,"message":"387","line":1,"column":28,"nodeType":"326","messageId":"327","endLine":1,"endColumn":36},{"ruleId":"324","severity":1,"message":"388","line":4,"column":22,"nodeType":"326","messageId":"327","endLine":4,"endColumn":28},{"ruleId":"324","severity":1,"message":"329","line":7,"column":5,"nodeType":"326","messageId":"327","endLine":7,"endColumn":9},{"ruleId":"324","severity":1,"message":"330","line":8,"column":5,"nodeType":"326","messageId":"327","endLine":8,"endColumn":16},{"ruleId":"324","severity":1,"message":"331","line":9,"column":5,"nodeType":"326","messageId":"327","endLine":9,"endColumn":18},{"ruleId":"324","severity":1,"message":"332","line":10,"column":5,"nodeType":"326","messageId":"327","endLine":10,"endColumn":14},{"ruleId":"324","severity":1,"message":"333","line":11,"column":5,"nodeType":"326","messageId":"327","endLine":11,"endColumn":15},{"ruleId":"324","severity":1,"message":"389","line":25,"column":10,"nodeType":"326","messageId":"327","endLine":25,"endColumn":15},{"ruleId":"390","severity":1,"message":"391","line":85,"column":8,"nodeType":"392","endLine":85,"endColumn":10,"suggestions":"393"},{"ruleId":"324","severity":1,"message":"341","line":16,"column":8,"nodeType":"326","messageId":"327","endLine":16,"endColumn":9},{"ruleId":"324","severity":1,"message":"373","line":24,"column":5,"nodeType":"326","messageId":"327","endLine":24,"endColumn":16},{"ruleId":"324","severity":1,"message":"394","line":36,"column":11,"nodeType":"326","messageId":"327","endLine":36,"endColumn":24},{"ruleId":"395","severity":1,"message":"396","line":38,"column":26,"nodeType":"397","messageId":"398","endLine":38,"endColumn":28},{"ruleId":"390","severity":1,"message":"399","line":196,"column":8,"nodeType":"392","endLine":196,"endColumn":10,"suggestions":"400"},{"ruleId":"324","severity":1,"message":"387","line":1,"column":17,"nodeType":"326","messageId":"327","endLine":1,"endColumn":25},{"ruleId":"324","severity":1,"message":"401","line":4,"column":8,"nodeType":"326","messageId":"327","endLine":4,"endColumn":12},{"ruleId":"324","severity":1,"message":"402","line":5,"column":8,"nodeType":"326","messageId":"327","endLine":5,"endColumn":16},{"ruleId":"335","replacedBy":"403"},{"ruleId":"337","replacedBy":"404"},{"ruleId":"324","severity":1,"message":"388","line":4,"column":22,"nodeType":"326","messageId":"327","endLine":4,"endColumn":28},{"ruleId":"324","severity":1,"message":"325","line":5,"column":5,"nodeType":"326","messageId":"327","endLine":5,"endColumn":11},{"ruleId":"324","severity":1,"message":"328","line":6,"column":5,"nodeType":"326","messageId":"327","endLine":6,"endColumn":10},{"ruleId":"324","severity":1,"message":"329","line":7,"column":5,"nodeType":"326","messageId":"327","endLine":7,"endColumn":9},{"ruleId":"324","severity":1,"message":"330","line":8,"column":5,"nodeType":"326","messageId":"327","endLine":8,"endColumn":16},{"ruleId":"324","severity":1,"message":"331","line":9,"column":5,"nodeType":"326","messageId":"327","endLine":9,"endColumn":18},{"ruleId":"324","severity":1,"message":"332","line":10,"column":5,"nodeType":"326","messageId":"327","endLine":10,"endColumn":14},{"ruleId":"324","severity":1,"message":"333","line":11,"column":5,"nodeType":"326","messageId":"327","endLine":11,"endColumn":15},{"ruleId":"343","severity":1,"message":"344","line":33,"column":19,"nodeType":"345","messageId":"346","endLine":33,"endColumn":21},{"ruleId":"405","severity":1,"message":"406","line":107,"column":17,"nodeType":"407","endLine":107,"endColumn":60},{"ruleId":"405","severity":1,"message":"406","line":28,"column":17,"nodeType":"407","endLine":28,"endColumn":60},{"ruleId":"335","replacedBy":"403"},{"ruleId":"337","replacedBy":"404"},{"ruleId":"335","replacedBy":"336"},{"ruleId":"337","replacedBy":"338"},{"ruleId":"408","severity":1,"message":"409","line":1,"column":27,"nodeType":"326","messageId":"327","endLine":1,"endColumn":33},{"ruleId":"408","severity":1,"message":"334","line":4,"column":10,"nodeType":"326","messageId":"327","endLine":4,"endColumn":20},{"ruleId":"408","severity":1,"message":"342","line":2,"column":10,"nodeType":"326","messageId":"327","endLine":2,"endColumn":13},{"ruleId":"408","severity":1,"message":"410","line":8,"column":11,"nodeType":"326","messageId":"327","endLine":8,"endColumn":16},{"ruleId":"343","severity":1,"message":"344","line":59,"column":36,"nodeType":"345","messageId":"346","endLine":59,"endColumn":38},{"ruleId":"408","severity":1,"message":"409","line":1,"column":28,"nodeType":"326","messageId":"327","endLine":1,"endColumn":34},{"ruleId":"390","severity":1,"message":"411","line":23,"column":8,"nodeType":"392","endLine":23,"endColumn":10,"suggestions":"412"},{"ruleId":"408","severity":1,"message":"413","line":2,"column":19,"nodeType":"326","messageId":"327","endLine":2,"endColumn":35},{"ruleId":"324","severity":1,"message":"388","line":4,"column":22,"nodeType":"326","messageId":"327","endLine":4,"endColumn":28},{"ruleId":"324","severity":1,"message":"325","line":5,"column":5,"nodeType":"326","messageId":"327","endLine":5,"endColumn":11},{"ruleId":"324","severity":1,"message":"328","line":6,"column":5,"nodeType":"326","messageId":"327","endLine":6,"endColumn":10},{"ruleId":"324","severity":1,"message":"331","line":9,"column":5,"nodeType":"326","messageId":"327","endLine":9,"endColumn":18},{"ruleId":"324","severity":1,"message":"332","line":10,"column":5,"nodeType":"326","messageId":"327","endLine":10,"endColumn":14},{"ruleId":"324","severity":1,"message":"333","line":11,"column":5,"nodeType":"326","messageId":"327","endLine":11,"endColumn":15},{"ruleId":"324","severity":1,"message":"334","line":12,"column":5,"nodeType":"326","messageId":"327","endLine":12,"endColumn":15},{"ruleId":"324","severity":1,"message":"414","line":67,"column":14,"nodeType":"326","messageId":"327","endLine":67,"endColumn":20},{"ruleId":"343","severity":1,"message":"344","line":67,"column":46,"nodeType":"345","messageId":"346","endLine":67,"endColumn":48},{"ruleId":"390","severity":1,"message":"415","line":77,"column":8,"nodeType":"392","endLine":77,"endColumn":18,"suggestions":"416"},{"ruleId":"324","severity":1,"message":"387","line":1,"column":17,"nodeType":"326","messageId":"327","endLine":1,"endColumn":25},{"ruleId":"324","severity":1,"message":"417","line":1,"column":27,"nodeType":"326","messageId":"327","endLine":1,"endColumn":36},{"ruleId":"324","severity":1,"message":"342","line":3,"column":10,"nodeType":"326","messageId":"327","endLine":3,"endColumn":13},{"ruleId":"324","severity":1,"message":"418","line":5,"column":13,"nodeType":"326","messageId":"327","endLine":5,"endColumn":24},{"ruleId":"324","severity":1,"message":"419","line":10,"column":8,"nodeType":"326","messageId":"327","endLine":10,"endColumn":13},{"ruleId":"390","severity":1,"message":"420","line":93,"column":6,"nodeType":"392","endLine":93,"endColumn":8,"suggestions":"421"},{"ruleId":"408","severity":1,"message":"422","line":6,"column":13,"nodeType":"326","messageId":"327","endLine":6,"endColumn":14},{"ruleId":"408","severity":1,"message":"410","line":10,"column":6,"nodeType":"326","messageId":"327","endLine":10,"endColumn":11},{"ruleId":"408","severity":1,"message":"423","line":14,"column":11,"nodeType":"326","messageId":"327","endLine":14,"endColumn":15},{"ruleId":"424","severity":1,"message":"425","line":43,"column":13,"nodeType":"407","endLine":43,"endColumn":52},{"ruleId":"343","severity":1,"message":"344","line":14,"column":25,"nodeType":"345","messageId":"346","endLine":14,"endColumn":27},{"ruleId":"343","severity":1,"message":"344","line":15,"column":25,"nodeType":"345","messageId":"346","endLine":15,"endColumn":27},{"ruleId":"343","severity":1,"message":"344","line":16,"column":25,"nodeType":"345","messageId":"346","endLine":16,"endColumn":27},{"ruleId":"343","severity":1,"message":"344","line":55,"column":29,"nodeType":"345","messageId":"346","endLine":55,"endColumn":31},{"ruleId":"343","severity":1,"message":"344","line":55,"column":58,"nodeType":"345","messageId":"346","endLine":55,"endColumn":60},{"ruleId":"343","severity":1,"message":"344","line":63,"column":70,"nodeType":"345","messageId":"346","endLine":63,"endColumn":72},{"ruleId":"343","severity":1,"message":"344","line":73,"column":60,"nodeType":"345","messageId":"346","endLine":73,"endColumn":62},{"ruleId":"324","severity":1,"message":"388","line":4,"column":22,"nodeType":"326","messageId":"327","endLine":4,"endColumn":28},{"ruleId":"324","severity":1,"message":"325","line":5,"column":5,"nodeType":"326","messageId":"327","endLine":5,"endColumn":11},{"ruleId":"324","severity":1,"message":"328","line":6,"column":5,"nodeType":"326","messageId":"327","endLine":6,"endColumn":10},{"ruleId":"324","severity":1,"message":"330","line":8,"column":5,"nodeType":"326","messageId":"327","endLine":8,"endColumn":16},{"ruleId":"324","severity":1,"message":"331","line":9,"column":5,"nodeType":"326","messageId":"327","endLine":9,"endColumn":18},{"ruleId":"324","severity":1,"message":"332","line":10,"column":5,"nodeType":"326","messageId":"327","endLine":10,"endColumn":14},{"ruleId":"324","severity":1,"message":"333","line":11,"column":5,"nodeType":"326","messageId":"327","endLine":11,"endColumn":15},{"ruleId":"405","severity":1,"message":"406","line":34,"column":17,"nodeType":"407","endLine":34,"endColumn":60},{"ruleId":"405","severity":1,"message":"406","line":146,"column":17,"nodeType":"407","endLine":146,"endColumn":60},{"ruleId":"324","severity":1,"message":"387","line":1,"column":17,"nodeType":"326","messageId":"327","endLine":1,"endColumn":25},"no-unused-vars","'Switch' is defined but never used.","Identifier","unusedVar","'Route' is defined but never used.","'Link' is defined but never used.","'useLocation' is defined but never used.","'useRouteMatch' is defined but never used.","'useParams' is defined but never used.","'useHistory' is defined but never used.","'withRouter' is defined but never used.","no-native-reassign",["426"],"no-negated-in-lhs",["427"],"'checkValidServiceWorker' is defined but never used.","'other' is defined but never used.","'A' is defined but never used.","'get' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'base' is assigned a value but never used.","no-self-assign","'node.href' is assigned to itself.","MemberExpression","selfAssignment","'node.src' is assigned to itself.","Expected '!==' and instead saw '!='.","no-fallthrough","Expected a 'break' statement before 'case'.","SwitchCase","case","Expected a 'break' statement before 'default'.","default","no-new-func","The Function constructor is eval.","NewExpression","noFunctionConstructor","no-duplicate-case","Duplicate case label.","import/no-anonymous-default-export","Unexpected default export of anonymous function","ExportDefaultDeclaration","no-unreachable","Unreachable code.","BreakStatement","unreachableCode","'extractPart' is defined but never used.","'extractHead' is defined but never used.","'arrow_icon' is defined but never used.","'audio_icon' is defined but never used.","'star_icon' is defined but never used.","'menu_icon' is defined but never used.","'open_icon' is defined but never used.","'arrowShadow_icon' is defined but never used.","'vh' is assigned a value but never used.","IfStatement","no-mixed-operators","Unexpected mix of '||' and '&&'.","LogicalExpression","unexpectedMixedOperator","'useState' is defined but never used.","'Router' is defined but never used.","'store' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'checkURI' and 'props'. Either include them or remove the dependency array. However, 'props' will change when *any* prop changes, so the preferred fix is to destructure the 'props' object outside of the useEffect call and refer to those specific props inside useEffect.","ArrayExpression",["428"],"'hiddenSomeone' is assigned a value but never used.","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","React Hook useEffect has missing dependencies: 'history' and 'props'. Either include them or remove the dependency array. However, 'props' will change when *any* prop changes, so the preferred fix is to destructure the 'props' object outside of the useEffect call and refer to those specific props inside useEffect.",["429"],"'logo' is defined but never used.","'manifest' is defined but never used.",["426"],["427"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","@typescript-eslint/no-unused-vars","'useRef' is defined but never used.","'Props' is defined but never used.","React Hook useEffect has a missing dependency: 'hostEl'. Either include it or remove the dependency array.",["430"],"'DefaultRootState' is defined but never used.","'colors' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'isShow' and 'trayData'. Either include them or remove the dependency array.",["431"],"'useEffect' is defined but never used.","'explActions' is defined but never used.","'Touch' is defined but never used.","React Hook useMemo has a missing dependency: 'props'. Either include it or remove the dependency array. However, 'props' will change when *any* prop changes, so the preferred fix is to destructure the 'props' object outside of the useMemo call and refer to those specific props inside useMemo.",["432"],"'_' is defined but never used.","'link' is assigned a value but never used.","react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","no-global-assign","no-unsafe-negation",{"desc":"433","fix":"434"},{"desc":"435","fix":"436"},{"desc":"437","fix":"438"},{"desc":"439","fix":"440"},{"desc":"441","fix":"442"},"Update the dependencies array to be: [checkURI, props]",{"range":"443","text":"444"},"Update the dependencies array to be: [history, props]",{"range":"445","text":"446"},"Update the dependencies array to be: [hostEl]",{"range":"447","text":"448"},"Update the dependencies array to be: [isShow, location, trayData]",{"range":"449","text":"450"},"Update the dependencies array to be: [props]",{"range":"451","text":"452"},[2275,2277],"[checkURI, props]",[6946,6948],"[history, props]",[564,566],"[hostEl]",[6284,6294],"[isShow, location, trayData]",[2877,2879],"[props]"]