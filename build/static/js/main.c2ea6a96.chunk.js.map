{"version":3,"sources":["reducers/webApp.js","reducers/app.js","reducers/explanation.js","reducers/a.js","reducers/translate.js","reducers/index.js","reducers/readPanel.js","components/word.js","actions/a.js","components/a.js","utils/core.js","actions/explanation.js","actions/translate.js","actions/readPanel.js","components/switch.js","components/Explanation.js","containers/ManageExplanation.js","containers/TranslatePanel.js","components/readPanel.js","utils/touch.js","App.js","actions/webApp.js","Home.js","Status.js","components/findPage.js","Head.js","webApp.js","serviceWorker.js","index.js","components/res/logo.png","components/res/explainBoxArrow.svg","components/res/audio.svg","components/res/star.svg","components/res/more.svg","components/res/open.svg","components/res/arrowShadow.png"],"names":["webApp","state","action","type","status","xmlDoc","url","console","log","history","location","key","elements","heads","app","explanation","count","word","coordinate","show","data","audio","zoom","Number","isNaN","more","Array","isArray","concat","moreObj","map","w","Object","keys","setting","isUnfold","unfoldMore","a","href","translate","value","original","translation","combineReducers","readPanel","menuStyle","style","target","props","touchMoving","movingRecord","sumX","sumY","lastX","lastY","e","this","touches","pageX","pageY","self","setTimeout","Math","abs","warn","clientX","clientY","setState","toString","id","className","content","React","Component","setShow","setHref","connect","dispatch","isShow","aActions","onClick","preventDefault","_","children","AModal","data-wrp-action-block","test","viewBox","version","fill","xmlns","p-id","d","to","encodeURIComponent","x","y","config","extractScope","front","behind","fn","bn","sId","isInline","nodeName","window","getComputedStyle","getPropertyValue","search","comparePosition","breakPoints","length","middle","round","textContent","getSelection","removeAllRanges","range","Range","setStart","setEnd","addRange","domRect","getClientRects","height","slice","calcOffset","text","points","push","getBreakPoints","firstChild","p","obj","result","point","nextSibling","getTargetAndBreakPoint","extractPart","offset","frontPattern","behindPattern","frontTarget","previousSibling","frontFind","behindFind","findSubPart","direction","pattern","subPart","match","testParent","driectTarget","texts","break","unshift","classList","copyWord","lastChild","copy","parentNode","childrenList","deepCopy","node","returnChilren","toLowerCase","ignoreTag","includes","attToProps","noChildren","element","createElement","handleClick","clickWord","extractBothEnds","frontCross","extractFront","extractBehind","wordSplit","wordpattern","List","splitList","split","getWord","getCross","cross","other","otherWord","c","crossChildren","otherChildren","htmlTraversal","alterNode","extractHead","head","list","i","childNodes","src","findIndex","rel","innerText","extractAbstract","abstract","links","getElementsByTagName","link","indexOf","icon","title","docTitle","docH1","body","pTags","description","trim","spanTags","des","styleConvert","styleObj","replace","m","g","toUpperCase","attributes","att","attName","name","attValue","Function","integrity","haveCrossWord","nextNode","deep","child","frontHaveWordEnd","behindHaveWordEnd","onlyOneChild","s","sentenceSplit","frontOther","haveCross","haveCross2","behindCross","newFrontCross","behindOther","replaceScript","attr","scriptList","document","querySelectorAll","forEach","newScript","appendChild","targetActionFilter","path","j","max","blockAttr","setData","loadWordData","Promise","resolve","axios","method","timeout","res","get","answer","join","addMore","setExplState","Error","filter","tapWord","event","anchorNode","wholeText","anchorOffset","clickedChar","part","position","setWord","setMore","setStatus","setMenuStyle","Switch","switchStyle","boxSizing","width","backgroundColor","borderRadius","display","alignItems","padding","color","transition","verticalAlign","marginLeft","dotStyle","border","onStyle","justifyContent","offStyle","assign","switchChange","undefined","initStatus","Explanation","size","maxNumber","setSetting","setMoreFold","setZoom","Loading","nothing","t","ew","eh","aw","ah","topDistance","wordDistance","edgeDistance","arrowOverlapping","remRatioPx","arrowPosition","vw","innerWidth","ratio","innerHeight","top","left","calcPosition","autoPlay","auto","audioUS","audioUK","playingWhich","playWhich","fontSize","getElementById","play","menuBgStyle","moreList","unfold","renderMore","explActions","touchRecord","moving","slipY","slipNum","TranslatePanel","movingStyle","dragY","tpHeight","bind","stopPropagation","setDrag","showStatus","xhr","XMLHttpRequest","open","withCredentials","setRequestHeader","onload","json","JSON","parse","responseText","translateText","send","tp","addEventListener","offsetHeight","dragStyle","transform","panelStyle","hidden","bottom","half","full","onTouchMove","handleTouchSlip","handleDrag","resetDrag","ownProps","translateActions","mapStateToProps","mapDispatchToProps","actions","ToolMenu","opacity","pointerEvents","add","remove","Touch","start","move","end","startX","startY","startTime","duration","clear","Date","now","onStart","call","onMoving","onEnd","callback","setHistory","item","setXmlDoc","events","setExplShow","setAShow","tapA","loadXmlDoc","setUrl","slideTranslate","sentence","setOriginal","formData","URLSearchParams","append","Data","Translated","transActions","showToolMenu","screen","availWidth","vh","availHeight","setTarget","rpActions","useEffect","linkIntercept","touch","setOnStart","setOnMoving","setOnEnd","scrolling","timestamp","scrollTop","scrollOffset","onScroll","documentElement","capture","passive","removeEventListener","ManageExplanation","setLocation","historyList","localStorage","getItem","v","shift","removeItem","historyStr","stringify","setItem","setHeads","input","encode","url2","inputObj","URL","host","reject","docParser","setElements","doc","baseUrl","t1","dom","DOMParser","parseFromString","base","origin","insertBefore","htmlElements","t2","ItemCard","data-url","data-key","History","readHistory","withRouter","goRead","currentUrl","isUrl","setKey","useState","focused","setFocused","setInput","urlPattern","readFromUrl","pathname","readFromText","logo","autoComplete","contentEditable","onChange","currentTarget","onKeyUp","onPaste","copiedText","clipboardData","getData","copiedRichText","onFocus","placeholder","String","reduce","b","charCodeAt","error","wrapper","errorIcon","statusContent","itemCard","aria-hidden","fill-rule","itemIcon","checkURI","urlParams","searchParams","listen","exact","testAction","data-hotkey","data-unscoped-placeholder","data-scoped-placeholder","autocapitalize","aria-label","onInput","Boolean","hostname","traget","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","rootReducer","applyMiddleware","thunk","render","navigator","serviceWorker","ready","then","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.c2ea6a96.chunk.js","sourcesContent":["const webApp = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case \"webApp/SETSTATUS\":\r\n            return {...state, status: action.status}\r\n        case \"webApp/SETXMLDOC\":\r\n            // console.log(`reducers app/SETXMLDOC: xmlDoc: ${action.xmlDoc}`)\r\n            return {...state, xmlDoc: action.xmlDoc}\r\n        case \"webApp/SETURI\":\r\n            return {...state, url: action.url}\r\n        case \"webApp/SETHISTORY\":\r\n            console.log(`reducers app/SETHISTORY:`, action.history)\r\n            return {...state, history: action.history}\r\n        case \"webApp/SETLOCATION\":\r\n            return {...state, location: action.location}\r\n        case \"webApp/SETKEY\":\r\n            return {...state, key: action.key}\r\n        case \"webApp/SETELEMENTS\":\r\n            console.log('reducers set elements', action)\r\n            return {...state, elements: action.elements}\r\n        case \"webApp/SETHEADS\":\r\n            return {...state, heads: action.heads}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default webApp","const app = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case \"app/\":\r\n            return {...state, status: action.status}\r\n        case \"app/\":\r\n            // console.log(`reducers app/SETXMLDOC: xmlDoc: ${action.xmlDoc}`)\r\n            return {...state, xmlDoc: action.xmlDoc}\r\n        case \"app/\":\r\n            return {...state, url: action.url}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default app","const explanation = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case \"SHOW_EXPANATION\":\r\n      console.log(`reducers count: ${state.count}`);\r\n      let count = state.count + 1 || 1;\r\n      return { ...state, word: \"WORD\", count: count };\r\n    case \"expl/SETWORD\":\r\n      if (action.coordinate == null) return { ...state, word: action.word };\r\n      return { ...state, word: action.word, coordinate: action.coordinate };\r\n    case \"expl/SETSHOW\":\r\n      console.log(\"reducer set show\");\r\n      return { ...state, show: action.show };\r\n    case \"expl/SETDATA\":\r\n      return { ...state, data: action.data };\r\n    case \"expl/SETEXPLSTATE\":\r\n      console.log(\"set expl Status\", action.status);\r\n      return { ...state, status: action.status };\r\n    case \"expl/SETPLAYAUDIO\":\r\n      return { ...state, audio: action.audio };\r\n    case \"expl/SETZOOM\":\r\n      let zoom = (state.zoom == null ? 0 : state.zoom) + action.zoom;\r\n      if (typeof zoom !== \"number\" || Number.isNaN(zoom)) zoom = 0;\r\n      return { ...state, zoom: zoom };\r\n    case \"expl/ADDMORE\":\r\n      let more = Array.isArray(state.more)\r\n        ? state.more.concat(action.more)\r\n        : [action.more];\r\n      let moreObj = {}\r\n      more.map(w => moreObj[w]='')\r\n      return { ...state, more: Object.keys(moreObj) };\r\n    case \"exp/SETMORE\":\r\n      return { ...state, more: action.more };\r\n    case \"expl/SETSETTING\":\r\n      let setting = { ...state.setting, ...action.setting };\r\n      return { ...state, setting: setting };\r\n    case \"expl/SETMOREFOLD\":\r\n      if (action.isUnfold == null) {\r\n        return { ...state, unfoldMore: !state.unfoldMore };\r\n      }\r\n      return { ...state, unfoldMore: action.unfoldMore };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default explanation;\r\n","const a = (state={}, action) => {\n    switch(action.type) {\n        case \"a/SETSHOW\":\n            console.log('a setshow', action.status)\n            if( action.status === null  ) return { ...state, show:!state.status }\n            return { ...state, show: action.status }\n        case \"a/SETHREF\":\n            return { ...state, href:action.href }\n        default:\n            return { ...state }\n    }\n}\n\nexport default a;","const translate = (state = {}, action) => {\n    switch(action.type){\n        case \"translate/SETSHOW\":\n            return { ...state, show: action.value }\n        case \"translate/SETORIGINAL\":\n            return { ...state, original: action.original }\n        case \"translate/SETTRANSLATION\":\n            return { ...state, translation: action.translation}\n        case \"translate/SETSTATUS\":\n            return { ...state, status: action.status }\n        // case \"\":\n        //     return { ...state, }\n        default:\n            return state\n    }\n}\n\nexport default translate","import { combineReducers } from 'redux'\r\n\r\nimport webApp from './webApp';\r\nimport app from './app';\r\nimport explanation  from './explanation';\r\nimport a from './a';\r\nimport translate from './translate';\r\nimport readPanel from './readPanel';\r\nimport other  from './other';\r\n\r\nconsole.log(`reducers.js`);\r\n\r\nexport default combineReducers({\r\n    webApp,\r\n    app,\r\n    explanation,\r\n    a,\r\n    translate,\r\n    readPanel,\r\n    // other\r\n})","\r\n\r\nexport default function (state = {}, action) {\r\n    switch (action.type) {\r\n        case \"readPanel/SETMENUSTYLE\":\r\n            return { ...state, menuStyle: action.style }\r\n            break;\r\n        case \"readanel/SETTARGET\":\r\n            return { ...state, target: action.target }\r\n        default:\r\n            return state;\r\n    }\r\n}","import React from 'react';\r\nimport { getKeys } from 'eslint-visitor-keys';\r\n\r\nvar key = 0;\r\nfunction getMyKeys(){\r\n    key += 1\r\n    return key.toString()\r\n}\r\n\r\nclass word extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            style:{}\r\n        }\r\n        this.touchMoving = false;\r\n        this.movingRecord = {\r\n            sumX:0,\r\n            sumY:0,\r\n            lastX:0,\r\n            lastY:0\r\n        }\r\n    }\r\n\r\n\r\n    handleTouchMove(e){\r\n        // console.log('touchMove',e,e.touches,e.targetTouches)\r\n        // console.log(e.touches[0].pageX, e.touches[0].pageY, this.touchMoving)\r\n        if(!this.touchMoving){\r\n            // 触摸开始\r\n            this.touchMoving = true;\r\n            let self = this;\r\n            setTimeout(()=>{\r\n                self.touchMoving = false;\r\n                // console.log('time up', this.touchMoving)\r\n            }, 100, this);\r\n            // 记录初始化\r\n            this.movingRecord = {\r\n                sumX:0,\r\n                sumY:0,\r\n                lastX:e.touches[0].pageX,\r\n                lastY:e.touches[0].pageY\r\n            }\r\n        }else{\r\n            // 滑动中 记录\r\n            this.movingRecord.sumX = this.movingRecord.sumX + e.touches[0].pageX - this.movingRecord.lastX;\r\n            this.movingRecord.sumY = this.movingRecord.sumY + e.touches[0].pageY - this.movingRecord.lastY;\r\n            this.movingRecord.lastX = e.touches[0].pageX;\r\n            this.movingRecord.lastY = e.touches[0].pageY;\r\n        }\r\n\r\n        // 滑动 判断\r\n        if(Math.abs(this.movingRecord.sumX) > 50 && Math.abs(this.movingRecord.sumY) < 15){\r\n            // 成立\r\n            // console.log(\"translate\")\r\n            try{\r\n                this.props.translate(e)\r\n            }catch(e){\r\n                console.warn(\"word: props.translate is not function!\", e);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    handleMouseMove(e){\r\n        // console.log('handleMouseMove', this.touchMoving);\r\n        if(this.touchMoving){\r\n            // console.log('handleMouseMove', e)\r\n        }\r\n    }\r\n\r\n    handleMouseDown(e){\r\n        this.touchMoving = true;\r\n    }\r\n\r\n    handleMouseUp(e){\r\n        this.touchMoving = false;\r\n    }\r\n\r\n    handleDoubleClick(e){\r\n        console.log('double click')\r\n        try{\r\n            this.props.translate(e)\r\n        }catch(e){\r\n            console.warn(\"word: props.translate is not function!\", e);\r\n        }\r\n    }\r\n\r\n    handleTest(w, e){\r\n        console.log(\"click e->\", e, e.clientX, e.clientY)\r\n        this.setState({\r\n            style:{\r\n                \"backgroundColor\":\"#fff\",\r\n                \"borderRadius\":\"5px\"\r\n            }\r\n        })\r\n    }\r\n\r\n    render(){\r\n        let key = getMyKeys()\r\n        return (\r\n            <span\r\n                key={key}\r\n                id={key}\r\n                className=\"@w\"\r\n                // onTouchMove={(e)=>this.handleTouchMove(e)}\r\n                // onMouseDown={(e)=>this.handleMouseDown(e)}\r\n                // onMouseMove={(e)=>this.handleMouseMove(e)}\r\n                // onMouseUp={(e)=>this.handleMouseUp(e)}\r\n                // style={this.state.style}\r\n            >{this.props.content}</span>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default word;","\nexport const setShow = status => ({\n    type: 'a/SETSHOW',\n    status\n})\n\nexport const setHref = href => ({\n    type: 'a/SETHREF',\n    href\n})\n\n// a = <a>\nexport const tapA = a => {\n    let href = a.href;\n\n    return dispatch => {\n        dispatch(setHref(href))\n        dispatch(setShow(true))\n    }\n}","import React from 'react';\r\nimport {\r\n    Link,\r\n} from 'react-router-dom';\r\n\r\nimport '../App.scss';\r\n\r\nimport { connect } from 'react-redux'\r\nimport * as aActions from '../actions/a'\r\nimport * as _ from 'lodash'\r\n\r\n// A 组件目前弃用\r\nfunction A(props) {\r\n\r\n    const handleClick = (e) => {\r\n        e.preventDefault();\r\n        let url = _.get(e, 'currentTarget.attributes.data-src.value');\r\n        if (!url) return;\r\n        props.setHref(url)\r\n        props.setShow(true)\r\n    }\r\n\r\n    // let aProps = props.props\r\n    // // aProps.className = \"wrp-a \" + aProps.className;\r\n    // aProps['data-href'] = aProps.href;\r\n    // delete aProps.href;\r\n    return (\r\n        <a {...props.props}\r\n            onClick={handleClick}\r\n        >{props.children}</a>\r\n    );\r\n}\r\n\r\nfunction Modal(props) {\r\n\r\n    const link = {\r\n        hash: false,\r\n        url: \"\",\r\n    }\r\n\r\n    const externalLink = null;\r\n\r\n    return (\r\n        <div \r\n            className={'wrp-link-dialog-box '.concat(props.a.show ? 'link-dialog-show' : '')}\r\n            data-wrp-action-block=\"intercept\"\r\n        >\r\n            <div>\r\n                {(/^#.+/.test(props.a.href)) ?\r\n                    <a href={props.a.href}>\r\n                        <div className=\"wrp-nav-item wrp-ld-button\">\r\n                            <svg className=\"wrp-nav-item-icon \" viewBox=\"0 0 1024 1024\" version=\"1.1\" fill=\"var(--c-dark)\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"4385\"><defs><style type=\"text/css\"></style></defs><path d=\"M250.016 416.992l319.008 43.008 40 310.016 236-591.008zM120.992 464q-11.008-0.992-18.496-8.512t-8.992-19.008 4-20.512 15.488-12.992l778.016-311.008q8.992-4 18.016-2.016t16 8.992 8.992 16-2.016 18.016l-310.016 776q-4 10.016-13.504 15.488t-20.512 4-18.496-8.992-8.512-18.496l-48.992-384z\" p-id=\"4386\"></path></svg>\r\n                            <div className=\"wrp-nav-item-title\" >转跳至此处</div>\r\n                        </div>\r\n                    </a>\r\n                    :\r\n                    <Link\r\n                        className=\"wrp-nav-item wrp-ld-button\"\r\n                        to={`/wrp-read?url=${encodeURIComponent(props.a.href)}`}\r\n                    >\r\n                        <svg className=\"wrp-nav-item-icon \" viewBox=\"0 0 1024 1024\" version=\"1.1\" fill=\"var(--c-dark)\"><path d=\"M863 942H500.3L309.7 822.6c-33.8-21.2-54.9-60.7-54.9-103V162.5c0-30.4 14.5-57.6 38.7-72.9 24.4-15.4 53.6-15.4 78-0.1L507 174.3h356c52.9 0 96 46.9 96 104.6v558.4c0 57.8-43.1 104.7-96 104.7z m-345.6-69.8H863c17.6 0 32-15.6 32-34.9V278.9c0-19.2-14.4-34.9-32-34.9H489.9l-150.3-94.1c-6.4-4-12-1.3-14.1 0-2.5 1.6-6.7 5.3-6.7 12.6v557.1c0 17.5 8.7 33.8 22.8 42.5l175.8 110.1z\" fill=\"#595959\" p-id=\"4277\"></path><path d=\"M508.8 942H161c-52.9 0-96-46.9-96-104.6V278.9c0-57.7 43.1-104.6 96-104.6h125.8v69.8H161c-17.6 0-32 15.6-32 34.9v558.4c0 19.2 14.4 34.9 32 34.9h347.8V942zM497.5 174.3h1v69.8h-1z\" p-id=\"4278\"></path><path d=\"M480 209.2h64v697.2h-64z\" p-id=\"4279\"></path></svg>\r\n                        <div className=\"wrp-nav-item-title\">阅读新页面</div>\r\n                    </Link>\r\n                }\r\n            </div>\r\n            <a href={externalLink} target=\"_blank\" href={props.a.href}>\r\n                <div className=\"wrp-nav-item wrp-ld-button\">\r\n                    <svg className=\"wrp-nav-item-icon \" version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 200 200\" ><path fill=\"var(--c-dark)\" d=\"M168.8,123.3c0-3.2,2.8-5.8,6.3-5.8s6.3,2.6,6.3,5.8V164c0,6.4-5.6,11.6-12.5,11.6H31.2\tc-6.9,0-12.5-5.2-12.5-11.6V36c0-6.4,5.6-11.6,12.5-11.6H75c3.5,0,6.3,2.6,6.3,5.8s-2.8,5.8-6.3,5.8H37.5c-3.4,0-6.2,2.6-6.3,5.8\tc0,0,0,0,0,0.1v116.2c0,3.2,2.8,5.8,6.2,5.8c0,0,0,0,0.1,0h125c3.4,0,6.2-2.6,6.3-5.8c0,0,0,0,0-0.1V123.3z M74,132.8\tc-2.4,2.3-6.4,2.3-8.8,0c0,0,0,0,0,0c-2.4-2.2-2.5-5.9-0.1-8.2c0,0,0,0,0,0l94-87.4l-34.4,0.1c-3.4,0-6.1-2.5-6.2-5.7\tc0,0,0-0.1,0-0.1c0-3.2,2.8-5.8,6.2-5.8l49.8-0.2c3.4,0,6.1,2.5,6.2,5.7c0,0,0,0.1,0,0.1l-0.2,46.4c-0.1,3.2-2.8,5.8-6.3,5.8\tc-3.4,0-6.2-2.5-6.2-5.6c0,0,0-0.1,0-0.1l0.1-32.6L74,132.8z\" /></svg>\r\n                    <div className=\"wrp-nav-item-title\">新窗口打开</div>\r\n                </div>\r\n            </a>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    a: state.a,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    setShow: isShow => {\r\n        dispatch(aActions.setShow(isShow))\r\n    },\r\n    setHref: href => {\r\n        dispatch(aActions.setHref(href))\r\n    }\r\n})\r\n\r\nexport default connect(null, mapDispatchToProps)(A);\r\n\r\nexport const AModal = connect(mapStateToProps, null)(Modal)\r\n\r\n// 有的页面会js动态加载新的<a/>, 该怎么办？\r\n\r\n\r\n","import React from \"react\";\nimport Word from \"../components/word\";\nimport A from \"../components/a\";\nimport { get } from \"lodash\";\n\nconst config = {\n  splitWord: false,\n  splitSentence: false,\n  runScript: true,\n  keepIntegrity: false,\n};\n\nconst extractScope = {\n  front: 1,\n  behind: 1,\n  /**\n   * fn, bn为断句过程中的变量,\n   * 当fn == front, bn == behind时, 断句即结束\n   * 每次断句结束后, 需要重置fn, bn\n   */\n  fn: 0,\n  bn: 0,\n};\n\n// sentence id\nlet sId = 0;\n\nfunction isInline(target) {\n  // console.log('isInline: ', target, typeof target, target.nodeName)\n  if (!target) return false;\n  if (target.nodeName === \"#text\") return true;\n\n  let display = window.getComputedStyle(target).getPropertyValue(\"display\");\n  if (display.search(\"inline\") !== -1) return true;\n\n  return false;\n}\n\n/**\n * @param {String} text \n */\nfunction getBreakPoints(text) {\n  let length = text.length;\n  let breakPoints = [];\n  let points = text.search(/[.?!。？！]/);\n  while (points !== -1) {\n    // console.log('=', points)\n    breakPoints.push(length - text.length + points)\n    text = text.slice(points + 1)\n    points = text.search(/[.?!。？！]/);\n  }\n\n  // console.log('breakPoints', breakPoints)\n  return breakPoints;\n}\n\n/**\n * 用于查找 #text 和 Element 混合节点的分句位置\n * 返回所有可能存在分句点的#text对象 和 分句点的相对位置\n * @param {Node} target \n */\nfunction getTargetAndBreakPoint(target) {\n  target = target.firstChild;\n  let result = []\n  while (target !== null) {\n    console.log('--')\n    if (target.nodeName !== '#text') {\n      target = target.nextSibling;\n      continue;\n    }\n\n    let text = target.textContent\n    let length = text.length\n    let point = text.search(/[.?!。？！]/)\n\n    let p = {\n      points: []\n    }\n\n    while (point !== -1) {\n      p.points.push(length - text.length + point);\n      text = text.slice(point + 1)\n      point = text.search(/[.?!。？！]/)\n    }\n\n    if (p.points.length > 0) {\n      p.target = target\n      result.push(p)\n    }\n\n    target = target.nextSibling;\n  }\n  return result;\n}\n\nfunction comparePosition(target, breakPoints, x, y) {\n  if (breakPoints.length <= 0) return 0;\n  let middle = Math.round(breakPoints.length / 2) - 1;\n  // console.log('comparePosition', target, breakPoints, x, y, middle)\n  if (breakPoints[0] >= target.textContent.length) return false;\n  // // 不使用二分法\n  // if (breakPoints[breakPoints.length - 1] >= target.textContent.length) middle = 0;\n\n  window.getSelection().removeAllRanges()\n  let range = new Range(target)\n  range.setStart(target, breakPoints[middle]);\n  range.setEnd(target, breakPoints[middle] + 1);\n  window.getSelection().addRange(range);\n  let domRect = range.getClientRects()[0]\n  // console.log('domRect', domRect)\n  // Previous\n  if (y < domRect.y || (y < domRect.y + domRect.height && x < domRect.x)) {\n    if (breakPoints.slice(0, middle) < 1) return breakPoints[0];\n    return comparePosition(target, breakPoints.slice(0, middle), x, y)\n  }\n\n  // following\n  if (y > domRect.y + domRect.height || (x > domRect.x && y > domRect.y)) {\n    if (breakPoints.slice(middle + 1) < 1)\n      return breakPoints.slice(middle, middle + 1)[0] + 1;\n    return comparePosition(target, breakPoints.slice(middle + 1), x, y)\n  }\n}\n\nexport function calcOffset(target, x, y) {\n\n  if (target.children.length === 0) {\n    let breakPoints = getBreakPoints(target.textContent);\n    target = target.firstChild;\n    return [target, comparePosition(target, breakPoints, x, y)]\n  }\n\n  // #text 和 Element 混合节点\n  let breakPoints = getTargetAndBreakPoint(target);\n  if (breakPoints.length === 0) return [target, 0];\n  let p\n  let obj\n  for (obj of breakPoints) {\n    p = comparePosition(obj.target, obj.points, x, y)\n    if (p <= obj.points[obj.points.length - 1]) {\n      return [obj.target, p];\n    }\n  }\n\n  return [obj.target, p]\n}\n\n// 从html中提取部分文字区域， 例如：单词，句子\n/**\n * @param {Node} target\n * @param {Number} offset\n * @param {Enumera} type\n */\nexport function extractPart(target, offset, type = \"word\") {\n  if (!target) return [\"\", \"\"];\n  // console.log('translate test',target);\n  let frontPattern;\n  let behindPattern;\n  if (type === \"word\") {\n    frontPattern = /^[\\s\\S]*\\W(\\w*?)$/;\n    behindPattern = /^(\\w*?)\\W[\\s\\S]*$/;\n  }\n\n  if (type === \"sentence\") {\n    frontPattern = /^[\\s\\S]*(?:(?:[.!?](?!\\w))|[。！？\\v\\t])([\\s\\S]*?)$/;\n    behindPattern = /^([\\s\\S]*?([.!?](?!\\w))|[。！？\\v\\t])[\\s\\S]*$/;\n  }\n\n  let frontTarget = target;\n  if (offset == null) {\n    frontTarget = target.previousSibling;\n    if (!isInline(target)) {\n      frontTarget = null;\n    }\n  }\n  console.log(\"frontPattern\", frontPattern, behindPattern);\n  // console.log('a',frontTarget,offset)\n  let front = frontFind(frontTarget, offset, true, frontPattern, true);\n  // console.log('go -1 front',front,'go -2');\n  let behind = behindFind(target, offset, true, behindPattern, true);\n  // console.log('go -2 behind',behind,'go -end');\n\n  extractScope.fn = 0;\n  extractScope.bn = 0;\n\n  return [front, behind];\n}\n\n// 🦉 英文人名缩写如何判断？\n\n// 寻找分割的断点位置\nexport function findSubPart(text, direction, pattern) {\n  /**front 单词模板pattern /^[\\s\\S]*\\W(\\w*?)$/\n   * behind 单词模板pattern /^(\\w*?)\\W[\\s\\S]*$/\n   */\n  let subPart;\n  if (direction === \"front\") {\n    // let pattern = /^[\\s\\S]*\\W(\\w*?)$/;\n    subPart = text.match(pattern);\n    // console.log('match', subPart);\n    if (subPart != null) {\n      extractScope.fn += 1;\n      subPart = subPart[1];\n    } else {\n      subPart = text;\n    }\n  }\n\n  if (direction === \"behind\") {\n    // behind\n    // let pattern = /^(\\w*?)\\W[\\s\\S]*$/;\n    subPart = text.match(pattern);\n    // console.log('match', subPart, pattern);\n\n    if (subPart != null) {\n      extractScope.bn += 1;\n      subPart = subPart[1];\n    } else {\n      subPart = text;\n    }\n  }\n  // console.log('subPart', subPart)\n  // const end = /[.。!！?？]/\n  return subPart;\n}\n\nexport function frontFind(\n  target, offset,\n  testParent = true,\n  pattern,\n  driectTarget = false\n) {\n  // 向前遍历节点 查找翻译起点\n  // console.log('f')\n  let result = {\n    texts: [],\n    elements: [],\n    break: false,\n  };\n  if (!target) return result;\n  while (target) {\n    // console.log(\"front, while\", target,result.texts);\n    if (target.nodeName == \"#text\") {\n      let text;\n      if (offset !== null) {\n        text = target.textContent.slice(0, offset);\n      } else {\n        text = target.textContent;\n      }\n      // console.log('front text', text, target)\n      let subPart = findSubPart(text, \"front\", pattern);\n      // console.log('subPart', subPart)\n      if (extractScope.front <= extractScope.fn) {\n        result.texts.unshift(subPart);\n        result.elements.unshift(subPart);\n        // console.log('break')\n        result.break = true;\n        break;\n      } else {\n        subPart = text;\n        result.texts.unshift(subPart);\n        result.elements.unshift(subPart);\n      }\n    } else if (isInline(target)) {\n      if (target.classList[0] == \"@w\") {\n        // Word\n        result.texts.unshift(target.textContent);\n        result.elements.unshift(copyWord(target));\n      } else {\n        // 需要遍历子节点\n        let children = frontFind(target.lastChild, offset, false, pattern);\n        result.texts.unshift(...children.texts);\n        result.elements.unshift(copy(target, children.elements));\n        result.break = children.break;\n        if (children.break) break;\n      }\n    } else if (!driectTarget) {\n      break;\n    } else {\n      // 其他标签， 遍历子节点\n      let children = frontFind(target.lastChild, offset, false, pattern);\n      // console.log(\"front children\", children)\n      result.texts.unshift(...children.texts);\n      result.elements.unshift(copy(target, children.elements));\n      result.break = children.break;\n      if (children.break) break;\n    }\n\n    // 偶尔因target.parentName undefined 出错;\n    if (target.previousSibling) {\n      if (!isInline(target.previousSibling)) {\n        extractScope.fn += 1;\n      }\n      target = target.previousSibling;\n    } else if (testParent) {\n      if (\n        !isInline(target.parentNode) ||\n        !isInline(target.parentNode.previousSibling)\n      ) {\n        extractScope.fn += 1;\n      }\n      target = target.parentNode.previousSibling;\n    } else {\n      break;\n    }\n    if (extractScope.front <= extractScope.fn) break;\n    offset = null;\n  }\n  return result;\n}\n\nexport function deepCopy(node, returnChilren = false) {\n  if (node.nodeName == \"#text\") return node.textContent;\n\n  let children = node.firstChild;\n  let childrenList = [];\n  while (children) {\n    childrenList = childrenList.concat(deepCopy(children));\n    children = children.nextSibling;\n  }\n\n  if (returnChilren) {\n    return childrenList;\n  } else {\n    let type = node.nodeName.toLowerCase();\n    const ignoreTag = [\"#comment\"];\n\n    if (ignoreTag.includes(type)) {\n      return \"\";\n    }\n\n    let props = attToProps(node);\n    const noChildren = [\"img\", \"hr\", \"br\", \"input\", \"link\", \"wbr\"];\n\n    if (noChildren.includes(type)) {\n      let element = React.createElement(type, props);\n      return element;\n    }\n\n    let element = React.createElement(type, props, childrenList);\n    return element;\n  }\n}\n\nexport function copyWord(word) {\n  // copy Word, 由Word渲染后的span便签copy Word\n  // word可能含有子标签，需要遍历复制\n  let childrenList = deepCopy(word, true);\n  return (\n    <Word\n      content={childrenList}\n      handleClick={(e, w) => {\n        this.props.clickWord(e, w);\n      }}\n      translate={() => { }}\n    />\n  );\n}\n\nexport function copy(content, children) {\n  // Element、Children 为React Element\n  let type = content.nodeName.toLowerCase();\n  let props = attToProps(content);\n  let element = React.createElement(type, props, ...children);\n  return element;\n}\n\nexport function behindFind(\n  target,\n  offset,\n  testParent = true,\n  pattern,\n  driectTarget = false\n) {\n  // 向后遍历节点  查找翻译终点\n  // console.log('behindFind -start,',target)\n  let result = {\n    texts: [],\n    elements: [],\n    break: false,\n  };\n  if (!target) return result;\n  if (!offset) offset = 0;\n  while (target) {\n    console.log(\"next, while\", target);\n    if (target.nodeName == \"#text\") {\n      let text = target.textContent.slice(offset);\n      console.log(\"behind text\", text, target, offset, target.textContent);\n\n      let subPart = findSubPart(text, \"behind\", pattern);\n      if (extractScope.behind <= extractScope.bn) {\n        result.texts.push(subPart);\n        result.elements.push(subPart);\n        result.break = true;\n        console.log(\"break\");\n        break;\n      } else {\n        subPart = text;\n        result.texts.push(subPart);\n        result.elements.push(subPart);\n      }\n    } else if (isInline(target)) {\n      if (target.classList[0] == \"@w\") {\n        // Word\n        result.texts.push(target.textContent);\n        result.elements.push(copyWord(target));\n      } else {\n        // 需要遍历子节点\n        let children = behindFind(target.firstChild, offset, false, pattern);\n        result.texts.push(...children.texts);\n        result.elements.push(copy(target, children.elements));\n        result.break = children.break;\n        if (children.break) break;\n      }\n    } else if (!driectTarget) {\n      break;\n    } else {\n      // 其他标签， 遍历子节点\n      let children = behindFind(target.firstChild, offset, false, pattern);\n      result.texts.push(...children.texts);\n      result.elements.push(copy(target, children.elements));\n      result.break = children.break;\n      if (children.break) break;\n    }\n\n    if (target.nextSibling) {\n      if (!isInline(target.nextSibling)) {\n        extractScope.bn += 1;\n      }\n      target = target.nextSibling;\n      // offset = 0;\n    } else if (testParent) {\n      if (\n        !isInline(target.parentNode) ||\n        !isInline(target.parentNode.nextSibling)\n      ) {\n        extractScope.bn += 1;\n      }\n      target = target.parentNode.nextSibling;\n      // offset = 0;\n    } else {\n      break;\n    }\n\n    if (extractScope.behind <= extractScope.bn) break;\n    offset = 0;\n  }\n  return result;\n}\n\nexport function extractBothEnds(node) {\n  // console.log('extractBothEnds');\n  let alterNode = true;\n  let frontCross = extractFront(node, alterNode)[0];\n  let [behindCross, behindOther] = extractBehind(node);\n  // console.log('behindCross',behindCross,'behindOther',behindOther,'frontCross', frontCross);\n  return [behindCross, behindOther, frontCross];\n}\n\nexport function wordSplit(text) {\n  /**just #text ; 仅文本,不含其他标签 */\n  if (!text) return [];\n  let re = /\\b/;\n  let wordpattern = /\\w+/;\n  let List = [];\n  let splitList = text.split(re);\n  for (let w of splitList) {\n    if (wordpattern.test(w)) {\n      List.push(getWord(w));\n    } else {\n      List.push(w);\n    }\n  }\n\n  return List;\n}\n\nexport function extractBehind(node) {\n  // 提取单词后半部分, 在标签首部，\n  let getCross = false;\n\n  if (node.nodeName == \"#text\") {\n    // 文本 | 直接分割 返回\n\n    let text = node.textContent;\n    let cross, other;\n\n    let splitList = text.split(/(^\\w*)(.+$)/);\n    // splitList = ['','Hello',' World!','']\n    cross = splitList[1] ? splitList[1] : \"\";\n    other = splitList[2] ? splitList[2] : \"\";\n    if (/[\\W]/.test(other[0])) getCross = true;\n\n    let otherWord = wordSplit(other);\n    console.log(\"return, cross, otherWord\", cross, other);\n    return [cross, otherWord];\n  } else {\n    // 标签 | 遍历 分割 返回\n    let c = node.firstChild;\n    let crossChildren = [];\n    let otherChildren = [];\n\n    while (c) {\n      if (getCross) {\n        // 已提取交叉情况，并移出xmlDoc\n        console.log(\"app-262-traversal\");\n        otherChildren.push(htmlTraversal(c));\n      } else {\n        // 继续迭代\n        let [cross, other] = extractBehind(c);\n        crossChildren.push(cross);\n        otherChildren.push(other);\n      }\n      c = c.nextSibling; // previousSibling\n    }\n    let type = node.nodeName.toLowerCase(); //.replace('body','div')\n    let props = attToProps(node);\n    let crossElement = createElement(type, props, crossChildren);\n\n    let otherElement = createElement(type, props, otherChildren);\n    // console.log('return, crossElement, otherElement', ReactDOMServer.renderToString(crossElement),\" | \",ReactDOMServer.renderToString(otherElement))\n    return [crossElement, otherElement];\n  }\n}\n\nexport function extractFront(node, alterNode) {\n  // 提取单词前半部分, 在标签尾部，\n  let getCross = false;\n\n  if (node.nodeName == \"#text\") {\n    // 文本 | 直接分割 返回\n\n    let text = node.textContent;\n    let cross, other;\n\n    let splitList = text.split(/(\\w*$)/);\n    // splitList = [Hello ','World']\n    other = splitList[0] ? splitList[0] : \"\";\n    cross = splitList[1] ? splitList[1] : \"\";\n    if (/[\\W]/.test(other[other.length - 1])) getCross = true;\n\n    if (alterNode) {\n      //alterNode ==\n      // 将交叉部分移出xmlDoc\n      // let newNode = doc.createTextNode(other)\n      // node.parentNode.replaceChild(newNode, node)\n    }\n\n    let otherWord = wordSplit(other);\n    // console.log('return, cross, otherWord', ReactDOMServer.renderToString(cross),ReactDOMServer.renderToString(otherWord))\n    return [cross, otherWord];\n  } else {\n    // 标签 | 遍历 分割 返回\n    let c = node.lastChild;\n    let crossChildren = [];\n    let otherChildren = [];\n\n    while (c) {\n      if (getCross) {\n        // 已提取交叉情况，并移出xmlDoc\n        console.log(\"app-196-traversal\");\n        otherChildren.push(htmlTraversal(c));\n      } else {\n        // 继续迭代\n        let [cross, other] = extractFront(c, alterNode);\n        crossChildren.push(cross);\n        otherChildren.push(other);\n      }\n      c = c.previousSibling; // previousSibling\n    }\n    let type = node.nodeName.toLowerCase(); //.replace('body','div')\n    let props = attToProps(node);\n    let crossElement = createElement(type, props, crossChildren);\n\n    let otherElement = createElement(type, props, otherChildren);\n    // console.log('return, crossElement, otherElement', ReactDOMServer.renderToString(crossElement),ReactDOMServer.renderToString(otherElement))\n    return [crossElement, otherElement];\n  }\n}\n\nexport function extractHead(head) {\n  /** 提取head中的有用部分，复制，返回列表 */\n  let list = [];\n  if (!head) return list;\n  let base = false;\n  for (let i = 0; i < head.childNodes.length; i++) {\n    let node = head.childNodes[i];\n    let type = node.nodeName;\n    // console.log('nodeName', node, node.nodeName)\n    // console.log('node src ->', node.href)\n\n    if (type === \"BASE\") {\n      base = true;\n    }\n\n    // 相对链接转换为绝对\n    if (node.href) node.href = node.href;\n    if (node.src) node.src = node.src;\n\n    switch (type) {\n      case \"LINK\":\n        // 黑名单\n        if (\n          [/manifest/, /icon/].findIndex((value) => value.test(node.rel)) != -1\n        )\n          break;\n\n        //白名单\n        // if(![/stylesheet/,/preload/].findIndex((value)=>value.test(node.rel))) break;\n\n        list.push(createElement(type, attToProps(node), node.innerText));\n        break;\n      case \"STYLE\":\n        // list.push(this.createElement(type, this.attToProps(node), node.innerText));\n        list.push(<style>{node.innerText}</style>);\n        break;\n\n      case \"SCRIPT\":\n        // list.push(<script >{node.innerText}</script>);\n        list.push(createElement(\"script\", attToProps(node), node.innerText));\n        break;\n\n      case \"TITLE\":\n      // 忽略\n      case \"#text\":\n      // case \"SCRIPT\":\n      default:\n        break;\n    }\n  }\n\n  // if(!base)list.push(this.createBaseTag());\n  return list;\n}\n\n//提取网页内容摘要\nexport function extractAbstract(node) {\n  if (!node) return;\n  let abstract = {};\n  // icon\n  let links = node.head.getElementsByTagName(\"link\");\n  for (let i = 0; i < links.length; i++) {\n    let link = links[i];\n    if (!link.rel) continue;\n    if (link.rel.indexOf(\"icon\") > 0) {\n      abstract.icon = link.href;\n      break;\n    }\n  }\n  // title\n  let title = \"\";\n  let docTitle = node.head.getElementsByTagName(\"title\");\n  if (docTitle.length > 0) {\n    title = docTitle[0].textContent;\n  } else {\n    let docH1 = node.body.getElementsByTagName(\"h1\");\n    if (docH1.length > 0) {\n      title = docH1[0].textContent;\n    } else {\n    }\n  }\n  abstract.title = title;\n\n  // description\n  let pTags = node.getElementsByTagName(\"p\");\n  let description = \"\";\n  for (let i = 0; i < pTags.length; i++) {\n    description = description + pTags[i].textContent.trim().slice(0, 200);\n    if (description.length >= 200) break;\n  }\n\n  let spanTags = node.getElementsByTagName(\"span\");\n  for (let i = 0; i < spanTags.length; i++) {\n    description = description + spanTags[i].textContent.trim().slice(0, 200);\n    if (description.length >= 200) break;\n  }\n\n  if (!description) description = node.body.textContent.trim().slice(0, 200);\n  abstract.des = description;\n\n  // console.log('摘要 描述',pTags, description);\n\n  // abstract.url = this.props.app.url;\n  // abstract.key = this.props.app.key;\n\n  return abstract;\n}\n\nexport function createElement(type, props, children) {\n  type = type.toLowerCase();\n  let element;\n\n  switch (type) {\n    case \"div\":\n    case \"span\":\n    case \"p\":\n      element = React.createElement(type, props, children);\n      return element;\n    case \"a\":\n      // props[\"data-src\"] = props.href;\n      // delete props.href;\n      // element = (\n      //   <A\n      //     props={props}\n      //   // clickLink={(link,status)=>this.clickLink(link, status)}\n      //   // clickWord={(e)=>this.handleClickWord(e)}\n      //   >\n      //     {children}\n      //   </A>\n      // );\n      element = React.createElement(type, props, children);\n      return element;\n    // 以下为 empty elements (no children) 的标签\n    case \"input\":\n      // 存在value属性导致无法输入\n      delete props.value;\n    case \"img\":\n    case \"hr\":\n    case \"br\":\n    case \"link\":\n    case \"wbr\":\n    case \"area\":\n    case \"base\":\n    case \"embed\":\n    case \"keygen\":\n    case \"meta\":\n    case \"param\":\n    case \"source\":\n    case \"track\":\n      element = React.createElement(type, props);\n      return element;\n    // 以下为忽略的标签\n    case \"#comment\":\n    case \"#document\":\n      break;\n    case \"script\":\n      // return '';\n      if (!config.runScript) return \"\";\n      // if (props.src) props[\"data-href\"] = props.src;\n      // delete props.src;\n      props['data-wrp-content-script'] = true;\n      element = React.createElement(type, props, children);\n      return element;\n    // 特殊处理\n    case \"svg\":\n      element = React.createElement(type, props, children);\n      // element.dangerouslySetInnerHTML()\n      return element;\n    case \"body\":\n      element = React.createElement(\"body\", props, children);\n      return element;\n    case \"col\":\n      return <col {...props}></col>;\n    case \"textarea\":\n      if (children.length > 1)\n        console.warn(\n          \"React.reactElememt() Error! <textarea> tag only requests one children.\"\n        );\n      // element = React.createElement('div',props, children[0]);\n      element = React.createElement(\"textarea\", props, children[0]);\n      return element;\n    default:\n      try {\n        if (type.match(/^\\w*$/)) {\n          element = React.createElement(type, props, children);\n          return element;\n        }\n      } catch (e) {\n        console.log('React.createElement() Error on create \"', type, '\" tag!');\n      }\n  }\n}\n\nexport function styleConvert(style) {\n  // style = element.style;\n  let styleObj = {};\n  for (let i = 0; i < style.length; i++) {\n    let styleKey = style[i].replace(/-([a-z])/g, (m, g) => g.toUpperCase());\n    styleObj[styleKey] = style[style[i]];\n  }\n  // console.log(\"App.js: styleConvert() style:\", style, \"obj:\", styleObj);\n  return styleObj;\n}\n\nexport function attToProps(node) {\n  if (!node) return {};\n  if (!node.attributes) return {};\n  let props = {};\n  for (let i = 0; i < node.attributes.length; i++) {\n    let att = node.attributes[i];\n    let attName = att.name;\n    let attValue = att.value;\n\n    // 转换\n    switch (attName) {\n      case \"style\":\n        attValue = styleConvert(node.style);\n        break;\n      case \"src\":\n      case \"href\":\n        // 大多默认为相对路径，需补全链接\n        attValue = node[attName];\n        break;\n      case \"srcset\":\n        // Todo scrset 相对路径补全\n        // 如何补全相对路径呢？这是一个问题，还有在css中的background-image:url()...\n        attName = \"srcSet\";\n        attValue = \"\";\n        break;\n      case \"class\":\n        attName = \"className\";\n        break;\n      case \"for\":\n        attName = \"htmlFor\";\n        break;\n      case \"tabindex\":\n        attName = \"tabIndex\";\n        break;\n      case \"itemprop\":\n        attName = \"itemProp\";\n        break;\n      case \"itemscope\":\n        attName = \"itemScope\";\n        break;\n      case \"itemtype\":\n        attName = \"itemType\";\n        break;\n      case \"nomodule\":\n        attName = 'noModule'\n        break;\n      case \"autocapitalize\":\n        attName = \"autoCapitalize\";\n        break;\n      case \"acceptcharset\":\n        attName = \"acceptCharset\";\n        break;\n      case \"autocomplete\":\n        attName = \"autoComplete\";\n        break;\n      case \"crossorigin\":\n        attName = \"crossOrigin\";\n        break;\n      case \"autocorrect\":\n        attName = \"autoCorrect\";\n        break;\n      case \"onkeypress\":\n        attName = \"onKeyPress\";\n        break;\n      case \"onclick\":\n        // React onClick 接受一个函数，html中的值只是文本，怎么办？\n        attName = \"onClick\";\n        attValue = new Function(attValue);\n        break;\n      case \"spellcheck\":\n        attName = \"spellCheck\";\n        break;\n      case \"playsinline\":\n        attName = \"playsInline\";\n        break;\n      case \"colspan\":\n        attName = \"colSpan\";\n        break;\n      case \"xml:space\":\n      case \"fill-rule\":\n      case \"clip-rule\":\n      case \"stroke-linecap\":\n      case \"stroke-miterlimit\":\n      case \"stroke-width\":\n      case \"stroke-linejoin\":\n      case \"xmlns:xlink\":\n      case \"enable-background\":\n      case \"accept-charset\":\n        attName = attName.replace(/\\W([a-z])/g,(m,g)=>g.toUpperCase());\n        break;\n    }\n    // attName = attName.replace(/\\W([a-z])/g,(m,g)=>g.toUpperCase());\n    props[attName] = attValue;\n    if(!config.keepIntegrity) delete props.integrity;\n\n  }\n  return props;\n}\n\nexport function frontHaveWordEnd(node) {\n  /**判断前半部分(node)的末尾是否是单词的末尾， 即判断前半部分(node)的末尾是否有单词分割符（空格等） */\n  let children = node;\n  let deep = 0;\n  while (children) {\n    let child = children; // 备份\n    if (!this.isInline(children)) return false;\n    if (children.nodeName == \"#text\") {\n      let text = children.textContent;\n      if (/[a-zA-Z0-9_-]/.test(text[text.length - 1])) return true;\n      return false;\n    }\n\n    if (!children.lastChild) {\n      children = children.previousSibling;\n      // deep = deep\n    } else {\n      children = children.lastChild;\n      deep = deep + 1;\n    }\n\n    // 继续向上就不必了吧, 算了， 先写上\n    if (!children && deep > 0) {\n      children = child.parentNode.previousSibling;\n      deep = deep - 1;\n    }\n  }\n}\n\nexport function behindHaveWordEnd(node) {\n  /**判断后半部分（node）的开端是否是单词的开端， 即判断后半部分(node)的开端是否有单词分割符（空格等） */\n  let children = node;\n  let deep = 0;\n  while (children) {\n    let child = children;\n    if (!isInline(children)) return false;\n    if (children.nodeName == \"#text\") {\n      let text = children.textContent;\n      if (/[a-zA-Z0-9_-]/.test(text[0])) return true;\n      return false;\n    }\n\n    if (!children.firstChild) {\n      children = children.nextSibling;\n      // deep = deep\n    } else {\n      children = children.firstChild;\n      deep = deep + 1;\n    }\n\n    // 继续向上就不必了吧, 算了， 先写上\n    if (!children && deep > 0) {\n      children = child.parentNode.nextSibling;\n      deep = deep - 1;\n    }\n  }\n}\n\nexport function haveCrossWord(node) {\n  // 判断相邻两个节点之间是否含有交叉情况\n  let nextNode = node.nextSibling;\n  if (!node || !nextNode) return false;\n  if (!isInline(node) || !isInline(nextNode)) return false;\n  if (frontHaveWordEnd(node) && behindHaveWordEnd(nextNode)) return true;\n  return false;\n}\n\nexport function getWord(content) {\n  return <Word content={content} />;\n}\n\nexport function sentenceSplit(text, parentNode = null) {\n  /**just #text ; 仅文本,不含其他标签 */\n  if (!text) return [];\n  let pattern = /([\\s\\S]*?(?:(?:[.!?](?!\\w))|[。！？\\n\\v\\t])+)/;\n  let splitList = text.split(pattern);\n  let list = [];\n  let onlyOneChild = parentNode.childNodes.length === 1;\n  if (splitList.length === 1 && onlyOneChild) {\n    return splitList;\n  }\n\n  splitList.map((s) => {\n    if (/^\\s*$/.test(s)) {\n      // 空字符\n      list.push(s);\n    } else {\n      list.push(<span key={\"s\" + sId}>{s}</span>);\n      sId = sId + 1;\n    }\n  });\n\n  return list;\n}\n\nexport function htmlTraversal(node) {\n  if (!node) return [];\n  // console.log('htmlTraversal',node,node.nodeName)\n  // let ignoreTag = [\"script\",'meta','link','#comment','#document','iframe'];\n  // let mostCommon = [\"DIV\",\"P\",\"SPAN\"]\n  let type, props, element;\n  switch (node.nodeName) {\n    case \"#text\":\n      if (config.splitWord) {\n        return wordSplit(node.textContent);\n      } else if (config.splitSentence) {\n        return sentenceSplit(node.textContent, node.parentNode);\n      } else {\n        return node.textContent;\n      }\n    case \"#comment\":\n    case \"#document\":\n    case \"IFRAME\":\n      // 忽略\n      return [];\n    case \"STYLE\":\n      // console.log('style tag->',node, node.innerText, node.scoped);\n      type = node.nodeName.toLowerCase();\n\n      props = attToProps(node);\n      element = createElement(type, props, node.innerText);\n      return element;\n    case \"SCRIPT\":\n      type = node.nodeName.toLowerCase();\n\n      props = attToProps(node);\n      element = createElement(type, props, node.innerText);\n      return element;\n    case \"DIV\":\n    case \"P\":\n    case \"SPAN\":\n    case \"A\":\n    default:\n      let childrenList = [];\n      let frontCross, frontOther;\n      let haveCross = false;\n      if (config.splitWord) {\n        for (let i = 0; i < node.childNodes.length; i++) {\n          let children = node.childNodes[i];\n          let haveCross2 = haveCrossWord(children, children.nextSibling);\n\n          // console.log('Cross Cross2', children, children.nextSibling, haveCross, haveCross2);\n          if (!haveCross && !haveCross2) {\n            // console.log('app-362-traversal',children, children.length);\n            childrenList = childrenList.concat(htmlTraversal(children));\n            children = children.nextSibling;\n          } else if (haveCross && haveCross2) {\n            // i all  前后都存在交叉情况\n            let [behindCross, middle, newFrontCross] = extractBothEnds(\n              children\n            );\n            console.log(\"middle\", middle);\n            if (middle.props.children.length == 0) {\n              frontCross = [frontCross].concat(newFrontCross);\n            } else if (middle.props.children[0].length < 1) {\n              // 三交叉 behindCross is ''\n              // console.log('三交叉');\n              frontCross = [frontCross].concat(newFrontCross);\n            } else if (middle.props.children[0].length >= 1) {\n              let word = getWord([frontCross, behindCross]);\n              childrenList = childrenList.concat(word).concat(middle);\n              frontCross = newFrontCross;\n              // frontCross = []\n            }\n          } else if (haveCross2) {\n            // i - 1 front 暂存\n            [frontCross, frontOther] = extractFront(children);\n            childrenList = childrenList.concat(frontOther);\n          } else if (haveCross) {\n            // i behind\n            let [behindCross, behindOther] = extractBehind(children);\n            let word = getWord([frontCross, behindCross]);\n            childrenList = childrenList.concat(word).concat(behindOther);\n          }\n          haveCross = haveCross2;\n          children = null;\n        }\n      } else {\n        for (let i = 0; i < node.childNodes.length; i++) {\n          let children = node.childNodes[i];\n          childrenList = childrenList.concat(htmlTraversal(children));\n        }\n      }\n\n      type = node.nodeName.toLowerCase();\n\n      props = attToProps(node);\n      element = createElement(type, props, childrenList);\n      return element;\n  }\n}\n\nexport function replaceScript(attr = 'data-wrp-content-script', value = true) {\n  let scriptList = document.querySelectorAll(`[${attr}=${value}]`);\n  scriptList.forEach(\n    s => {\n      let newScript = document.createElement('script');\n      for (let a of s.attributes) {\n        newScript[a.name] = a.value\n      }\n      // s.parentNode.replaceChild(newScript, s);\n      s.parentNode.appendChild(newScript)\n    }\n  )\n}\n\n/**\n * \n * @param {Array} path \n * @param {String} action\n */\nexport function targetActionFilter(path, action, deep = 5) {\n  path = path.slice(0, -3);\n  for (let i = path.length - 1, j = Math.max(path.length - deep, 0); i >= j; i--) {\n    let blockAttr = path[i].attributes['data-wrp-action-block'];\n    if (!blockAttr) continue;\n    if (blockAttr.value.split(' ').includes(action)) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * \n * @param {event} e event\n * @param {function} callback function(<a/>)\n */\nexport function linkIntercept(e, callback) {\n  for (let i = 0; i < e.path.length; i++) {\n    if (e.path[i].nodeName !== 'A') continue;\n    if (!targetActionFilter(e.path.slice(i), 'intercept')) continue;\n    e.preventDefault();\n    if (callback) callback(e.path[i]);\n  }\n}\n\nexport function calcHash(text) {\n  return Math.abs(text.split(\"\").reduce(function (a, b) { a = ((a << 5) - a) + b.charCodeAt(0); return a & a }, 0));\n}","import axios from 'axios';\nimport { get } from 'lodash';\n\nimport { extractPart, extractHead } from '../utils/core'\n\nexport const setWord = (word, coordinate) => ({\n    type: \"expl/SETWORD\",\n    word: word,\n    coordinate: coordinate\n})\n\nexport const setShow = show => ({\n    type: \"expl/SETSHOW\",\n    show\n})\n\nexport const setData = data => ({\n    type: \"expl/SETDATA\",\n    data\n})\n\n/** \n * 请求接口获取单词释义\n *  并 setData, addMore, setExplState\n */\nexport const loadWordData = word => {\n    return dispatch => {\n        // let url = `https://1773134661611650.cn-beijing.fc.aliyuncs.com/2016-08-15/proxy/WordingReadingPro/iciba/?key=zysj&q=${word.toLowerCase()}`\n        let url = `https://1773134661611650.cn-shanghai.fc.aliyuncs.com/2016-08-15/proxy/wrp/wrp_server/iciba?w=${word.toLowerCase()}`;\n        let timeout = 10000;\n        let iciba2Data = (apiData) => {\n            let data = {};\n            let more = [];\n            if (!apiData.word_name) return data;\n            data.word = apiData.word_name;\n            if (Object.keys(apiData).includes('word_name')) {\n                data.audio = apiData.symbols[0].ph_tts_mp3;\n                data.audioUK = apiData.symbols[0].ph_en_mp3;\n                data.audioUS = apiData.symbols[0].ph_am_mp3;\n                data.answer = apiData.symbols[0].parts.map(o => [o.part, o.means.join(' ')]);\n                // 提取单词解释里的单词\n                more = apiData.symbols[0].parts.map(i => i.means.join(' ')).join(' ').match(/[a-zA-Z]{3,20}/);\n            }\n            return { data, more };\n        }\n        return new Promise(async (resolve) => {\n            try {\n                let res = await axios({ url: url, method: \"get\", timeout: timeout });\n                if (res.status === 200) {\n                    console.log('res', res, '\\n', res.data)\n                    let data = get(res, 'data.data') || {}\n                    let more = (data.answer || []).join(';').match(/[a-zA-Z]{3,30}/g) || []\n                    console.log('loadWordData', data, more)\n                    dispatch(setData(data))\n                    dispatch(addMore(more))\n                    dispatch(setExplState('completed'))\n                    console.log('--end--')\n                } else {\n                    console.log()\n                    throw new Error('request status != 200')\n                }\n            } catch (e) {\n                console.log('loadWordData Error', e);\n                dispatch(setExplState('failed'))\n            }\n            resolve()\n        })\n    }\n}\n\nexport const setExplState = status => ({\n    type: \"expl/SETEXPLSTATE\",\n    status\n})\n\nexport const setPlayAudio = audio => ({\n    type: \"expl/SETPLAYAUDIO\",\n    audio\n})\n\nexport const setZoom = zoom => ({\n    type: \"expl/SETZOOM\",\n    zoom\n})\n\nexport const addMore = more => {\n\n    more = [].concat(more)\n    more = more.filter(w => typeof w === 'string')\n    more = more.map(w => w.toLowerCase())\n    return {\n        type: \"expl/ADDMORE\",\n        more\n    }\n\n}\n\n/** & addMore */\nexport const setMore = more => {\n    more = more.filter(w => typeof w === 'string')\n    more = more.map(w => w.toLowerCase())\n    return {\n        type: \"exp/SETMORE\",\n        more\n    }\n\n}\n\nexport const setSetting = setting => ({\n    type: \"expl/SETSETTING\",\n    setting\n})\n\nexport const setMoreFold = isUnfold => ({\n    type: \"expl/SETMOREFOLD\",\n    isUnfold\n})\n\n\nexport const tapWord = (event) => {\n\n    let target = window.getSelection().anchorNode;\n    console.log(event, target);\n\n    if (!target) return setShow(false);\n    if (target.parentNode !== event.target) return setShow(false);\n    if (!target.wholeText) return setShow(false);\n\n    let offset = window.getSelection().anchorOffset;\n    let clickedChar = target.wholeText.slice(offset, offset + 1);\n    if (/\\W/.test(clickedChar)) return setShow(false);\n\n    let part = extractPart(target, offset, 'word');\n    let word = part[0].texts.join('') + part[1].texts.join('');\n    if (!word) return setShow(false);\n\n    console.log('tapWord action', word, target.wholeText)\n\n    let position = { x: event.pageX, y: event.pageY, clientY: event.clientY };\n\n    return dispatch => {\n        dispatch(setWord(word, position))\n        dispatch(loadWordData(word))\n        dispatch(setShow(true))\n        /** 驼峰写法拆分 */\n        let more = word.match(/([A-Z]?[a-z]+)|([A-Z]{3,})/g)\n        if (more)\n            dispatch(setMore(more.length > 1 || more[0] !== word ? more : []))\n    }\n}\n\n\n","import axios from 'axios';\nimport { get } from 'lodash'\n\nimport { extractPart, calcOffset } from '../utils/core'\n\n// \nexport const setShow = value => ({\n    type: \"translate/SETSHOW\",\n    value\n})\n\n// \nexport const setOriginal = original => ({\n    type: \"translate/SETORIGINAL\",\n    original\n})\n\n// \nexport const setStatus = status => ({\n    type: \"translate/SETSTATUS\",\n    status\n})\n\n// translation = { text:'', elements:[] }\nexport const setTranslation = translation => ({\n    type: \"translate/SETTRANSLATION\",\n    translation\n})\n\nconst nullAction = () => ({\n  type: \"\",\n})\n\nexport const slideTranslate = (target, x, y) => {\n    let url = \"https://1773134661611650.cn-shanghai.fc.aliyuncs.com/2016-08-15/proxy/wrp/wrp_server/alimt\";\n    \n    let [textTarget, offset] = calcOffset(target, x, y);\n\n    let part = extractPart(textTarget, offset,'sentence');\n    let sentence = part[0].texts.join('') + part[1].texts.join('');\n    sentence = sentence.trim();\n\n    if(sentence.length < 3) return nullAction();\n\n    let original = {\n        text:sentence,\n        elements:[...part[0].elements,...part[1].elements]\n    }\n\n    return dispatch => {\n        dispatch(setShow('half'))\n        dispatch(setStatus('loading'))\n        dispatch(setOriginal(original))\n        let formData = new URLSearchParams()\n        formData.append('text', sentence)\n        return new Promise(async resolve => {\n            try{\n                let res = await axios({\n                    url: url,\n                    method: \"POST\",\n                    data: formData\n                })\n                if(res.status === 200){\n                    console.log('slipTranslate', res)\n                    dispatch(setTranslation({\n                        text: res.data.Data.Translated,\n                        elements: res.data.Data.Translated\n                    }))\n                    dispatch(setStatus('completed'))\n                }else{\n                    throw new Error('request status != 200')\n                }\n            }catch(e){\n                console.log('slip translate error', e)\n    \n            }\n            resolve()\n        })     \n    }\n}","\r\n// style: React style object\r\nexport const setMenuStyle = (style) => ({\r\n    type: \"readPanel/SETMENUSTYLE\",\r\n    style\r\n})\r\n\r\n// target: Node\r\nexport const setTarget = (target) => ({\r\n    type: \"readanel/SETTARGET\",\r\n    target\r\n})\r\n\r\nexport const showMenu = (target, x, y) => {\r\n    let vw = window.screen.availWidth;\r\n    let vh = window.screen.availHeight;\r\n    let mw = 60;\r\n    let mh = 200;\r\n    let margin = 8;\r\n\r\n    if (x + mw > vw) x = vw - mw - margin;\r\n    if (y + mh > vh) y = vh - mh - margin;\r\n\r\n    const style = {\r\n        top: y,\r\n        left: x,\r\n        opacity: 1,\r\n        pointerEvents: 'all',\r\n    }\r\n\r\n    return dispatch =>{\r\n        dispatch(setMenuStyle(style));\r\n        dispatch(setTarget(target));\r\n    }\r\n}","import React from 'react';\r\n\r\nclass Switch extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        // this.hasInit = false;\r\n        this.switchStyle = {\r\n            boxSizing :\"border-box\",\r\n            width :'2.5em',\r\n            height :'1.2em',\r\n            backgroundColor:\"#ccc\",\r\n            // border:\"1px solid #888\",\r\n            borderRadius:'0.6em',\r\n            display:\"inline-flex\",\r\n            alignItems:\"center\",\r\n            padding:\"0 0.1em\",\r\n            color:'#fff',\r\n            transition:'all 0.3s',\r\n            verticalAlign:'middle',\r\n            marginLeft:'0.5em',\r\n        };\r\n        this.dotStyle = {\r\n            boxSizing :\"border-box\",\r\n            width:\"0px\",\r\n            height:\"0px\",\r\n            border:\"0.5em solid\",\r\n            borderRadius:'50%'\r\n        };\r\n        this.onStyle = {\r\n            backgroundColor:'#0f0',\r\n            color:\"#fff\",\r\n            justifyContent:'flex-end'\r\n        };\r\n        this.offStyle = {\r\n            backgroundColor:'#ccc',\r\n            color:\"#fff\",\r\n            justifyContent:'flex-start'\r\n        };\r\n\r\n        if(props.onStyle){\r\n            let onStyle = Object.assign({}, this.onStyle);\r\n            Object.assign(onStyle, this.props.onStyle);\r\n            this.onStyle = onStyle;\r\n        };\r\n        if(props.offStyle){\r\n            let offStyle = Object.assign({}, this.offStyle);\r\n            Object.assign(offStyle, this.props.offStyle);\r\n            this.offStyle = offStyle;\r\n        };\r\n        if(props.switchStyle){\r\n            let switchStyle = Object.assign({}, this.switchStyle);\r\n            Object.assign(switchStyle, this.props.switchStyle);\r\n            this.switchStyle = switchStyle;\r\n        };\r\n\r\n    }\r\n\r\n    handleClick(){\r\n        let status = !this.state.status;\r\n        this.setState({\r\n            status:status\r\n        });\r\n        try{\r\n            this.props.switchChange(status);\r\n        }catch(e){\r\n            console.warn('Switch component no incoming \"props.switchChange\" function.', e);\r\n        }\r\n    }\r\n\r\n    render(){\r\n        let style = Object.assign({},this.switchStyle);\r\n        // console.log('style ', style, Object.isExtensible(style), Object.isFrozen(style))\r\n        let status = this.props.status\r\n        if(status === undefined) status = this.props.initStatus;\r\n        switch(status){\r\n            case true:\r\n                style = Object.assign(style, this.onStyle);\r\n                break\r\n            case false:\r\n                style = Object.assign(style, this.offStyle);\r\n                break\r\n        }\r\n\r\n        return (\r\n            <div style={style} onClick={()=>this.handleClick()}>\r\n                <div style={this.dotStyle}></div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default Switch;  ","import React from 'react'\r\n\r\nimport Switch from './switch.js';\r\n\r\nimport './explanation.scss';\r\n\r\nimport arrow_icon from \"./res/explainBoxArrow.svg\";\r\nimport audio_icon from \"./res/audio.svg\";\r\nimport star_icon from \"./res/star.svg\";\r\nimport menu_icon from \"./res/more.svg\";\r\nimport open_icon from './res/open.svg';\r\nimport arrowShadow_icon from './res/arrowShadow.png'\r\n\r\nconst calcFontSize = (size,maxNumber,text) => {\r\n    /**size:初始字符大小, maxNumber:初始字符大小下可以显示的最大字符, text：当前字符 */\r\n    if(!text) return size;\r\n    if(text.length <= maxNumber) return size;\r\n    return size*maxNumber/text.length;\r\n}\r\n\r\nconst calcPosition = (coordinate, zoom=0) => {\r\n    const ew = 17;                  // em explanation width 宽度\r\n    const eh = 8;                   // em explanation height 高度\r\n    const aw = 2.8;                 // em arrow width 三角箭头宽度\r\n    const ah = 2.8;                 // em arrow height 三角箭头高度\r\n    const topDistance = 12;         // em 顶部距离小于topDistance时,expainPanel显示在单词下方\r\n    const wordDistance = 3;         // em expainPanel距离单词的距离\r\n    const edgeDistance = 1;         // em 最小左右边距\r\n    const arrowOverlapping = 0.1;   // 箭头和框的重叠距离\r\n    const remRatioPx = 14;          // 1 rem = 16 px\r\n\r\n    let position = {};\r\n    let arrowPosition = {};\r\n    if(!coordinate) return { position, arrowPosition }\r\n    if(typeof(zoom) !== 'number') zoom = 0;\r\n    let x = coordinate.x, y= coordinate.y, clientY = coordinate.clientY;\r\n    let vw = window.innerWidth, vh= window.innerHeight;\r\n\r\n    let ratio = remRatioPx + remRatioPx * zoom;\r\n\r\n    //纵向位置 Vertical position\r\n    if(clientY >= topDistance * ratio){\r\n        // expainPanel显示在单词上方\r\n        position.top = `calc(${y}px - ${eh}em - ${wordDistance}em)`;\r\n        // arrowStyle.transform = 'rotate(180deg)'\r\n        arrowPosition.top = `${eh - ah / 2 - arrowOverlapping}em`\r\n    }else{\r\n        // expainPanel显示在单词下方\r\n        position.top = `calc(${y}px + ${wordDistance}em)`;\r\n        arrowPosition.top = `-${ah / 2 - arrowOverlapping}em`;\r\n        // arrowStyle.transform = 'rotate(0deg)';\r\n    }\r\n\r\n    // 横向位置 Horizontal position\r\n    if(x >= vw - (ew / 2 + edgeDistance) * ratio){\r\n        // 单词位置靠右边框\r\n        position.left = `calc(${vw}px - ${ew}em - ${edgeDistance}em)`;\r\n        // 太偏右 调整\r\n        if( (vw - x) < (edgeDistance * ratio + aw / 2 * ratio)) x = vw - (edgeDistance * ratio + aw / 2 * ratio);\r\n        arrowPosition.left = `calc(${x - vw}px + ${ew + edgeDistance - aw / 2}em)`;\r\n    }else if(x <= (ew / 2 + edgeDistance) * ratio){\r\n        // 单词位置靠左边框\r\n        position.left = `${edgeDistance}em`;\r\n        // 太偏左 调整\r\n        if(x < (edgeDistance * ratio + aw / 2 * ratio)) x = edgeDistance * ratio + aw / 2 * ratio;\r\n        arrowPosition.left = `calc(${x}px - ${edgeDistance + aw / 2}em)`;\r\n    }else{\r\n        // 中间\r\n        position.left = `calc(${x}px - ${ew / 2}em)`;\r\n        arrowPosition.left = `${ew / 2 - aw / 2}em`;\r\n    }\r\n\r\n    return {position,arrowPosition};\r\n}\r\n\r\nconst playingWhich = (data, value, auto) => {\r\n    let autoPlay = [false,false,false];\r\n    if(auto === false) return autoPlay;\r\n    // debugger\r\n    switch (value){\r\n        case 'us':\r\n            if(data.audioUS) autoPlay[0] = true; break;\r\n            if(data.audioUK) autoPlay[1] = true; break;\r\n            if(data.audio) autoPlay[2] = true; break; \r\n        case 'uk':\r\n            if(data.audioUK) autoPlay[1] = true; break;\r\n            if(data.audioUS) autoPlay[0] = true; break;\r\n            if(data.audio) autoPlay[2] = true; break;\r\n        case 'tts':\r\n            if(data.audio) autoPlay[2] = true; break;\r\n            if(data.audioUS) autoPlay[0] = true; break;\r\n            if(data.audioUK) autoPlay[1] = true; break;\r\n        default:\r\n            if(data.audioUS) {\r\n                autoPlay[0] = true; \r\n                break;\r\n            }\r\n            if(data.audioUK) {\r\n                autoPlay[1] = true;\r\n                break;\r\n            }\r\n            if(data.audio) {\r\n                autoPlay[2] = true; \r\n                break;\r\n            }\r\n    }\r\n    return autoPlay;\r\n}\r\n\r\nconst answerFormat = answer => {\r\n    // answer = [[\"n.\", \"开关\"],[\"vt.\", \"转变\"]]\r\n    if(!answer) return '';\r\n    return answer.map( value => (<dt><b>{value[0]}</b>{value[1]}</dt>))\r\n}\r\n \r\nconst Explanation = ({ explanation, setSetting, setMoreFold, loadWordData, setZoom }) =>{\r\n\r\n    const Loading = (\r\n        <div className=\"wrp-ep-other-content\">\r\n            <div className=\"wrp-icon\">\r\n                <div className=\"wrp-loading-icon\">\r\n                    <div/> <div/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const nothing = (\r\n        <div className=\"wrp-ep-other-content\">\r\n            <div className=\"wrp-icon\">\r\n                <svg t=\"1600868218467\" viewBox=\"0 0 1024 1024\" width=\"100%\" height=\"100%\"><defs><style type=\"text/css\"></style></defs><path d=\"M861.140992 694.10816c-3.49184-31.456256-17.475584-48.93184-17.475584-52.427776 0-3.49696-6.987776-3.49696-10.484736-3.49696-3.495936 3.49696-3.495936 6.992896-3.495936 13.980672 0 0 10.488832 17.475584 13.980672 45.44 3.495936 34.952192-6.987776 66.407424-31.456256 97.867776-27.96032 31.456256-69.904384 48.93184-129.324032 48.93184-20.97152 0-41.944064-3.495936-55.923712-3.495936 3.495936 0 3.495936-3.495936 6.991872-3.495936 10.483712-6.987776 17.475584-17.475584 20.967424-31.456256 6.992896-13.979648 10.488832-31.455232 10.488832-52.427776 0-48.93184 13.979648-83.888128 41.944064-101.363712 34.951168-27.96032 87.379968-10.483712 87.379968-10.483712h3.495936c-6.992896 13.979648-10.488832 27.959296-17.476608 38.447104-20.97152 34.952192-38.448128 55.924736-38.448128 59.420672-3.495936 3.49184-3.495936 10.483712 0 13.979648 3.495936 3.495936 10.484736 3.495936 13.980672 0 0 0 20.97152-24.467456 41.944064-59.419648 10.483712-20.972544 20.97152-41.944064 27.959296-62.916608 6.991872-24.46336 13.984768-48.93184 13.984768-73.399296 0-3.492864-3.495936-10.484736-10.488832-10.484736-3.495936 0-10.483712 3.495936-10.483712 10.484736 0 27.963392-6.991872 52.431872-13.983744 76.895232l-3.49184-3.495936s-13.984768-3.49184-34.952192-3.49184c-27.964416 0-48.935936 6.987776-66.412544 17.476608-31.455232 20.97152-45.44 59.419648-48.93184 115.34336 0 31.456256-10.487808 55.923712-27.963392 69.904384-10.484736 10.483712-24.46848 13.979648-24.46848 13.979648-3.49184 0-6.987776 3.495936-6.987776 6.991872 0 3.49184 3.495936 6.9888 6.987776 10.484736 0 0 38.448128 10.487808 83.888128 10.487808 27.964416 0 52.427776-3.495936 73.40032-10.487808 27.963392-10.484736 49.874944-26.417152 66.41152-45.436928C838.996992 797.696 851.456 777.728 856.832 756.992c2.866176-11.057152 7.2192-44.544 4.308992-62.88384z m-69.904384-531.279872c0-3.492864-3.495936-10.484736-6.987776-10.484736-3.495936 0-10.487808 3.495936-10.487808 6.991872-10.483712 59.416576-101.359616 171.264-199.227392 227.188736 3.495936-20.968448 0-41.939968-3.49696-55.924736-10.483712-38.444032-38.447104-66.407424-76.895232-73.399296-48.93184-10.484736-87.379968 10.487808-108.352512 48.935936-17.475584 34.952192-13.979648 73.40032 6.987776 97.867776 31.460352 34.952192 76.896256 41.939968 132.819968 24.464384 6.992896-3.495936 17.476608-6.9888 24.46848-10.484736-10.483712 31.456256-31.456256 66.408448-66.408448 94.372864-115.34336 97.867776-269.135872 118.8352-314.575872 118.8352-3.49184 0-10.483712 3.495936-10.483712 10.488832 0 6.987776 3.495936 10.483712 10.483712 10.483712 48.935936 0 206.220288-20.972544 325.060608-125.828096 45.44-38.448128 66.41152-80.392192 76.895232-118.84032 104.856576-52.427776 209.716224-174.759936 220.199936-244.667392zM553.561088 397.011968c-10.487808 6.991872-24.46848 10.483712-34.952192 13.979648-48.935936 13.980672-87.384064 6.991872-115.34336-20.97152-17.476608-17.476608-17.476608-48.93184-3.495936-76.896256 13.979648-27.96032 41.94304-41.939968 69.90336-41.939968h17.476608c31.459328 6.987776 52.431872 27.96032 62.915584 59.415552 6.991872 20.972544 6.991872 41.944064 3.495936 66.412544z m0 0\" fill=\"#999999\" p-id=\"28413\"></path></svg>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    const renderMore = (moreList, unfold) => {\r\n        let list = [];\r\n        if ( ! Array.isArray(moreList) ) return list;\r\n        if ( unfold ) {\r\n            // 展开状态\r\n            list = moreList.map( word => {\r\n                return (<span onClick={()=>loadWordData(word)}>{word}</span>)\r\n            });\r\n            list.push(\r\n                <span \r\n                    className=\"unfold-button\"\r\n                    onClick={()=>setMoreFold()}            \r\n                >{`<`}</span>\r\n            );\r\n        } else {\r\n            // 折叠状态\r\n            if (moreList.length >=1 ){\r\n                list.push(<span onClick={()=>loadWordData(moreList[0])}>{moreList[0]}</span>)\r\n            }\r\n            if(moreList.length > 1){\r\n                list.push(\r\n                    <span \r\n                        className=\"unfold-button\"\r\n                        onClick={()=>setMoreFold()}            \r\n                    >{`<`}</span>\r\n                )\r\n            }\r\n        }\r\n        return list;\r\n    }\r\n\r\n    let { position, arrowPosition } = calcPosition(explanation.coordinate, explanation.zoom)\r\n    let data = explanation.data || {}\r\n    let setting = explanation.setting || {}\r\n    let autoPlay = playingWhich(data, setting.playWhich, setting.autoPlay)\r\n    let more = explanation.more || [];\r\n    let zoom = {fontSize:`${14  + explanation.zoom}px`}\r\n    \r\n    return (\r\n        <div\r\n            id=\"wrp-ep\"\r\n            className={`explain-panel ${explanation.show ? '' : 'explain-hidden'}`} \r\n            style={{...position, ...zoom }}\r\n            data-wrp-action-block=\"tapword\"\r\n        >\r\n            <div \r\n                className=\"wrp-ep-arrow-container\" \r\n                style={ arrowPosition }\r\n            >\r\n                <div className=\"wrp-ep-arrow\"></div>\r\n            </div>\r\n            <div className=\"wrp-explain-content\">\r\n                <div className=\"wrp-ep-title\">\r\n                    <div className=\"wrp-title-left\">\r\n                        <h3 className=\"wrp-title-word\" \r\n                            style={ {fontSize: `${calcFontSize(1.2, 11, data.word || explanation.word)}em`} }>\r\n                            { data.word || explanation.word }\r\n                        </h3>\r\n                        {\r\n                            data.audioUS ? (\r\n                            <div className=\"title-tts\"  onClick={()=>document.getElementById(\"a-us\").play()}>\r\n                                <div className=\"\" >US</div>\r\n                                <svg \r\n                                    className=\"title-audio\"\r\n                                    // style={autoPlay[0]?playingStyle:{}}\r\n                                    fill=\"var(--t-fore-c)\"\r\n                                    viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M541.2 132.3c-7.2-3.3-15.2-5-23.3-5-13.9 0-26.8 5.1-36.5 14.4L280.6 312.4h-158c-11.5 0-23.9 3.9-33.6 10.4h-4l-8.7 9.2c-7.5 7.9-12.2 20.8-12.2 33.8v290.7c0 15 6.7 31.4 16.9 41.6 10.2 10.3 26.6 16.9 41.6 16.9h158.2l200.7 165.6c8.4 7.9 23.3 16 35.6 16 5.6 0 16.5 0 27.1-8 10-4.2 17.8-10.4 23.1-18.6 5.7-8.6 8.4-19.1 8.4-32V184c0-12.9-2.8-23.4-8.4-32-5.8-9-14.6-15.6-26.1-19.7z m-24.8 57.4v642.9L310.2 662.5l-8.2-6.8v0.1H123.3V371.7h179l214.1-182zM899.3 300c-20.9-32.7-46.5-61.1-75.9-84.2l-0.1-0.1c-1.3-1.1-2.2-1.8-2.9-2.4-4.5-2.8-9.6-4.3-15.1-4.3-10.3 0-21.6 5.3-31.1 14.5l-0.1 0.1c-8.4 13.5-3.9 35.9 9 45.2l0.1 0.1c6.1 2.5 14.7 9.7 20.8 15.4 9.4 8.7 23.6 23.7 38.1 45.6 24.3 36.8 53.3 99.7 53.3 190.8 0 91-27.4 153.9-50.3 190.6-13.7 22-27.2 36.9-36.1 45.6-8.6 8.3-15.3 13.5-20.1 15.5l-0.1 0.1c-13.9 9.8-17.2 28.6-8.1 46.7 3.8 7.7 17.2 12.9 27.3 12.9 3.8 0 13.9 0 17.4-3.5 0.7-0.7 1.5-1.4 3.3-2.8 28.1-22.9 52.6-51 72.7-83.8 38.8-63.2 58.5-137.6 58.5-221.4 0-83.4-20.4-157.6-60.6-220.6z\" p-id=\"778\"></path><path d=\"M752.7 376.7c-23.8-27.4-48.4-40.2-53.7-42.1h-1.6l-1.9-1.3c-3.2-2.2-7.4-3.3-12-3.3-11.9 0-24.9 7.6-27.8 16.4l-0.3 1-0.6 0.9c-3.8 5.8-4.3 14.2-1.4 22.7 2.9 8.4 8.6 15.1 14.6 17.1l0.6 0.2 0.6 0.3c0.7 0.4 17.2 9.5 33.6 29.7 15.1 18.5 33.1 50.3 33.1 96.7 0 96.6-54.4 128.5-60.7 131.9-13.8 9.4-23 27.9-14.6 40.4l0.3 0.4 0.2 0.5c4.3 8.7 18.9 18.6 27.3 18.6 5.5 0 8.4-0.1 11.7-3.8l2.2-2.2H704.7c6.2-2.3 28.7-15.6 50.6-44.2 20.6-26.9 45.1-74.4 45.1-147.4 0-64.2-25.9-107.5-47.7-132.5z\" p-id=\"779\"></path></svg>\r\n                                <audio id=\"a-us\" key={data.audioUS} src={data.audioUS} autoPlay={autoPlay[0]} ></audio>\r\n                            </div>)\r\n                            :\r\n                            ''\r\n                        }\r\n                        {\r\n                            data.audioUK ? (\r\n                            <div className=\"title-tts\" onClick={()=>document.getElementById(\"a-uk\").play()}>\r\n                                <div className=\"\" >UK</div>\r\n                                <svg \r\n                                    className=\"title-audio\" \r\n                                    // style={autoPlay[1]?playingStyle:{}}\r\n                                    fill=\"var(--t-fore-c)\"\r\n                                    viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M541.2 132.3c-7.2-3.3-15.2-5-23.3-5-13.9 0-26.8 5.1-36.5 14.4L280.6 312.4h-158c-11.5 0-23.9 3.9-33.6 10.4h-4l-8.7 9.2c-7.5 7.9-12.2 20.8-12.2 33.8v290.7c0 15 6.7 31.4 16.9 41.6 10.2 10.3 26.6 16.9 41.6 16.9h158.2l200.7 165.6c8.4 7.9 23.3 16 35.6 16 5.6 0 16.5 0 27.1-8 10-4.2 17.8-10.4 23.1-18.6 5.7-8.6 8.4-19.1 8.4-32V184c0-12.9-2.8-23.4-8.4-32-5.8-9-14.6-15.6-26.1-19.7z m-24.8 57.4v642.9L310.2 662.5l-8.2-6.8v0.1H123.3V371.7h179l214.1-182zM899.3 300c-20.9-32.7-46.5-61.1-75.9-84.2l-0.1-0.1c-1.3-1.1-2.2-1.8-2.9-2.4-4.5-2.8-9.6-4.3-15.1-4.3-10.3 0-21.6 5.3-31.1 14.5l-0.1 0.1c-8.4 13.5-3.9 35.9 9 45.2l0.1 0.1c6.1 2.5 14.7 9.7 20.8 15.4 9.4 8.7 23.6 23.7 38.1 45.6 24.3 36.8 53.3 99.7 53.3 190.8 0 91-27.4 153.9-50.3 190.6-13.7 22-27.2 36.9-36.1 45.6-8.6 8.3-15.3 13.5-20.1 15.5l-0.1 0.1c-13.9 9.8-17.2 28.6-8.1 46.7 3.8 7.7 17.2 12.9 27.3 12.9 3.8 0 13.9 0 17.4-3.5 0.7-0.7 1.5-1.4 3.3-2.8 28.1-22.9 52.6-51 72.7-83.8 38.8-63.2 58.5-137.6 58.5-221.4 0-83.4-20.4-157.6-60.6-220.6z\" p-id=\"778\"></path><path d=\"M752.7 376.7c-23.8-27.4-48.4-40.2-53.7-42.1h-1.6l-1.9-1.3c-3.2-2.2-7.4-3.3-12-3.3-11.9 0-24.9 7.6-27.8 16.4l-0.3 1-0.6 0.9c-3.8 5.8-4.3 14.2-1.4 22.7 2.9 8.4 8.6 15.1 14.6 17.1l0.6 0.2 0.6 0.3c0.7 0.4 17.2 9.5 33.6 29.7 15.1 18.5 33.1 50.3 33.1 96.7 0 96.6-54.4 128.5-60.7 131.9-13.8 9.4-23 27.9-14.6 40.4l0.3 0.4 0.2 0.5c4.3 8.7 18.9 18.6 27.3 18.6 5.5 0 8.4-0.1 11.7-3.8l2.2-2.2H704.7c6.2-2.3 28.7-15.6 50.6-44.2 20.6-26.9 45.1-74.4 45.1-147.4 0-64.2-25.9-107.5-47.7-132.5z\" p-id=\"779\"></path></svg>\r\n                                <audio id=\"a-uk\" key={data.audioUK} src={data.audioUK} autoPlay={autoPlay[1]} ></audio>\r\n                            </div>)\r\n                            :\r\n                            \"\"\r\n                        }\r\n                        {\r\n                            (!data.audioUK || !data.audioUS && data.audio) ? (\r\n                            <div className=\"title-tts\"  onClick={()=>document.getElementById(\"a-tts\").play()}>\r\n                                <svg\r\n                                    className=\"title-audio\" \r\n                                    // style={autoPlay[2]?playingStyle:{}}\r\n                                    fill=\"var(--t-fore-c)\" \r\n                                    viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M541.2 132.3c-7.2-3.3-15.2-5-23.3-5-13.9 0-26.8 5.1-36.5 14.4L280.6 312.4h-158c-11.5 0-23.9 3.9-33.6 10.4h-4l-8.7 9.2c-7.5 7.9-12.2 20.8-12.2 33.8v290.7c0 15 6.7 31.4 16.9 41.6 10.2 10.3 26.6 16.9 41.6 16.9h158.2l200.7 165.6c8.4 7.9 23.3 16 35.6 16 5.6 0 16.5 0 27.1-8 10-4.2 17.8-10.4 23.1-18.6 5.7-8.6 8.4-19.1 8.4-32V184c0-12.9-2.8-23.4-8.4-32-5.8-9-14.6-15.6-26.1-19.7z m-24.8 57.4v642.9L310.2 662.5l-8.2-6.8v0.1H123.3V371.7h179l214.1-182zM899.3 300c-20.9-32.7-46.5-61.1-75.9-84.2l-0.1-0.1c-1.3-1.1-2.2-1.8-2.9-2.4-4.5-2.8-9.6-4.3-15.1-4.3-10.3 0-21.6 5.3-31.1 14.5l-0.1 0.1c-8.4 13.5-3.9 35.9 9 45.2l0.1 0.1c6.1 2.5 14.7 9.7 20.8 15.4 9.4 8.7 23.6 23.7 38.1 45.6 24.3 36.8 53.3 99.7 53.3 190.8 0 91-27.4 153.9-50.3 190.6-13.7 22-27.2 36.9-36.1 45.6-8.6 8.3-15.3 13.5-20.1 15.5l-0.1 0.1c-13.9 9.8-17.2 28.6-8.1 46.7 3.8 7.7 17.2 12.9 27.3 12.9 3.8 0 13.9 0 17.4-3.5 0.7-0.7 1.5-1.4 3.3-2.8 28.1-22.9 52.6-51 72.7-83.8 38.8-63.2 58.5-137.6 58.5-221.4 0-83.4-20.4-157.6-60.6-220.6z\" p-id=\"778\"></path><path d=\"M752.7 376.7c-23.8-27.4-48.4-40.2-53.7-42.1h-1.6l-1.9-1.3c-3.2-2.2-7.4-3.3-12-3.3-11.9 0-24.9 7.6-27.8 16.4l-0.3 1-0.6 0.9c-3.8 5.8-4.3 14.2-1.4 22.7 2.9 8.4 8.6 15.1 14.6 17.1l0.6 0.2 0.6 0.3c0.7 0.4 17.2 9.5 33.6 29.7 15.1 18.5 33.1 50.3 33.1 96.7 0 96.6-54.4 128.5-60.7 131.9-13.8 9.4-23 27.9-14.6 40.4l0.3 0.4 0.2 0.5c4.3 8.7 18.9 18.6 27.3 18.6 5.5 0 8.4-0.1 11.7-3.8l2.2-2.2H704.7c6.2-2.3 28.7-15.6 50.6-44.2 20.6-26.9 45.1-74.4 45.1-147.4 0-64.2-25.9-107.5-47.7-132.5z\" p-id=\"779\"></path></svg>\r\n                                <audio id=\"a-tts\" key={data.audio} src={data.audio} autoPlay={autoPlay[2]}></audio>\r\n                            </div>\r\n                            )\r\n                            :\r\n                            \"\"\r\n                        }\r\n                        \r\n                    </div>\r\n                    <div>\r\n                        <svg \r\n                            className=\"wrp-title-button\" \r\n                            style={{display:'none'}} \r\n                            fill=\"var(--t-fore-c)\" \r\n                            viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\" ><defs><style type=\"text/css\"></style></defs><path d=\"M1009.562 454.103c-72.264 88.023-200.049 233.339-200.049 233.339s20.9 159.55 32.614 268.534c5.09 55.51-34.928 79.513-80.25 57.876-86.242-43.325-217.478-110.448-247-125.573-30.044 14.97-162.6 80.988-249.733 124.211-45.844 21.586-86.343-2.416-81.193-57.825 11.869-108.82 32.983-268.216 32.983-268.216S87.685 541.44 14.582 453.529c-25.836-31.928-9.247-77.311 41.697-85.657 103.885-19.64 264.909-50.944 264.909-50.944s88.074-162.335 143.8-261.755C495.657-5.325 516.874 1.66 520.5 3.441c9.452 3.256 24.371 15.022 43.848 51.783 55.091 99.574 142.172 262.124 142.172 262.124s159.13 31.304 261.806 50.995c50.33 8.397 66.765 53.832 41.237 85.76z\"  p-id=\"3336\"></path></svg>\r\n                        <svg \r\n                            className={`wrp-title-button ${ setting.show ? \"expl-menu-show\" : \"expl-menu-hidden\" }`} \r\n                            onClick={()=>{ setSetting({show:!setting.show})}} \r\n                            fill=\"var(--t-fore-c)\" \r\n                            viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M415.93 223.79c0-52.98 43.004-95.984 95.984-95.984s95.984 43.004 95.984 95.984-43.004 95.984-95.984 95.984-95.984-43.003-95.984-95.984zM415.93 511.742c0-52.98 43.004-95.984 95.984-95.984s95.984 43.004 95.984 95.984-43.004 95.984-95.984 95.984-95.984-43.004-95.984-95.984zM415.93 799.866c0-52.98 43.004-95.984 95.984-95.984s95.984 43.003 95.984 95.984-43.004 95.983-95.984 95.983-95.984-43.175-95.984-95.983z\" p-id=\"4126\"></path></svg>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"wrp-ep-content\">\r\n                    <dl style={explanation.menuBgStyle}>\r\n                        { explanation.status === 'completed' ? answerFormat(data.answer) : Loading }\r\n                        {(explanation.status === 'completed' && !data.answer) ? nothing : ''}\r\n                    </dl>\r\n                    <div className={`more-word-contanier ${explanation.unfoldMore ? 'more-unfold' : ''}`}>\r\n                        { renderMore(more, explanation.unfoldMore) }\r\n                    </div>\r\n                    {/* MENU 更多 菜单 */}\r\n                    <div className={`wrp-ep-menu ${ setting.show ? \"wrp-expl-menu-show\" : \"\"}`} >\r\n                        <div>\r\n                            <span>Auto Speech</span>\r\n                            <Switch\r\n                                status={setting.autoPlay !== false} \r\n                                switchChange={(status)=> setSetting({autoPlay: status})}\r\n                                onStyle={{backgroundColor:'var(--sc)'}}\r\n                            ></Switch>\r\n                        </div>\r\n                        <div>\r\n                            <span>Speech US</span>\r\n                            <Switch\r\n                                status={setting.playWhich ? setting.playWhich === 'us': true} \r\n                                switchChange={(status)=> setSetting({playWhich: status ? 'us' : 'uk'})}\r\n                                onStyle={{backgroundColor:'var(--sc)'}}\r\n                            ></Switch>\r\n                        </div>  \r\n                        <svg className=\"menu-button\" onClick={()=>setZoom(1)} fill=\"var(--t-fore-c)\" viewBox=\"0 0 1024 1024\" version=\"1.1\" p-id=\"2685\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M592 400l-128 0 0-128c0-19.2-12.8-32-32-32s-32 12.8-32 32l0 128-128 0c-19.2 0-32 12.8-32 32s12.8 32 32 32l128 0 0 128c0 19.2 12.8 32 32 32s32-12.8 32-32l0-128 128 0c19.2 0 32-12.8 32-32S611.2 400 592 400z\" p-id=\"2686\"></path><path d=\"M950.4 905.6l-236.8-236.8c54.4-64 86.4-147.2 86.4-236.8C800 227.2 636.8 64 432 64 227.2 64 64 227.2 64 432 64 636.8 227.2 800 432 800c89.6 0 172.8-32 236.8-86.4l236.8 236.8c6.4 6.4 16 9.6 22.4 9.6s16-3.2 22.4-9.6C963.2 937.6 963.2 918.4 950.4 905.6zM432 736C265.6 736 128 598.4 128 432 128 265.6 265.6 128 432 128c166.4 0 304 137.6 304 304C736 598.4 598.4 736 432 736z\" p-id=\"2687\"></path></svg>\r\n                        <svg className=\"menu-button\" onClick={()=>setZoom(-1)} fill=\"var(--t-fore-c)\" viewBox=\"0 0 1024 1024\" version=\"1.1\" p-id=\"2556\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M592 400l-320 0c-19.2 0-32 12.8-32 32s12.8 32 32 32l320 0c19.2 0 32-12.8 32-32S611.2 400 592 400z\" p-id=\"2557\"></path><path d=\"M950.4 905.6l-236.8-236.8c54.4-64 86.4-147.2 86.4-236.8C800 227.2 636.8 64 432 64 227.2 64 64 227.2 64 432 64 636.8 227.2 800 432 800c89.6 0 172.8-32 236.8-86.4l236.8 236.8c6.4 6.4 16 9.6 22.4 9.6s16-3.2 22.4-9.6C963.2 937.6 963.2 918.4 950.4 905.6zM432 736C265.6 736 128 598.4 128 432 128 265.6 265.6 128 432 128c166.4 0 304 137.6 304 304C736 598.4 598.4 736 432 736z\" p-id=\"2558\"></path></svg>\r\n                    </div>\r\n                </div>  \r\n            </div>\r\n                        \r\n        </div>\r\n    )\r\n}\r\n\r\n export default Explanation","import { connect } from 'react-redux'\r\n\r\nimport * as explActions from '../actions/explanation'\r\nimport Explanation from '../components/Explanation'\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n    explanation: state.explanation\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setSetting: setting => {\r\n        dispatch(explActions.setSetting(setting))\r\n    },\r\n    setMoreFold: isUnfold => {\r\n        dispatch(explActions.setMoreFold(isUnfold))\r\n    },\r\n    loadWordData: (word) =>{\r\n        dispatch(explActions.loadWordData(word))\r\n    },\r\n    setZoom: zoom => {\r\n        dispatch(explActions.setZoom(zoom))\r\n    }\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Explanation)\r\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { get } from 'lodash'\n\nimport * as explActions from '../actions/explanation';\nimport * as translateActions from '../actions/translate';\n\nimport Word from '../components/word.js';\n// import TranslatePanel from '../components/TranslatePanel'\n\n// import { renderToString } from \"react-dom/server\";\n\nimport '../components/translatePanel.scss';\n\n// 放到TranslatePanel 哪里合适\nvar translateScope={\n    front:1,    //设定值\n    behind:1,   //设定值\n    nf:0,       //当前值\n    nb:0        //当前值\n}\n\nconst touchRecord = {\n    lastY:0,\n    moving:false,\n    slipY:0,\n    slipNum:0,\n}\n\nclass TranslatePanel extends React.Component{\n    constructor(props){\n        super(props)\n        this.state={\n            // showStatus:'hidden',\n            movingStyle:{},\n            // '0' 表示隐藏 \n            status:'0',\n            dragY:0,\n        }\n        this.data = {};\n        this.tpHeight = 550;\n        this.count = 0;\n        this.handleClick = this.handleClick.bind(this)\n    }\n\n    handleDrag(e){\n        // console.log(e)\n        // e.preventDefault();\n        e.stopPropagation();\n        if(touchRecord.moving == false) {\n            touchRecord.lastY = e.touches[0].clientY;\n            touchRecord.moving = true;\n            setTimeout(()=>touchRecord.moving = false, 200);\n            console.log('moving = true')\n        }else{\n            console.log('moving')\n            let dragY = this.state.dragY + e.touches[0].clientY - touchRecord.lastY;\n\n            touchRecord.lastY = e.touches[0].clientY;\n\n            if(this.props.translate.show == \"full\") {\n                if(dragY < 0) dragY = 0;\n                if(dragY > this.tpHeight - 100) dragY = this.tpHeight - 100;\n            }else if(this.props.translate.show == \"half\") {\n                // 向上偏移值限制\n                if(dragY < -this.tpHeight / 2) dragY = -this.tpHeight / 2;\n                // 向下偏移值限制\n                if(dragY > this.tpHeight / 5 ) dragY = this.tpHeight / 5;\n                if(dragY > 150 ) dragY = 150;\n            }\n\n            this.setDrag(dragY);\n        }\n    }\n\n    resetDrag(e){\n        e.stopPropagation()\n        this.setDrag(0)\n    }\n\n    setDrag(value){\n        this.setState({\n            dragY:value\n        })\n    }\n\n    handleTouchSlip(e) {\n        // console.log('touch slip')\n        e.stopPropagation();\n        if(touchRecord.moving == false){\n            touchRecord.lastY = e.touches[0].clientY;\n            touchRecord.slipY = 0;\n            touchRecord.moving = true;\n            setTimeout(()=>{\n                touchRecord.moving = false;\n                touchRecord.slipNum = 0;\n            }, 150);\n        }else{\n            touchRecord.slipY = touchRecord.slipY + e.touches[0].clientY - touchRecord.lastY;\n            \n            let status = 0;\n            if(this.props.translate.show == \"half\"){\n                status = 1;\n            }else if(this.props.translate.show == \"full\"){\n                status = 2;\n                this.setDrag(0);\n            }\n    \n            if(touchRecord.slipY > 100 && touchRecord.slipNum == 0){\n                status = status - 1;\n                touchRecord.slipY = 0;\n                touchRecord.slipNum = 1;\n            }else if(touchRecord.slipY < -100 && touchRecord.slipNum == 0){\n                status = status + 1;\n                touchRecord.slipY = 0;\n                touchRecord.slipNum = 1;\n            }\n    \n            if(status < 0)status = 0;\n            if(status > 2)status = 2;\n            let show = ['hidden', 'half', 'full'][status];\n    \n            if(this.props.translate.show == show) return;\n            this.props.setShow(show)\n        }\n    }\n\n    handleClick(e) {\n        e.stopPropagation()\n        this.props.tapWord(e)\n    }\n\n    test(e){\n        console.log(e)\n        e.preventDefault();\n\n    }\n\n    handleMouseMove(e){\n        console.log('mouse move ->', this.movingRecord.moving,e)\n        \n        if(this.movingRecord.moving == true){\n            \n            this.movingRecord.slipY = this.movingRecord.slipY + e.clientY - this.movingRecord.lastY;\n            \n            let status = 0;\n            if(this.state.showStatus == \"half\"){\n                status = 1;\n            }else if(this.state.showStatus == \"full\"){\n                status = 2;\n            }\n\n            if(this.movingRecord.slipY > 100 && this.slipNum == 0){\n                status = status - 1;\n                this.movingRecord.slipY = 0;\n                this.slipNum = 1;\n            }else if(this.movingRecord.slipY < -100 && this.slipNum == 0){\n                status = status + 1;\n                this.movingRecord.slipY = 0;\n                this.slipNum = 1;\n            }\n\n            if(status < 0)status = 0;\n            if(status > 2)status = 2;\n            let showStatus = ['hidden', 'half', 'full'][status];\n            // console.log('status', status, this.movingRecord.slipY);\n\n            if(this.state.showStatus == showStatus) return;\n\n            this.setState({\n                showStatus:showStatus\n            })\n\n            // let tp = document.getElementById(\"tp\"); \n            // tp.style.transform = style.transform;\n        }\n        \n    }\n\n    handleMouseDown(e){\n        this.movingRecord.moving = true;\n    }\n\n    handleMouseUp(e){\n        this.movingRecord.moving = false;\n        this.slipNum = 0;\n    }\n\n    handleMouseLeave(e){\n        this.movingRecord.moving = false;\n        this.slipNum = 0;\n    }\n\n    translate(){\n        // let url = \"http://192.168.1.14:8000/translate\";\n        // let url = \"http://47.94.145.177:8000/translate\";\n        // let url = \"https://baotlake.ink:8001/translate\";\n        let url = \"https://1773134661611650.cn-shanghai.fc.aliyuncs.com/2016-08-15/proxy/wrp/wrp_server/alimt\"\n        \n        var xhr = new XMLHttpRequest(false,true);\n        xhr.open(\"POST\", url, true );\n        xhr.withCredentials = false;\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        // xhr.onreadystatechange = ()=>{}\n        let self = this;\n        xhr.onload = function(){\n            console.log('xhr onload')\n            let json = JSON.parse(xhr.responseText);\n            if(json.status == '1'){\n                self.data.translate = json.value;\n                self.setState({\n                    status:'1'\n                })\n                // console.log('data', self.data)\n            }\n        }\n\n        let text = this.props.translateText && this.props.translateText.text;\n\n        xhr.send(`text=${encodeURIComponent(text)}&lang=${encodeURIComponent('en')}`);\n\n    }\n\n    getTextContent(element){\n        \n    }\n\n    componentDidMount(){\n        let tp = document.getElementById('tp');\n        tp.addEventListener('touchmove', (e)=>e.preventDefault());\n        this.tpHeight = tp.offsetHeight;\n\n    }\n\n    render(){\n        let showStyle={\n            hidden:{\n                bottom:\"-85%\",\n                height:'80%',\n            },\n            half:{\n                bottom:\"-45%\",\n                height:'80%',\n            },\n            full:{\n                bottom:0,\n                height:'80%',\n            }\n        }\n\n        let dragStyle = {\n            transform:`translateY(${this.state.dragY}px)`\n        }\n\n        let show = get(this.props.translate, 'show', 'hidden')\n        let panelStyle = Object.assign({}, showStyle[show], dragStyle);\n        let original = this.props.translate.original || {}\n        let status = this.props.translate.status\n        let translation = this.props.translate.translation\n\n        return (\n            <div id=\"tp\" className=\"wrp-translate-panel\" style={panelStyle}\n            onTouchMove={(e)=>this.handleTouchSlip(e)}\n            // onMouseMove={(e)=>this.handleMouseMove(e)}\n            // onMouseDown={(e)=>this.handleMouseDown(e)}\n            // onMouseUp={(e)=>this.handleMouseUp(e)}\n            // onMouseLeave={(e)=>this.handleMouseLeave(e)}\n            onClick={this.handleClick}\n        >\n            <div className=\"wrp-tp-handle\" \n                onTouchMove={(e)=>this.handleDrag(e)} \n                onClick={(e)=>this.resetDrag(e)} \n            />\n\n            <div className=\"\">{original.elements}</div>\n            <br/>\n            <div className=\"\">\n                {(status == \"completed\") ? translation.text :''}\n            </div>\n\n        </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    translate: state.translate\n})\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n    tapWord: event => {\n        dispatch(explActions.tapWord(event))\n    },\n    setShow: value => {\n        dispatch(translateActions.setShow(value))\n    }\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TranslatePanel);","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport * as core from '../utils/core'\r\n\r\nimport \"./readPanel.scss\";\r\n\r\nimport Switch from \"./switch.js\";\r\n\r\nimport * as explActions from \"../actions/explanation\";\r\nimport * as translateActions from \"../actions/translate\";\r\nimport * as actions from '../actions/readPanel';\r\n\r\n\r\nfunction ReadPanel(props) {\r\n    const style = {};\r\n\r\n    return (\r\n        <div\r\n            id=\"wrp-read-panel\"\r\n            style={style}\r\n        >\r\n            { props.webApp.elements}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    webApp: state.webApp,\r\n    menuStyle: state.readPanel.menuStyle,\r\n    target: state.readPanel.target,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    setMenuStyle: (style) => {\r\n        dispatch(actions.setMenuStyle(style))\r\n    }\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ReadPanel);\r\n\r\nfunction Menu(props) {\r\n\r\n    const style = {\r\n        opacity: 0,\r\n        pointerEvents: 'none',\r\n        left: '-5rem',\r\n    }\r\n\r\n    const hidden = () => {\r\n        props.setMenuStyle({})\r\n    }\r\n\r\n    const hiddenTarget = () => {\r\n        if (!props.target) hidden();\r\n        props.target.classList.add('wrp-rp-hidden')\r\n        hidden();\r\n    }\r\n\r\n    const removeTarget = () => {\r\n        if (!props.target) hidden();\r\n        props.target.classList.add('wrp-rp-remove')\r\n        hidden();\r\n    }\r\n\r\n    const showTarget = () => {\r\n        if (!props.target) hidden();\r\n        props.target.classList.remove('wrp-rp-hidden')\r\n        hidden();\r\n    }\r\n\r\n    return (\r\n        <div id=\"wrp-rp-menu\" style={{ ...style, ...props.menuStyle }}>\r\n            <div\r\n                className=\"wrp-nav-item\"\r\n                onClick={hidden}\r\n            >\r\n                <svg\r\n                    className=\"wrp-nav-item-icon\"\r\n                    fill=\"var(--t-fore-c)\"\r\n                    viewBox=\"0 0 1024 1024\"\r\n                    width=\"200\"\r\n                    height=\"200\"\r\n                >\r\n                    <defs>\r\n                        <style type=\"text/css\"></style>\r\n                    </defs>\r\n                    <path\r\n                        d=\"M877.216 491.808M575.328 510.496 946.784 140.672c17.568-17.504 17.664-45.824 0.192-63.424-17.504-17.632-45.792-17.664-63.36-0.192L512.032 446.944 143.712 77.216C126.304 59.712 97.92 59.648 80.384 77.12 62.848 94.624 62.816 123.008 80.288 140.576l368.224 369.632L77.216 879.808c-17.568 17.504-17.664 45.824-0.192 63.424 8.736 8.8 20.256 13.216 31.776 13.216 11.424 0 22.848-4.352 31.584-13.056l371.36-369.696 371.68 373.088C892.192 955.616 903.68 960 915.168 960c11.456 0 22.912-4.384 31.648-13.088 17.504-17.504 17.568-45.824 0.096-63.392L575.328 510.496 575.328 510.496zM575.328 510.496\"\r\n                        p-id=\"10091\"\r\n                    ></path>\r\n                </svg>\r\n                <div className=\"wrp-nav-item-title\"></div>\r\n            </div>\r\n            <div className=\"wrp-nav-item\" onClick={hiddenTarget}>\r\n                <svg\r\n                    className=\"wrp-nav-item-icon\"\r\n                    fill=\"var(--t-fore-c)\"\r\n                    viewBox=\"0 0 1024 1024\"\r\n                    width=\"200\"\r\n                    height=\"200\"\r\n                >\r\n                    <defs>\r\n                        <style type=\"text/css\"></style>\r\n                    </defs>\r\n                    <path\r\n                        d=\"M947.6 477.2c-85-106-175.9-177.5-272.8-214.7l60.1-122.3c8.8-17.8 1.4-39.5-16.4-48.2-17.8-8.8-39.5-1.4-48.2 16.4l-65.6 133.4c-30.4-6.4-61.3-9.6-92.7-9.6-159.3 0-304.5 81.7-435.6 245-8.3 10.2-12.4 22.6-12.4 35s4.1 24.8 12.3 35.1C161.3 653.2 252.2 724.7 349 762l-59.9 121.9c-8.8 17.8-1.4 39.5 16.4 48.2s39.5 1.3 48.2-16.4l65.3-133c30.4 6.4 61.4 9.6 93 9.6 159.3 0 304.5-81.7 435.6-245 16.4-20.5 16.4-49.7 0-70.1z m-799.1 35c112.4-140 232.8-207.8 363.5-207.8 20.1 0 39.9 1.6 59.6 4.8L544.7 364c-10.5-2.3-21.5-3.5-32.7-3.5-83.8 0-151.8 68-151.8 151.8 0 46.7 21.1 88.5 54.4 116.4L381.4 696c-81.5-30.8-159-91.7-232.9-183.8z m443.3 0c0 43.8-35.3 79.4-79 79.8l62.9-127.9c10.1 13.4 16.1 30.1 16.1 48.1z m-159.6 0c0-43.8 35.2-79.2 78.8-79.8l-62.8 127.8c-10.1-13.3-16-29.9-16-48zM512 720c-20.2 0-40.1-1.6-59.7-4.9l26.9-54.7c10.6 2.3 21.6 3.6 32.8 3.6 83.8 0 151.8-68 151.8-151.8 0-46.8-21.2-88.6-54.5-116.5l33.1-67.4C724 359.1 801.5 420 875.5 512.2 763.1 652.2 642.6 720 512 720z\"\r\n                        p-id=\"7888\"\r\n                    ></path>\r\n                </svg>\r\n                <div className=\"wrp-nav-item-title\">隐藏</div>\r\n            </div>\r\n            <div className=\"wrp-nav-item\" onClick={removeTarget}>\r\n                <svg\r\n                    className=\"wrp-nav-item-icon\"\r\n                    fill=\"var(--t-fore-c)\"\r\n                    viewBox=\"0 0 1024 1024\"\r\n                    width=\"200\"\r\n                    height=\"200\"\r\n                >\r\n                    <defs>\r\n                        <style type=\"text/css\"></style>\r\n                    </defs>\r\n                    <path\r\n                        d=\"M668.8 896h-320c-48.64 0-88.32-37.76-92.8-87.68L211.2 403.2c-1.92-17.28 10.88-33.28 28.16-35.2 17.28-1.92 33.28 10.88 35.2 28.16l44.16 405.76c1.28 17.28 14.08 30.08 28.8 30.08h320c14.72 0 27.52-12.8 28.8-29.44l44.16-406.4c1.92-17.28 17.92-30.08 35.2-28.16 17.28 1.92 30.08 17.92 28.16 35.2l-44.16 405.76c-2.56 49.28-42.88 87.04-90.88 87.04zM826.24 321.28H190.72c-17.92 0-32-14.08-32-32s14.08-32 32-32h636.16c17.92 0 32 14.08 32 32s-14.72 32-32.64 32z\"\r\n                        p-id=\"13417\"\r\n                    ></path>\r\n                    <path\r\n                        d=\"M424.96 789.12c-16.64 0-30.72-12.8-32-29.44l-27.52-347.52c-1.28-17.92 11.52-33.28 29.44-34.56 17.92-1.28 33.28 11.52 34.56 29.44l27.52 347.52c1.28 17.92-11.52 33.28-29.44 34.56h-2.56zM580.48 789.12h-2.56c-17.92-1.28-30.72-16.64-29.44-34.56L576 407.04c1.28-17.92 16.64-30.72 34.56-29.44 17.92 1.28 30.72 16.64 29.44 34.56l-27.52 347.52c-1.92 16.64-15.36 29.44-32 29.44zM581.76 244.48c-17.92 0-32-14.08-32-32 0-23.68-19.2-43.52-43.52-43.52s-43.52 19.2-43.52 43.52c0 17.92-14.08 32-32 32s-32-14.08-32-32c0-59.52 48-107.52 107.52-107.52s107.52 48 107.52 107.52c0 17.28-14.08 32-32 32z\"\r\n                        p-id=\"13418\"\r\n                    ></path>\r\n                </svg>\r\n                <div className=\"wrp-nav-item-title\">移除</div>\r\n            </div>\r\n            <div className=\"wrp-nav-item\" onClick={showTarget}>\r\n                <svg\r\n                    className=\"wrp-nav-item-icon\"\r\n                    fill=\"var(--t-fore-c)\"\r\n                    viewBox=\"0 0 1024 1024\"\r\n                    width=\"200\"\r\n                    height=\"200\"\r\n                >\r\n                    <defs>\r\n                        <style type=\"text/css\"></style>\r\n                    </defs>\r\n                    <path\r\n                        d=\"M512.14 819c-136.83 0-253.2-59.32-326.73-109.08C97.84 650.6 35.29 581.25 12.15 538.82a56.53 56.53 0 0 1 0-54.35c23.14-42.44 85.69-111.79 173.26-171 73.53-49.77 189.9-109.09 326.73-109.09 137.53 0 253.1 57.92 325.84 106.51 40.4 27 78.56 58.49 110.35 91.12 28.79 29.53 51.46 59.18 63.84 83.48a57.94 57.94 0 0 1 0 52.4c-12.38 24.3-35 53.95-63.84 83.48-31.79 32.63-70 64.14-110.35 91.13C765.24 761 649.67 819 512.14 819zM67 511.64c10 17.43 28.73 40.66 51.89 64.2a672.78 672.78 0 0 0 100.8 83.41c66.45 45 171.14 98.59 292.48 98.59 122.21 0 226.18-52.32 291.89-96.21 78.53-52.46 133.92-114.07 152.88-150-19-35.92-74.35-97.53-152.88-150-65.71-43.89-169.68-96.21-291.89-96.21-121.34 0-226 53.61-292.48 98.59a672.23 672.23 0 0 0-100.8 83.42C95.7 471 76.93 494.21 67 511.64z\"\r\n                        fill=\"#333333\"\r\n                        p-id=\"8662\"\r\n                    ></path>\r\n                    <path\r\n                        d=\"M511.81 682.86c-94.41 0-171.22-76.81-171.22-171.22s76.81-171.22 171.22-171.22S683 417.23 683 511.64s-76.78 171.22-171.19 171.22z m0-278.44A107.22 107.22 0 1 0 619 511.64a107.34 107.34 0 0 0-107.19-107.22z\"\r\n                        fill=\"#333333\"\r\n                        p-id=\"8663\"\r\n                    ></path>\r\n                </svg>\r\n                <div className=\"wrp-nav-item-title\">显示</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst ToolMenu = connect(mapStateToProps, mapDispatchToProps)(Menu);\r\n\r\nexport {\r\n    ToolMenu,\r\n}\r\n","\r\nclass Touch {\r\n    constructor() {\r\n        this.start = this.start.bind(this);\r\n        this.move = this.move.bind(this);\r\n        this.end = this.end.bind(this);\r\n    }\r\n\r\n    clear() {\r\n        this.target = null;\r\n        this.sumX = 0;\r\n        this.sumY = 0;\r\n        this.startX = 0;\r\n        this.startY = 0;\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.startTime = 0;\r\n        this.duration = 0;\r\n    }\r\n\r\n    start(e) {\r\n        this.clear();\r\n\r\n        this.startTime = Date.now();\r\n        this.x = e.touches[0].pageX;\r\n        this.y = e.touches[0].clientY;\r\n\r\n        this.startX = e.touches[0].clientX;\r\n        this.startY = e.touches[0].clientY;\r\n\r\n        this.target = e.target;\r\n\r\n        if (this.onStart)\r\n            this.onStart.call(null, this, e);\r\n    }\r\n\r\n    move(e) {\r\n        this.sumX = this.sumX + e.touches[0].pageX - this.x\r\n        this.sumY = this.sumY + e.touches[0].clientY - this.y\r\n\r\n        this.x = e.touches[0].pageX;\r\n        this.y = e.touches[0].clientY;\r\n\r\n        if (this.onMoving)\r\n            this.onMoving.call(null, this, e);\r\n    }\r\n\r\n    end(e) {\r\n        this.duration = Date.now() - this.startTime;\r\n        if (this.onEnd)\r\n            this.onEnd.call(null, this, e);\r\n    }\r\n\r\n    setOnEnd(callback) {\r\n        if (typeof callback === 'function')\r\n            this.onEnd = callback;\r\n    }\r\n\r\n    setOnMoving(callback) {\r\n        if (typeof callback === 'function')\r\n            this.onMoving = callback;\r\n    }\r\n\r\n    setOnStart(callback) {\r\n        if (typeof callback === 'function')\r\n            this.onStart = callback;\r\n    }\r\n}\r\n\r\nexport default Touch;","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport * as actions from './actions/app';\r\nimport * as explActions from './actions/explanation';\r\nimport * as transActions from './actions/translate';\r\nimport * as aActions from './actions/a';\r\nimport * as rpActions from './actions/readPanel';\r\n\r\nimport ReactDOM from 'react-dom';\r\n\r\n// import {\r\n//     Link,\r\n//     withRouter,\r\n// } from 'react-router-dom'\r\n\r\nimport './App.scss';\r\n\r\nimport ManageExplanation from './containers/ManageExplanation';\r\nimport TranslatePanel from './containers/TranslatePanel';\r\nimport A, { AModal } from './components/a';\r\nimport { ToolMenu } from './components/readPanel';\r\n\r\nimport { extractPart, targetActionFilter, linkIntercept } from './utils/core';\r\nimport Touch from './utils/touch';\r\n\r\nfunction App(props) {\r\n\r\n    const hiddenSomeone = function (name) {\r\n        let names = name.split(' ');\r\n        names.map((name) => {\r\n            switch (name) {\r\n                case \"explainPanel\":\r\n                    this.props.setExplShow(false);\r\n                    break;\r\n                case \"linkDialog\":\r\n                    this.props.setAShow(false)\r\n                    break;\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        const onClick = function (e) {\r\n            console.log('window onClick e', e)\r\n            // action filter\r\n            if (targetActionFilter(e.path, 'tapword'))\r\n                props.tapWord(e);\r\n\r\n            linkIntercept(e, props.tapA);\r\n        }\r\n\r\n        const touch = new Touch();\r\n\r\n        const onTouchStart = function (e) {\r\n            // console.log('window onTouchStart', e)\r\n        }\r\n\r\n        touch.setOnStart(onTouchStart)\r\n\r\n        const onTouchMove = function (touch, e) {\r\n            // console.log('window onTouchMove', e)\r\n        }\r\n\r\n        touch.setOnMoving(onTouchMove)\r\n\r\n        const onTouchEnd = function (touch, e) {\r\n            console.log('window onTouchEnd', touch, e)\r\n            if (\r\n                Math.abs(touch.sumX) > 50 &&\r\n                Math.abs(touch.sumY) < 15\r\n            ) {\r\n                console.log('translate', touch)\r\n                props.slideTranslate(touch.target, touch.startX, touch.startY)\r\n            }\r\n\r\n            if (\r\n                touch.duration > 800 &&\r\n                touch.duration < 2000 &&\r\n                touch.sumX < 15 &&\r\n                touch.sumY < 15\r\n            ) {\r\n                if (targetActionFilter(e.path, 'toolmenu'))\r\n                    props.showToolMenu(touch.target, touch.startX, touch.startY)\r\n            }\r\n\r\n        }\r\n\r\n        touch.setOnEnd(onTouchEnd)\r\n\r\n        let scrolling = false\r\n        let timestamp = 0;\r\n        let scrollTop = 0;\r\n        let scrollOffset = 0;\r\n        /**\r\n         * 连续滚动时长超过300ms 触发\r\n         * \r\n         * @param {*} e \r\n         */\r\n        const onScroll = function (e) {\r\n            // console.log('-')\r\n            if (scrolling) return;\r\n\r\n            scrolling = true;\r\n            setTimeout(() => {\r\n                scrolling = false;\r\n                timestamp = Date.now();\r\n                scrollOffset = document.documentElement.scrollTop - scrollTop\r\n                if (Math.abs(scrollOffset) > 50) {\r\n                    props.setExplShow(false);\r\n                    props.setAShow(false);\r\n                };\r\n            }, 300);\r\n\r\n            // console.log(Date.now() - timestamp, e)\r\n            if (Date.now() - timestamp < 20) {\r\n                props.setExplShow(false);\r\n                props.setAShow(false);\r\n            }\r\n            scrollTop = document.documentElement.scrollTop;\r\n        }\r\n\r\n        window.addEventListener('click', onClick, true)\r\n        // { passive: false }\r\n        window.addEventListener('touchstart', touch.start, { capture: true, passive: false });\r\n        window.addEventListener('touchmove', touch.move);\r\n        window.addEventListener('touchend', touch.end);\r\n        window.addEventListener('scroll', onScroll, { capture: true, passive: false });\r\n\r\n        return () => {\r\n            window.removeEventListener('click', onClick, true);\r\n            window.removeEventListener('touchstart', touch.start, { capture: true, passive: false });\r\n            window.removeEventListener('touchmove', touch.move);\r\n            window.removeEventListener('touchend', touch.end);\r\n            window.removeEventListener('scroll', onScroll, { capture: true, passive: false });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div id=\"wrp-app\" data-wrp-action-block=\"toolmenu\" >\r\n                <div className=\"wrp-view\">\r\n                    <TranslatePanel />\r\n                    <AModal />\r\n                    <ToolMenu />\r\n                </div>\r\n                <ManageExplanation />\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    app: state.app,\r\n    a: state.a\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    setStatus: (status) => {\r\n        dispatch(actions.setStatus(status))\r\n    },\r\n    setHistory: (item) => {\r\n        dispatch(actions.setHistory(item))\r\n    },\r\n    setXmlDoc: xmlDoc => {\r\n        dispatch(actions.setXmlDoc(xmlDoc))\r\n    },\r\n    tapWord: events => {\r\n        dispatch(explActions.tapWord(events))\r\n    },\r\n    loadWordData: word => {\r\n        dispatch(explActions.loadWordData(word))\r\n    },\r\n    setExplShow: show => {\r\n        dispatch(explActions.setShow(show))\r\n        // dispatch(explActions.setSetting({ show: false }))\r\n        // dispatch(explActions.setMore([]))\r\n        // dispatch(explActions.setMoreFold(false))\r\n    },\r\n    setAShow: isShow => {\r\n        dispatch(aActions.setShow(isShow))\r\n    },\r\n    tapA: a => {\r\n        dispatch(aActions.tapA(a))\r\n    },\r\n    loadXmlDoc: url => {\r\n        console.log(`mapDispatchToProps: input: ${url}`)\r\n        dispatch(actions.loadXmlDoc(url))\r\n    },\r\n    setUrl: url => {\r\n        dispatch(actions.setUrl(url))\r\n    },\r\n\r\n    slideTranslate: (target, x, y) => {\r\n        dispatch(transActions.slideTranslate(target, x, y))\r\n    },\r\n\r\n    showToolMenu: (target, x, y) => {\r\n        dispatch(rpActions.showMenu(target, x, y))\r\n    },\r\n\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","import axios from 'axios'\r\nimport { htmlTraversal, extractHead, extractAbstract } from '../utils/core'\r\n\r\nexport const setStatus = (status) => ({\r\n    type: \"webApp/SETSTATUS\",\r\n    status\r\n})\r\n\r\nexport const setXmlDoc = (xmlDoc) => ({\r\n    type: \"webApp/SETXMLDOC\",\r\n    xmlDoc\r\n})\r\n\r\nexport const setUrl = (url) => ({\r\n    type:\"webApp/SETURI\",\r\n    url\r\n})\r\n\r\nexport const setKey = (key) => ({\r\n    type: \"webApp/SETKEY\",\r\n    key\r\n})\r\n\r\nexport const setLocation = (location) => {\r\n    if (location === undefined) {\r\n        return ({\r\n            type: \"webApp/SETLOCATION\",\r\n            location: {}\r\n        })\r\n    }\r\n    if (typeof(location) === 'string') {\r\n        return ({\r\n            type: \"webApp/SETLOCATION\",\r\n            location: {\r\n                path: location\r\n            }\r\n        })\r\n    }\r\n\r\n    if(typeof(location) === 'object') {\r\n        return ({\r\n            type: \"webApp/SETLOCATION\",\r\n            location\r\n        })\r\n    }\r\n}\r\n\r\n/** historyList 为当前完成List, item 为新条目，可为空 */\r\nexport const setHistory = (item) => {\r\n    \r\n    let historyList = JSON.parse(localStorage.getItem('read_history'));\r\n    if( ! Array.isArray(historyList)) historyList = [];\r\n\r\n    console.log('historyList', historyList)\r\n\r\n    if(item){\r\n        historyList = historyList.filter(v => v.url !== item.url || v.key !== item.key)\r\n\r\n        console.log('actions app : history.push: ', item)\r\n        historyList.push(item);\r\n    }\r\n\r\n    while(historyList.length > 200){\r\n        // Array.shift() 移除数组中的第一个值并返回\r\n        let remove = historyList.shift();\r\n        if(remove.key) localStorage.removeItem(remove.key);\r\n    }\r\n\r\n    console.log('actions setHistory 3', historyList);\r\n\r\n    // 存储\r\n    let historyStr = JSON.stringify(historyList);\r\n    localStorage.setItem('read_history', historyStr);\r\n\r\n    return ({\r\n        type: \"webApp/SETHISTORY\",\r\n        history: historyList\r\n    })\r\n}\r\n\r\nexport const setHeads = (heads) => ({\r\n    type: \"webApp/SETHEADS\",\r\n    heads\r\n})\r\n\r\nexport const loadXmlDoc = (input) => {\r\n    console.log('action creaters loadXMLDoc')\r\n    if (!input) return;\r\n    return dispatch => {\r\n\r\n        let encode = encodeURIComponent(input);\r\n        let url2 = `https://1773134661611650.ap-northeast-1.fc.aliyuncs.com/2016-08-15/proxy/Tr/tr/?url=${encode}`;\r\n        let url = `https://1773134661611650.ap-northeast-1.fc.aliyuncs.com/2016-08-15/proxy/Tr/tr/?url=${encode}`;\r\n        url = `https://1773134661611650.cn-shanghai.fc.aliyuncs.com/2016-08-15/proxy/wrp/wrp_server/get?url=${encode}`;\r\n\r\n        // let url = `http://47.94.145.177:8000/get?url=${encode}`;\r\n        console.log(\"input:\", input)\r\n        let inputObj = new URL(input);\r\n        let timeout = 60000;\r\n        switch(inputObj.host){\r\n            case \"www.wikipedia.org\":\r\n            case \"wikibooks.org\":\r\n            case \"m.wikipedia.org\":\r\n            case \"en.wikipedia.org\":\r\n            case \"en.m.wikipedia.org\":\r\n            case \"twitter.com\":\r\n            case \"t.co\":\r\n            case \"news.google.com\":\r\n            case \"developer.chrome.com\":\r\n            case \"www.bbc.com\":\r\n            case \"bbc.com\":\r\n            case \"blog.diigo.com\":\r\n            case \"diigo.com\":\r\n            case \"www.kali.org\":\r\n                url = url2;\r\n                timeout = 80000;\r\n                break;\r\n            case \"localhost:3000\":\r\n            case \"localhost:8888\":\r\n                url = input;\r\n                break;\r\n        }\r\n\r\n        return new Promise(async (resolve,reject) => {\r\n            // try{\r\n                let res = await axios({url:url, method:\"get\", timeout: timeout})\r\n                if (res.status === 200){\r\n                    // dispatch(setXmlDoc(res.data))\r\n                    console.log('doc parser')\r\n                    dispatch(docParser(res.data, input))\r\n                    // dispatch(setStatus('parsing'))\r\n                }else{\r\n                    console.log(`loadxmldoc status!=200, res:${res}`)\r\n                    dispatch(setStatus('failed'))\r\n                }\r\n            // }catch(e){\r\n            //     console.log(`loadxmldoc catch err : ${e}`)\r\n            //     dispatch(setStatus('failed'))\r\n            // }\r\n            \r\n            \r\n        })\r\n    }\r\n\r\n}\r\n\r\nexport const goRead = (input, currentUrl) => {\r\n    // input 可以是输入框输入, 历史banner中的url, 阅读页面中的url\r\n    return dispatch => {\r\n\r\n        let urlPattern = /^https?:\\/\\/(.+\\.\\w+.*)|(localhost.*)/\r\n        let isUrl = input.length < 10000 ? urlPattern.test(input) : false\r\n    \r\n        if (isUrl && input === currentUrl) {\r\n            // 将要打开的页面与当前阅读的页面是同一个\r\n            dispatch(setStatus('parsing'))\r\n            dispatch(setLocation('/wrp-read'))\r\n            return;\r\n        }\r\n        if( ! isUrl ) {\r\n            // input 不是url， 是文本\r\n            dispatch(setXmlDoc( input ))\r\n            dispatch(setUrl(''))\r\n            dispatch(setStatus('parsing'))\r\n            dispatch(setLocation('/wrp-read'))\r\n\r\n            return;\r\n        }\r\n    \r\n        // 将要打开的是新页面\r\n        dispatch(setStatus('loading'))\r\n        dispatch(loadXmlDoc(input))\r\n        dispatch(setLocation('/wrp-read'))\r\n\r\n    }\r\n\r\n}\r\n\r\nexport const setElements = (elements) => ({\r\n    type:\"webApp/SETELEMENTS\",\r\n    elements\r\n})\r\n\r\nexport const docParser = (doc, baseUrl, key='') => {\r\n    let t1 = Date.now()\r\n    let dom = (new DOMParser()).parseFromString(doc, 'text/html')\r\n\r\n    if(baseUrl) {\r\n        let base = dom.createElement('base');\r\n        console.log('base app.url', baseUrl)\r\n        base.href = new URL(baseUrl).origin; \r\n        dom.head.insertBefore(base, dom.head.firstChild);\r\n    }\r\n\r\n    let htmlElements = htmlTraversal(dom.body);\r\n    let t2 = Date.now()\r\n    console.log(\"traversal Runing time \", t2 - t1)\r\n\r\n    // this.htmlElements = htmlElements;\r\n    // this.abstract = null;\r\n\r\n    // 提取head， 渲染head\r\n    let heads = extractHead(dom.head);\r\n    // head(headChildList);\r\n    let abstract = extractAbstract(dom);\r\n    abstract = Object.assign(abstract, key ? { key : key }: { url : baseUrl})\r\n \r\n    return dispatch => {\r\n        dispatch(setElements(htmlElements))\r\n        dispatch(setHeads(heads))\r\n        dispatch(setStatus('completed'))\r\n        dispatch(setHistory(abstract))\r\n    }\r\n}","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link,\r\n    useLocation,\r\n    useRouteMatch,\r\n    useParams,\r\n    useHistory,\r\n    withRouter,\r\n} from 'react-router-dom';\r\n\r\nimport * as actions from './actions/webApp'\r\n\r\nimport { calcHash } from './utils/core';\r\n\r\nimport './home.scss';\r\n\r\nimport logo from './components/res/logo.png';\r\n\r\nfunction ItemCard(props) {\r\n    let data = props.data;\r\n    if (!data) data = {};\r\n    return (\r\n        <Link\r\n            to={`/wrp-read?url=${encodeURIComponent(data.url)}`}\r\n            className=\"wrp-card-wrapper wrp-cp\"\r\n            data-url={data.url}\r\n            data-key={data.key}\r\n        >\r\n            <div className=\"wrp-image-wrapper wrp-card-image\">\r\n                <img className=\"wrp-image\" src={data.icon}></img>\r\n            </div>\r\n            <div className=\"wrp-card-text-wrapper\">\r\n                <div className=\"wrp-ellipsis wrp-ct\">{data.title}</div>\r\n                <div className=\"wrp-cs\">{data.des}</div>\r\n            </div>\r\n        </Link>\r\n    )\r\n}\r\n\r\nfunction History(props) {\r\n    let List = [];\r\n    if (!props.readHistory) return List;\r\n    if (!Array.isArray(props.readHistory)) {\r\n        console.warn('Home.js History(props), props.readHistory is not an Array.')\r\n        return List;\r\n    }\r\n    for (let i of props.readHistory) {\r\n        List.unshift(\r\n            <ItemCard\r\n                key={i.url || i.key}\r\n                data={i}\r\n            ></ItemCard>\r\n        )\r\n    }\r\n    return List;\r\n}\r\n\r\nfunction Home(props) {\r\n    const [focused, setFocused] = useState(false);\r\n    const [input, setInput] = useState('');\r\n\r\n    const urlPattern = /^https?:\\/\\/(.+\\.\\w+.*)|(localhost.*)/;\r\n\r\n    const onKeyUp = () => {\r\n\r\n    }\r\n\r\n    const onChange = (e) => {\r\n        setInput(e.currentTarget.value)\r\n    }\r\n\r\n    const onPaste = (e) => {\r\n        console.log('onPaste');\r\n        let copiedText = e.clipboardData.getData('text/plain');\r\n        if (urlPattern.test(copiedText)) {\r\n            setInput(copiedText)\r\n        } else {\r\n            e.preventDefault();\r\n            // 如果粘贴的不是url, 则尝试获取富文本\r\n            let copiedRichText = e.clipboardData.getData('text/html');\r\n            setInput(copiedRichText);\r\n            console.log('尝试获取富文本', copiedRichText);\r\n        }\r\n    }\r\n\r\n    const go = () => {\r\n        let isUrl = input.length < 10000 && urlPattern.test(input);\r\n\r\n        if (isUrl) {\r\n            return readFromUrl(input);\r\n        }\r\n\r\n        let key = String(calcHash(input));\r\n        localStorage.setItem(key, input);\r\n        readFromText(key, input);\r\n    }\r\n\r\n    const readFromUrl = (url) => {\r\n        if (url === props.webApp.url) {\r\n            props.setStatus('parsing')\r\n            props.setLocation('/wrp-read')\r\n        } else {\r\n            props.setUrl(url)\r\n            props.setKey('')\r\n            props.setStatus('loading')\r\n            props.loadXmlDoc(url)\r\n            props.setLocation('/wrp-read')\r\n        }\r\n\r\n        // 转跳至 /wrp-read\r\n        props.history.push({\r\n            pathname: '/wrp-read',\r\n            search: `?url=${url}`\r\n        })\r\n    }\r\n\r\n    const readFromText = (key, value = '') => {\r\n        if (!value) value = localStorage.getItem(key)\r\n        props.setKey(key)\r\n        props.setXmlDoc(value)\r\n        props.setUrl('')\r\n        props.setStatus('parsing')\r\n        props.setLocation('/wrp-read')\r\n\r\n        // 转跳至 /wrp-read\r\n        props.history.push({\r\n            pathname: '/wrp-read',\r\n            search: `?key=${key}`\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"wrp-page\">\r\n            <div className=\"wrp-app-logo-container\">\r\n                <img className=\"wrp-app-logo\" src={logo} />\r\n                {/*<h1 class=\"wrp-app-logo-title\">Word Reading Pro</h1>*/}\r\n            </div>\r\n            <div className={\"wrp-input-container \".concat(focused ? \"focused\" : \"\")}>\r\n                <div className=\"wrp-input-bar\">\r\n                    {focused ? (\r\n                        <div\r\n                            className=\"wrp-input-bar-button\"\r\n                            onClick={() => setFocused(false)}\r\n                        >\r\n                            <svg viewBox=\"0 0 1118 1024\" version=\"1.1\" width=\"218.359375\" height=\"200\" fill=\"var(--c-dark)\"><defs><style type=\"text/css\"></style></defs><path d=\"M229.42 558.545h841.125c25.707 0 46.546-20.839 46.546-46.545 0-25.706-20.84-46.545-46.546-46.545H229.42L544.913 149.96c18.177-18.177 18.177-47.648 0-65.825-18.178-18.177-47.648-18.177-65.826 0L84.137 479.087c-9.09 9.089-13.634 21.001-13.634 32.913 0 11.912 4.545 23.824 13.633 32.913l394.951 394.95c18.178 18.178 47.648 18.178 65.826 0 18.177-18.176 18.177-47.647 0-65.824L229.419 558.545z\" p-id=\"5564\"></path></svg>\r\n                        </div>\r\n                    ) : ''}\r\n                    <input\r\n                        className={\"wrp-input \".concat(focused ? \"wrp-input-focused\" : \"\")}\r\n                        id=\"wrp-home-input\"\r\n                        autoComplete=\"on\"\r\n                        contentEditable=\"true\"\r\n                        onChange={onChange}\r\n                        onKeyUp={onKeyUp}\r\n                        onPaste={onPaste}\r\n                        onFocus={() => setFocused(true)}\r\n                        type=\"text\"\r\n                        placeholder=\"输入文章或链接\"\r\n                        value={input}\r\n                    ></input>\r\n                    {focused ? (\r\n                        <div\r\n                            className=\"wrp-input-bar-button wb-clearinput\"\r\n                            onClick={() => setInput('')}\r\n                        >\r\n                            <svg viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\" fill=\"var(--c-dark)\"><defs><style type=\"text/css\"></style></defs><path d=\"M512 0a512 512 0 0 0-512 512 512 512 0 0 0 512 512 512 512 0 0 0 512-512 512 512 0 0 0-512-512z m241.005714 703.268571a32.182857 32.182857 0 0 1 0.512 45.348572 32.182857 32.182857 0 0 1-45.348571 0.512L512 556.763429 315.830857 748.982857a31.963429 31.963429 0 1 1-44.836571-45.787428L466.285714 512l-195.291428-191.268571a32.182857 32.182857 0 0 1-0.512-45.348572 32.182857 32.182857 0 0 1 45.348571-0.512L512 467.236571 708.169143 275.017143a31.963429 31.963429 0 1 1 44.836571 45.787428L557.714286 512l195.291428 191.268571z\" p-id=\"10064\"></path></svg>\r\n                        </div>\r\n                    ) : ''}\r\n                    <div className=\"wrp-input-bar-go\" onClick={go}>\r\n                        <svg viewBox=\"0 0 218.36 200\"><path fill=\"var(--c-light)\" d=\"M187.14,109.09l-61.62,61.62a9.09,9.09,0,0,0,12.86,12.86l77.14-77.14a9.1,9.1,0,0,0,0-12.86L138.38,16.43a9.09,9.09,0,1,0-12.86,12.86l61.62,61.62H22.86a9.09,9.09,0,1,0,0,18.18Z\" /></svg>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            <div>\r\n                <History readHistory={props.readHistory}></History>\r\n            </div>\r\n            <div>\r\n                {/**推荐文章 */}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    readHistory: state.webApp.history,\r\n    webApp: state.webApp,\r\n    app: state.app,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    goRead: (input, currentUrl) => {\r\n        dispatch(actions.goRead(input, currentUrl))\r\n    },\r\n    setUrl: url => {\r\n        dispatch(actions.setUrl(url))\r\n    },\r\n    setKey: key => {\r\n        dispatch(actions.setKey(key))\r\n    },\r\n    loadXmlDoc: (url) => {\r\n        dispatch(actions.loadXmlDoc(url))\r\n    },\r\n    setStatus: status => {\r\n        dispatch(actions.setStatus(status))\r\n    },\r\n    setLocation: location => {\r\n        dispatch(actions.setLocation(location))\r\n    },\r\n    setXmlDoc: xmlDoc => {\r\n        dispatch(actions.setXmlDoc(xmlDoc))\r\n    }\r\n})\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Home));\r\nexport { ItemCard }\r\n\r\n\r\n\r\n// 废弃\r\nclass _Home extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            // ReactRouter_DeclarativeRoutingForReact.js.html\r\n            // https://github.com/reactjs/react-router-tutorial/tree/master/lessons/08-index-routes \r\n            // 点击Next: Index Links 中的非文字部分，不弹出转跳框\r\n            input: 'https://',  //  paste.html   Golden_swallow-Wiki.html   wikipedia-1.html\r\n            typing: false,\r\n\r\n        };\r\n        this.urlPattern = /^https?:\\/\\/(.+\\.\\w+.*)|(localhost.*)/;\r\n        this.jumpChange = 0;\r\n    }\r\n\r\n    handleChange(e) {\r\n        if (this.jumpChange >= 1) {\r\n            // console.log('change jump', e, e.currentTarget.value);\r\n            this.jumpChange -= 1;\r\n            return '';\r\n        };\r\n        // console.log('change', e, e.currentTarget.value);\r\n        let input = e.currentTarget.value;\r\n        if (this.state.input != input) {\r\n            // console.log('setState')\r\n            this.setState({\r\n                input: input\r\n            })\r\n        }\r\n    }\r\n\r\n    handlePaste(e) {\r\n        console.log('paste', e.clipboardData.getData('text/plain'), e.clipboardData.getData('text/html'));\r\n        let pasteText = e.clipboardData.getData('text/plain');\r\n        if (this.urlPattern.test(pasteText)) {\r\n            // 粘贴的为url, 不进行操作\r\n        } else {\r\n            // 如果粘贴的不是url, 则尝试获取富文本\r\n            let pasteHtml = e.clipboardData.getData('text/html');\r\n            let input = this.state.input;\r\n            if (pasteHtml != '' && input == '') {\r\n                console.log('获取html', input + pasteHtml);\r\n                if (this.state.input != pasteHtml) {\r\n                    this.jumpChange += 1;\r\n                    this.setState({\r\n                        input: input + pasteHtml\r\n                    })\r\n                }\r\n                // e.currentTarget.value = pasteHtml;\r\n                // this.input = pasteHtml;\r\n            }\r\n        }\r\n    }\r\n\r\n    goRead() {\r\n        console.log(`home.js goRead: ${this.state.input} url: ${this.props.webApp.url}`)\r\n\r\n        let input = this.state.input\r\n\r\n        let a = /^(?=^.{3,255}$)[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+$/\r\n\r\n        let urlPattern = /^http(s)?:\\/\\/\\w{0,62}(\\.?\\w{0,62})+\\.\\w{1,62}([:\\/].*)*$/\r\n        let isUrl = input.length < 10000 ? urlPattern.test(input) : false\r\n\r\n        if (isUrl) {\r\n            this.readFromUrl(input)\r\n        } else {\r\n            const getHash = (s) => {\r\n                return s.split(\"\").reduce(function (a, b) { a = ((a << 5) - a) + b.charCodeAt(0); return a & a }, 0);\r\n            }\r\n            const t1 = new Date()\r\n            let key = String(getHash(input))\r\n            const t2 = new Date()\r\n            console.log('getHash: time', t2 - t1, key)\r\n            localStorage.setItem(key, input)\r\n            this.readFromText(key, input)\r\n        }\r\n\r\n    }\r\n\r\n    readFromUrl(url) {\r\n        if (url === this.props.webApp.url) {\r\n            this.props.setStatus('parsing')\r\n            this.props.setLocation('/wrp-read')\r\n        } else {\r\n            this.props.setUrl(url)\r\n            this.props.setKey('')\r\n            this.props.setStatus('loading')\r\n            this.props.loadXmlDoc(url)\r\n            this.props.setLocation('/wrp-read')\r\n        }\r\n        // 转跳至 /wrp-read\r\n        this.props.history.push({\r\n            pathname: '/wrp-read',\r\n            search: `?url=${url}`\r\n        })\r\n    }\r\n\r\n    readFromText(key, value = '') {\r\n        if (!value) value = localStorage.getItem(key)\r\n        this.props.setKey(key)\r\n        this.props.setXmlDoc(value)\r\n        this.props.setUrl('')\r\n        this.props.setStatus('parsing')\r\n        this.props.setLocation('/wrp-read')\r\n\r\n        // 转跳至 /wrp-read\r\n        this.props.history.push({\r\n            pathname: '/wrp-read',\r\n            search: `?key=${key}`\r\n        })\r\n    }\r\n\r\n    onClickCard(e) {\r\n        e.preventDefault()\r\n        console.log(`e : ${e}`, e, e.currentTarget.dataset.input)\r\n        let url = e.currentTarget.dataset.url\r\n        let key = e.currentTarget.dataset.key\r\n        if (key) this.readFromText(key)\r\n        if (url) this.readFromUrl(url)\r\n\r\n    }\r\n\r\n    handleKeyUp(e) {\r\n        console.log('handleKeyUp', e)\r\n        if (e.key == \"Enter\") {\r\n            this.goRead();\r\n        }\r\n    }\r\n\r\n    setTyping(value) {\r\n        if (this.state.typing == value) return;\r\n        this.setState({\r\n            typing: value\r\n        })\r\n    }\r\n\r\n    setInput(value, focus) {\r\n        console.log('setInput', value, focus)\r\n        if (focus) {\r\n            document.getElementById('whinput').focus();\r\n        }\r\n        if (typeof (value) !== 'string') return;\r\n        if (this.state.input == value) return;\r\n        this.setState({\r\n            input: value,\r\n        })\r\n    }\r\n\r\n    createHistory() {\r\n        let readHistory = this.props.readHistory;\r\n        // console.log('createHistory', readHistory);\r\n        if (!readHistory) return [];\r\n        let history = [];\r\n        for (let i in readHistory) {\r\n            // console.log('i loog',i);\r\n            history.unshift(<ItemCard\r\n                data={readHistory[i]}\r\n                onClick={(e) => this.onClickCard(e)}\r\n            ></ItemCard>)\r\n        }\r\n        // console.log('createHistory - a', history);\r\n        this.history = this.props.readHistory;\r\n        return history;\r\n    }\r\n\r\n    render() {\r\n        let typing = this.state.typing;\r\n        let history = this.createHistory();\r\n\r\n        return (<div className=\"wrp-page\">\r\n            <div className=\"wrp-app-logo-container\">\r\n                <img className=\"wrp-app-logo\" src={logo} />\r\n                {/*<h1 class=\"wrp-app-logo-title\">Word Reading Pro</h1>*/}\r\n            </div>\r\n            <div className={\"wrp-input-container \".concat(typing ? \"typing\" : \"\")}>\r\n                <div className=\"wrp-input-bar\">\r\n                    {typing ? (<div className=\"wrp-input-bar-button\" onClick={() => this.setTyping(false)}>\r\n                        <svg viewBox=\"0 0 1118 1024\" version=\"1.1\" width=\"218.359375\" height=\"200\" fill=\"var(--c-dark)\"><defs><style type=\"text/css\"></style></defs><path d=\"M229.42 558.545h841.125c25.707 0 46.546-20.839 46.546-46.545 0-25.706-20.84-46.545-46.546-46.545H229.42L544.913 149.96c18.177-18.177 18.177-47.648 0-65.825-18.178-18.177-47.648-18.177-65.826 0L84.137 479.087c-9.09 9.089-13.634 21.001-13.634 32.913 0 11.912 4.545 23.824 13.633 32.913l394.951 394.95c18.178 18.178 47.648 18.178 65.826 0 18.177-18.176 18.177-47.647 0-65.824L229.419 558.545z\" p-id=\"5564\"></path></svg>\r\n                    </div>) : ''}\r\n                    <input\r\n                        className={\"wrp-input \".concat(typing ? \"wrp-input-typing\" : \"\")}\r\n                        id=\"whinput\"\r\n                        autoComplete=\"on\"\r\n                        contentEditable=\"true\"\r\n                        onChange={(e) => this.handleChange(e)}\r\n                        onKeyUp={(e) => this.handleKeyUp(e)}\r\n                        onPaste={(e) => { this.handlePaste(e); }}\r\n                        onFocus={() => this.setTyping(true)}\r\n                        type=\"text\"\r\n                        placeholder=\"输入文章或链接\"\r\n                        value={this.state.input}\r\n                    ></input>\r\n                    {typing ? (<div className=\"wrp-input-bar-button wb-clearinput\" onClick={() => { this.setInput('', true) }}>\r\n                        <svg viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\" fill=\"var(--c-dark)\"><defs><style type=\"text/css\"></style></defs><path d=\"M512 0a512 512 0 0 0-512 512 512 512 0 0 0 512 512 512 512 0 0 0 512-512 512 512 0 0 0-512-512z m241.005714 703.268571a32.182857 32.182857 0 0 1 0.512 45.348572 32.182857 32.182857 0 0 1-45.348571 0.512L512 556.763429 315.830857 748.982857a31.963429 31.963429 0 1 1-44.836571-45.787428L466.285714 512l-195.291428-191.268571a32.182857 32.182857 0 0 1-0.512-45.348572 32.182857 32.182857 0 0 1 45.348571-0.512L512 467.236571 708.169143 275.017143a31.963429 31.963429 0 1 1 44.836571 45.787428L557.714286 512l195.291428 191.268571z\" p-id=\"10064\"></path></svg>\r\n                    </div>) : ''}\r\n                    <div className=\"wrp-input-bar-go\" onClick={() => { this.goRead() }}>\r\n                        <svg viewBox=\"0 0 218.36 200\"><path fill=\"var(--c-light)\" d=\"M187.14,109.09l-61.62,61.62a9.09,9.09,0,0,0,12.86,12.86l77.14-77.14a9.1,9.1,0,0,0,0-12.86L138.38,16.43a9.09,9.09,0,1,0-12.86,12.86l61.62,61.62H22.86a9.09,9.09,0,1,0,0,18.18Z\" /></svg>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            <div>\r\n                {history}\r\n            </div>\r\n            <div>\r\n                {/**推荐文章 */}\r\n            </div>\r\n        </div>\r\n        );\r\n    }\r\n}","import React from \"react\";\r\nimport { connect } from 'react-redux'\r\nimport * as actions from './actions/app'\r\n\r\n\r\nfunction Status(props){\r\n    // props.status,\r\n    console.log('Status', props.status)\r\n\r\n    const handleClick = ()=>{\r\n        // 回退，将状态重置为completed\r\n        if(props.status == 'completed') return;\r\n        if(props.status == 'loading') return;\r\n        if(props.status == 'parsing') return;\r\n\r\n        try{\r\n            props.setStatus('completed')\r\n        }catch(e){\r\n            console.error('status.js: need props.setStatus() ', e);\r\n        }\r\n\r\n    }\r\n\r\n    const wrapper = (content)=>{\r\n        return (\r\n            <div \r\n                className=\"wrp-show-status\"\r\n                onClick = {handleClick}\r\n            >\r\n                {content}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const errorIcon = (\r\n        <div className=\"wrp-icon\">\r\n            <svg className=\"wrp-icon-svg\" viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\" fill=\"rgb(var(--t-c-e))\"><defs><style type=\"text/css\"></style></defs><path d=\"M512 0a512 512 0 0 0-512 512 512 512 0 0 0 512 512 512 512 0 0 0 512-512 512 512 0 0 0-512-512z m241.005714 703.268571a32.182857 32.182857 0 0 1 0.512 45.348572 32.182857 32.182857 0 0 1-45.348571 0.512L512 556.763429 315.830857 748.982857a31.963429 31.963429 0 1 1-44.836571-45.787428L466.285714 512l-195.291428-191.268571a32.182857 32.182857 0 0 1-0.512-45.348572 32.182857 32.182857 0 0 1 45.348571-0.512L512 467.236571 708.169143 275.017143a31.963429 31.963429 0 1 1 44.836571 45.787428L557.714286 512l195.291428 191.268571z\" p-id=\"10064\"></path></svg>\r\n        </div>\r\n    );\r\n\r\n    const button = (\r\n        <div>\r\n            <button>重试</button>\r\n            <button>返回</button>\r\n        </div>\r\n    );\r\n\r\n    var statusContent = '';\r\n    switch(props.status){\r\n        case \"loading\":\r\n        case \"parsing\":\r\n        default:\r\n            if(props.status == \"loading\" || props.status == \"parsing\"){\r\n                statusContent = wrapper(\r\n                    <>\r\n                        <div className=\"wrp-icon\">\r\n                            <div className=\"wrp-loading-icon\">\r\n                                <div/> <div/>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"wrp-status-tip\">{props.status==\"loading\"?\"加载中...\":\"解析中...\"}</div>\r\n                    </>\r\n                )\r\n            }\r\n            break;\r\n        case \"failed\":\r\n        case \"timeout\":\r\n            statusContent = wrapper(\r\n                <>\r\n                    {errorIcon}\r\n                    <div className=\"wrp-text\">{props.status==\"failed\"?\"加载失败\":\"加载超时\"}</div>\r\n                    <div className=\"wrp-text wrp-status-des\">\r\n                        加载此网址：\r\n                        <span className=\"wrp-warning\">{props.url}</span>\r\n                        <br/>发生问题，请检查网址!\r\n                    </div>\r\n                </>\r\n            )\r\n            break;\r\n        case \"typeError\":\r\n            statusContent = wrapper(\r\n                <>\r\n                    {errorIcon}\r\n                    <div className=\"wrp-text\">返回类型错误</div>\r\n                    <div className=\"wrp-text wrp-status-des\">\r\n                        此网址：\r\n                        <span className=\"wrp-warning\">{props.url}</span>\r\n                        <br/>返回不受支持的内容，请检查网址!\r\n                    </div>\r\n                </>\r\n            )\r\n            break;\r\n        case \"completed\":\r\n            statusContent = ''\r\n            break;\r\n    }\r\n\r\n    return statusContent\r\n            \r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    status: state.app.status\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setStatus: status => {\r\n        dispatch(actions.setStatus(status))\r\n    }\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Status);","import React from 'react';\r\n\r\nimport './findPage.scss';\r\nimport { withRouter } from 'react-router';\r\n\r\nimport {ItemCard} from '../Home.js';\r\n\r\n\r\nfunction itemCard(){\r\n\r\n    return (\r\n        <div className=\"wrp-card-wrapper wrp-cp\" onClick={()=>{}}>\r\n            <div className=\"wrp-image-wrapper wrp-card-image\">\r\n                {/*<img className=\"wrp-image\" src=\"https://lh6.googleusercontent.com/proxy/GICqS-kiP8lyGI9A7Qq-JJvzZl5HTfMjebIFUmD3k8rE4hMW2f7fBPpusTyl2KYNEF47lNVtuF5YFvfiXWTHqRghBA\"></img>*/}\r\n                <svg className=\"wrp-image \" height=\"32\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"32\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z\"></path></svg>\r\n            </div>\r\n            <div className=\"wrp-card-text-wrapper\">\r\n                <div className=\"wrp-ellipsis wrp-ct\">GitHub-Built for developers</div>\r\n                <div className=\"wrp-cs\">GitHub is a development platform inspired by the way you work. From open source to business, you can host and review code, manage projects, and build software alongside 40 million developers.</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction itemIcon(){\r\n\r\n    return (\r\n        <div className=\"wrp-nav-item wrp-item-icon\" onClick={()=>{}}>\r\n            <svg className=\"wrp-nav-item-icon \" height=\"32\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"32\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z\"></path></svg>\r\n            <div className=\"wrp-nav-item-title wrp-ellipsis\" >GitHub-Built for developers</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction FindPage(){\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className=\"wrp-card-container\">\r\n                <ItemCard data={{src:'',title:'a',des:'b'}} ></ItemCard>\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n            </div>\r\n            <div className=\"wrp-card-container\">\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\n// export {FindPage};\r\n// let withRouterFindPage = withRouter(FindPage);\r\n// export {FindPage};\r\nexport default withRouter(FindPage);","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport logo from \"./components/res/logo.png\";\r\nimport manifest from \"./manifest.json\";\r\n\r\nimport './Head.scss'\r\n\r\nfunction Head(props) {\r\n  return <div id=\"wrp-head\">{props.heads}</div>;\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  heads: state.webApp.heads,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Head);","import React, { useEffect } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link,\r\n    useLocation,\r\n    useRouteMatch,\r\n    useParams,\r\n    useHistory,\r\n    withRouter,\r\n\r\n} from 'react-router-dom';\r\nimport './webApp.scss';\r\n\r\nimport App from './App';\r\n// import {AppWithRouter as App} from './App';\r\nimport Home from './Home';\r\nimport Status from './Status';\r\nimport './common.scss';\r\n\r\nimport { NavBar } from './components/navBar';\r\nimport FindPage from './components/findPage';\r\n\r\nimport { store } from './index'\r\nimport * as actions from './actions/webApp'\r\nimport * as aActions from './actions/a';\r\n\r\nimport { connect } from 'react-redux'\r\n\r\nimport Head from './Head';\r\nimport ReadPanel from './components/readPanel';\r\n\r\nimport { replaceScript } from './utils/core'\r\n\r\nfunction WebApp(props) {\r\n\r\n    const checkURI = () => {\r\n        console.log('webApp.js: checkURI()');\r\n\r\n        let urlParams = (new URL(window.location.href)).searchParams;\r\n        let url = urlParams.get('url');\r\n        let key = urlParams.get('key');\r\n\r\n        if (key) {\r\n            let doc = localStorage.getItem(key);\r\n            props.setXmlDoc(doc)\r\n            props.setStatus('parsing')\r\n        }\r\n\r\n        let elements = props.elements || []\r\n\r\n        if (!url) return;\r\n\r\n        if (url === props.app.url && elements.length !== 0) {\r\n\r\n        }\r\n\r\n        if (url === props.app.url && elements.length === 0) {\r\n            // this.props.setStatus('parsing')\r\n            // this.docParser(this.props.app.xmlDoc)\r\n            console.log('checkURI call docParser')\r\n            props.docParser(props.app.xmlDoc, props.app.url)\r\n            // this.props.setLocation('/wrp-read')\r\n        }\r\n\r\n        if (url !== props.app.url) {\r\n            // this.inputIsURL = true;\r\n            // if (this.input == url) return;\r\n            props.setUrl(url)\r\n            props.setStatus('loading')\r\n            props.loadXmlDoc(url)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        props.setHistory(null);\r\n\r\n        props.history.listen(location => {\r\n            if (props.app.status !== 'loading') {\r\n                checkURI()\r\n            }\r\n        })\r\n\r\n        checkURI();\r\n\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        replaceScript();\r\n\r\n    });\r\n\r\n    return (\r\n        <>\r\n            <Switch>\r\n                <Route path=\"/\" >\r\n                    <Switch>\r\n                        <Route exact path=\"/wrp-home\">\r\n                            <Home></Home>\r\n                        </Route>\r\n                        <Route path=\"/wrp-find\" >\r\n                            <FindPage></FindPage>\r\n                        </Route>\r\n                        <Route path=\"/wrp-word\" >\r\n                            <div>\r\n                                <h1>a {JSON.stringify({ ...props.a })}</h1>\r\n                                <h2>APP: {JSON.stringify({})}</h2>\r\n                                <button\r\n                                    onClick={props.testAction}>action</button>\r\n                            </div>\r\n                        </Route>\r\n                        <Route\r\n                            path=\"/wrp-word/:id\"\r\n                        >\r\n                            <div>\r\n                                <input type=\"text\" className=\"form-control input-sm header-search-input  js-site-search-focus \" data-hotkey=\"s,/\" name=\"q\" placeholder=\"Search GitHub\" data-unscoped-placeholder=\"Search GitHub\" data-scoped-placeholder=\"Search\" autocapitalize=\"off\" aria-label=\"Search GitHub\"></input>\r\n\r\n                                <input style={{ \"border\": \"1px solid #000\" }} onInput={() => { console.log('test entering') }}></input>\r\n\r\n                                <input style={{ \"border\": \"1px solid #000\" }} ></input>\r\n                            </div>\r\n                        </Route>\r\n                        <Route path=\"/:name\">\r\n                            <ReadPanel />\r\n                            <Head></Head>\r\n                            <App></App>\r\n                            {\r\n                                // this.showStatus()\r\n                            }\r\n                            <Status\r\n                            // url={this.input}\r\n                            />\r\n                        </Route>\r\n                    </Switch>\r\n                    {/* <NavBar path={this.props.path} /> */}\r\n                </Route>\r\n            </Switch>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n    webApp: state.webApp,\r\n    app: state.app,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    setStatus: (status) => {\r\n        dispatch(actions.setStatus(status))\r\n    },\r\n\r\n    loadXmlDoc: url => {\r\n        console.log(`mapDispatchToProps: input: ${url}`)\r\n        dispatch(actions.loadXmlDoc(url))\r\n    },\r\n\r\n    setXmlDoc: doc => {\r\n        dispatch(actions.setXmlDoc(doc))\r\n    },\r\n\r\n    setHistory: (historyList, item) => {\r\n        dispatch(actions.setHistory(historyList, item))\r\n    },\r\n\r\n    setUrl: url => {\r\n        dispatch(actions.setUrl(url))\r\n    },\r\n\r\n    setAShow: isShow => {\r\n        dispatch(aActions.setShow(isShow))\r\n    },\r\n})\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(WebApp));\r\n\r\n// 废弃\r\nclass _WebApp extends React.Component {\r\n    constructor(props) {\r\n        console.log(`store: ${JSON.stringify(store)}`)\r\n        super(props);\r\n        this.input = \"\";\r\n        this.urlPattern = /^https?:\\/\\/(.+\\.\\w+.*)|(localhost.*)/;\r\n        // 初始化History\r\n        this.props.setHistory(null)\r\n    }\r\n\r\n    go(input, isUri) {\r\n        console.log(\"webApp.js: go() \", input, isUri);\r\n\r\n        // 当前网页\r\n        if (input == this.input) {\r\n            console.log('input = this.input 跳过加载')\r\n            this.props.setStatus('parsing')\r\n            //当前阅读的页面，跳过加载，直接渲染\r\n            return;\r\n        }\r\n\r\n        // 复制粘贴富文本\r\n        if (!isUri) {\r\n            this.props.setXmlDoc(input);\r\n            this.props.setStatus('parsing')\r\n            return;\r\n        }\r\n\r\n        // 新网页，加载\r\n        this.input = input;\r\n        this.inputIsURL = isUri;\r\n\r\n        this.props.setStatus('loading')\r\n        this.props.loadXmlDoc(input)\r\n    }\r\n\r\n    checkURI() {\r\n        console.log('webApp.js: checkURI()');\r\n\r\n        let urlParams = (new URL(window.location.href)).searchParams;\r\n        let url = urlParams.get('url');\r\n        let key = urlParams.get('key');\r\n\r\n        if (key) {\r\n            let doc = localStorage.getItem(key);\r\n            this.props.setXmlDoc(doc)\r\n            this.props.setStatus('parsing')\r\n        }\r\n\r\n        // if (url) {\r\n        //     this.inputIsURL = true;\r\n        //     if (this.input == url) return;\r\n        //     this.input = url;\r\n        //     this.props.setStatus('loading')\r\n        //     this.props.loadXmlDoc(url)\r\n        // }\r\n\r\n        let elements = this.props.elements || []\r\n\r\n        if (!url) return;\r\n\r\n        if (url === this.props.app.url && elements.length !== 0) {\r\n\r\n        }\r\n\r\n        if (url === this.props.app.url && elements.length === 0) {\r\n            // this.props.setStatus('parsing')\r\n            // this.docParser(this.props.app.xmlDoc)\r\n            console.log('checkURI call docParser')\r\n            this.props.docParser(this.props.app.xmlDoc, this.props.app.url)\r\n            // this.props.setLocation('/wrp-read')\r\n        }\r\n\r\n        if (url !== this.props.app.url) {\r\n            this.inputIsURL = true;\r\n            if (this.input == url) return;\r\n            this.props.setUrl(url)\r\n            this.props.setStatus('loading')\r\n            this.props.loadXmlDoc(url)\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log('webApp.js: componentWillMount');\r\n        console.log(`store: ${JSON.stringify(store)}`)\r\n        this.componentDidUpdate();\r\n\r\n        this.props.history.listen(location => {\r\n            console.log('history.listen', location, window.location)\r\n            let url = new URLSearchParams(window.location.search).get('url')\r\n            if (this.props.app.status !== 'loading') {\r\n                this.checkURI()\r\n            }\r\n        })\r\n\r\n        this.checkURI()\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        replaceScript();\r\n\r\n        // 手动触发 DOMContentLoaded\r\n        var DOMContentLoaded_event = document.createEvent(\"Event\");\r\n        DOMContentLoaded_event.initEvent(\"DOMContentLoaded\", true, true);\r\n        window.document.dispatchEvent(DOMContentLoaded_event)\r\n\r\n        console.log('webApp.js: componentDidUpdate', window.location);\r\n\r\n        // 对页面内js控制的转跳进行重定向\r\n        let location = window.location;\r\n        let dir = location.pathname.split(\"/\")[1]; // 没有的话返回\"\"\r\n        switch (dir) {\r\n            case \"\":\r\n                this.props.history.push('/wrp-home');\r\n                break\r\n            case \"wrp-read\":\r\n            case \"wrp-home\":\r\n            case \"wrp-find\":\r\n            case \"wrp-word\":\r\n            case \"wrp-about\":\r\n            case \"wrp-test\":\r\n                break;\r\n            default:\r\n                console.log(\"pathname 为 其他路径\", dir);\r\n                // js转跳 或是 用户输入的路径\r\n                let newSearch = `?url=${encodeURIComponent(this.input + location.pathname + location.search)}`;\r\n                let origin;\r\n                let history = this.props.app.history\r\n                if (!history) break\r\n                if (history[history.length - 1]) {\r\n                    origin = new URL(history[history.length - 1].input).origin;\r\n                    let href = `${location.origin}/wrp-read?url=${encodeURIComponent(origin + location.pathname + location.search)}`;\r\n                    console.log('转跳目标 ->', origin + location.pathname + location.search)\r\n                    window.location.href = href;\r\n                } else {\r\n                    origin = window.location.origin + \"/wrp-home\";\r\n                    console.log('转跳目标', origin);\r\n                    window.location.href = origin;\r\n                }\r\n\r\n                // alert('转跳！');\r\n                // window.location.pathname = '/wrp-read';\r\n                // window.location.search = `?url=${encodeURIComponent(\"https://qq.com\")}`\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        console.log('webApp.js: render()');\r\n        console.log(`store: ${JSON.stringify(store)}`)\r\n\r\n        let Page = (\r\n            <>\r\n                <Switch>\r\n                    <Route path=\"/\" >\r\n                        <Switch>\r\n                            <Route exact path=\"/wrp-home\">\r\n                                <Home\r\n                                    setInput={(input, type) => this.go(input, type)}\r\n                                ></Home>\r\n                            </Route>\r\n                            <Route path=\"/wrp-find\" >\r\n                                <FindPage></FindPage>\r\n                            </Route>\r\n                            <Route path=\"/wrp-word\" >\r\n                                <div>\r\n                                    <h1>a {JSON.stringify({ ...this.props.a })}</h1>\r\n                                    <h2>APP: {JSON.stringify({})}</h2>\r\n                                    <button\r\n                                        onClick={this.props.testAction}>action</button>\r\n                                </div>\r\n                            </Route>\r\n                            <Route\r\n                                path=\"/wrp-word/:id\"\r\n                            >\r\n                                <div>\r\n                                    <input type=\"text\" className=\"form-control input-sm header-search-input  js-site-search-focus \" data-hotkey=\"s,/\" name=\"q\" placeholder=\"Search GitHub\" data-unscoped-placeholder=\"Search GitHub\" data-scoped-placeholder=\"Search\" autocapitalize=\"off\" aria-label=\"Search GitHub\"></input>\r\n\r\n                                    <input style={{ \"border\": \"1px solid #000\" }} onInput={() => { console.log('test entering') }}></input>\r\n\r\n                                    <input style={{ \"border\": \"1px solid #000\" }} ></input>\r\n                                </div>\r\n                            </Route>\r\n                            <Route path=\"/:name\">\r\n                                <ReadPanel\r\n                                    padding={!this.props.url}\r\n                                    content={this.props.app.elements}\r\n                                />\r\n                                <Head></Head>\r\n                                <App></App>\r\n                                {\r\n                                    // this.showStatus()\r\n                                }\r\n                                <Status\r\n                                    url={this.input}\r\n                                />\r\n                            </Route>\r\n                        </Switch>\r\n                        {/* <NavBar path={this.props.path} /> */}\r\n                    </Route>\r\n                </Switch>\r\n            </>\r\n        );\r\n\r\n        return Page;\r\n    }\r\n}\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport rootReducer from './reducers';\r\nimport thunk from 'redux-thunk';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link,\r\n    useLocation,\r\n    useRouteMatch,\r\n    useParams,\r\n    useHistory,\r\n    withRouter,\r\n\r\n} from 'react-router-dom';\r\n\r\n\r\n// import ReactDOMServer from 'react-dom/server';\r\n// import ReactHtmlParser from 'react-html-parser';\r\n\r\nimport WebApp from './webApp';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nconst traget = document.getElementById('wrp-root')\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n    rootReducer,\r\n    composeEnhancers(\r\n        applyMiddleware(thunk)\r\n    )\r\n);\r\n\r\nrender(\r\n    <Provider store={store}>\r\n        <Router>\r\n            <WebApp />\r\n        </Router>\r\n    </Provider>\r\n    , traget);\r\n\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n\r\nexport { store }","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/explainBoxArrow.cd1bf698.svg\";","module.exports = __webpack_public_path__ + \"static/media/audio.4030fa08.svg\";","module.exports = __webpack_public_path__ + \"static/media/star.e07fbbc9.svg\";","module.exports = __webpack_public_path__ + \"static/media/more.26f6d80d.svg\";","module.exports = __webpack_public_path__ + \"static/media/open.4645967c.svg\";","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}