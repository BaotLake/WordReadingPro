{"version":3,"sources":["reducers/webApp.js","reducers/app.js","reducers/explanation.js","reducers/a.js","reducers/translate.js","reducers/index.js","reducers/readPanel.js","components/word.js","actions/a.js","components/a.js","utils/core.js","actions/explanation.js","actions/translate.js","actions/readPanel.js","components/switch.js","components/Explanation.js","containers/ManageExplanation.js","components/TranslatePanel.js","utils/touch.js","containers/ManageTranslatePanel.js","components/readPanel.js","App.js","actions/webApp.js","Home.js","status.js","components/findPage.js","Head.js","webApp.js","serviceWorker.js","index.js","components/res/logo.png","components/res/explainBoxArrow.svg","components/res/audio.svg","components/res/star.svg","components/res/more.svg","components/res/open.svg","components/res/arrowShadow.png"],"names":["webApp","state","action","type","status","xmlDoc","url","history","location","key","elements","heads","app","explanation","count","word","coordinate","show","data","audio","zoom","Number","isNaN","more","Array","isArray","concat","moreObj","map","w","Object","keys","setting","isUnfold","unfoldMore","a","href","translate","value","original","translation","console","log","combineReducers","readPanel","menuStyle","style","target","props","touchMoving","movingRecord","sumX","sumY","lastX","lastY","e","this","touches","pageX","pageY","self","setTimeout","Math","abs","warn","clientX","clientY","setState","toString","id","className","content","React","Component","setShow","setHref","connect","dispatch","isShow","aActions","onClick","preventDefault","_","children","AModal","data-wrp-action-block","test","viewBox","version","fill","xmlns","p-id","d","to","encodeURIComponent","x","y","config","extractScope","front","behind","fn","bn","isInline","nodeName","window","getComputedStyle","getPropertyValue","search","comparePosition","breakPoints","length","middle","round","textContent","getSelection","removeAllRanges","range","Range","setStart","setEnd","addRange","domRect","getClientRects","height","slice","calcOffset","text","points","push","getBreakPoints","firstChild","p","obj","result","point","nextSibling","getTargetAndBreakPoint","extractPart","offset","frontPattern","behindPattern","frontTarget","previousSibling","frontFind","behindFind","findSubPart","orientation","pattern","subPart","match","index","indexOf","lastIndexOf","sentenceEndingJudge","testParent","texts","startTarget","startOffset","break","unshift","lastChild","copy","parentNode","endTarget","endOffset","max","some","re","toLowerCase","attToProps","createElement","extractBothEnds","node","frontCross","extractFront","extractBehind","wordSplit","wordpattern","List","splitList","split","getWord","getCross","cross","other","otherWord","c","crossChildren","otherChildren","htmlTraversal","alterNode","extractHead","head","list","i","childNodes","src","findIndex","rel","innerText","extractAbstract","abstract","links","getElementsByTagName","link","icon","title","docTitle","docH1","body","pTags","description","trim","spanTags","des","styleConvert","styleObj","replace","m","g","toUpperCase","attributes","att","attName","name","attValue","Function","integrity","haveCrossWord","nextNode","deep","child","frontHaveWordEnd","behindHaveWordEnd","sId","onlyOneChild","s","sentenceSplit","frontOther","childrenList","haveCross","haveCross2","behindCross","newFrontCross","behindOther","replaceScript","attr","scriptList","document","querySelectorAll","forEach","newScript","appendChild","targetActionFilter","path","j","blockAttr","includes","getPath","scrollToTop","querySelector","scrollTop","setData","loadWordData","Promise","resolve","axios","method","timeout","res","get","answer","join","addMore","setExplState","Error","filter","tapWord","event","anchorNode","wholeText","anchorOffset","clickedChar","part","position","setWord","setMore","setStatus","slideTranslate","sentence","start","end","selectedText","setOriginal","formData","URLSearchParams","append","Data","Translated","setMenuStyle","updateShow","hiddenMenu","Switch","useState","defaultValue","onChange","Explanation","size","maxNumber","setSetting","setMoreFold","setZoom","Loading","nothing","t","width","ew","eh","aw","ah","topDistance","wordDistance","edgeDistance","arrowOverlapping","remRatioPx","arrowPosition","vw","innerWidth","ratio","innerHeight","top","left","calcPosition","autoPlay","auto","audioUS","audioUK","playingWhich","playWhich","fontSize","getElementById","play","display","menuBgStyle","moreList","unfold","renderMore","explActions","TranslatePanel","panelStyle","assign","hidden","bottom","half","full","maxHeight","onTouchStart","onSlipStart","onTouchMove","onSlipMove","onTouchEnd","onSlipEnd","handleClick","handleDrag","setTranslateY","ref","handleEl","class","Touch","options","bind","move","onEnd","setOnEnd","onMoving","setOnMoving","onStart","setOnStart","startX","startY","startTime","duration","clear","Date","now","call","callback","Tap","tapList","effectiveInterval","interval","effectiveOffset","effectiveCount","timeStamp","repeatedDetect","ownProps","translateActions","useRef","slipTouch","useMemo","showStatusMap","0","1","2","touch","stopPropagation","showStatus","diff","current","transform","background","transition","mapStateToProps","mapDispatchToProps","actions","ToolMenu","opacity","pointerEvents","classList","add","remove","setHistory","item","setXmlDoc","events","setExplShow","setAShow","tapA","loadXmlDoc","setUrl","transActions","showToolMenu","screen","availWidth","vh","availHeight","setTarget","rpActions","hiddenToolMenu","useHistory","useEffect","tap","linkIntercept","scrolling","timestamp","scrollOffset","onScroll","documentElement","addEventListener","capture","passive","removeEventListener","ManageExplanation","setLocation","undefined","historyList","JSON","parse","localStorage","getItem","v","shift","removeItem","historyStr","stringify","setItem","setHeads","input","encode","url2","inputObj","URL","host","reject","docParser","setElements","doc","baseUrl","t1","dom","DOMParser","parseFromString","base","origin","insertBefore","htmlElements","t2","ItemCard","data-url","data-key","History","readHistory","withRouter","goRead","currentUrl","isUrl","setKey","focused","setFocused","setInput","urlPattern","readFromUrl","pathname","readFromText","logo","autoComplete","contentEditable","currentTarget","onKeyUp","onPaste","copiedText","clipboardData","getData","copiedRichText","onFocus","placeholder","String","reduce","b","charCodeAt","error","wrapper","errorIcon","statusContent","itemCard","aria-hidden","fill-rule","itemIcon","checkURI","urlParams","searchParams","listen","dir","exact","testAction","data-hotkey","data-unscoped-placeholder","data-scoped-placeholder","autocapitalize","aria-label","onInput","Boolean","hostname","traget","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","rootReducer","applyMiddleware","thunk","render","navigator","serviceWorker","ready","then","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.d7d7ac7d.chunk.js","sourcesContent":["const webApp = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case \"webApp/SETSTATUS\":\r\n            return {...state, status: action.status}\r\n        case \"webApp/SETXMLDOC\":\r\n            // console.log(`reducers app/SETXMLDOC: xmlDoc: ${action.xmlDoc}`)\r\n            return {...state, xmlDoc: action.xmlDoc}\r\n        case \"webApp/SETURI\":\r\n            return {...state, url: action.url}\r\n        case \"webApp/SETHISTORY\":\r\n            return {...state, history: action.history}\r\n        case \"webApp/SETLOCATION\":\r\n            return {...state, location: action.location}\r\n        case \"webApp/SETKEY\":\r\n            return {...state, key: action.key}\r\n        case \"webApp/SETELEMENTS\":\r\n            return {...state, elements: action.elements}\r\n        case \"webApp/SETHEADS\":\r\n            return {...state, heads: action.heads}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default webApp","const app = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case \"app/\":\r\n            return {...state, status: action.status}\r\n        case \"app/\":\r\n            // console.log(`reducers app/SETXMLDOC: xmlDoc: ${action.xmlDoc}`)\r\n            return {...state, xmlDoc: action.xmlDoc}\r\n        case \"app/\":\r\n            return {...state, url: action.url}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default app","const explanation = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case \"SHOW_EXPANATION\":\r\n      let count = state.count + 1 || 1;\r\n      return { ...state, word: \"WORD\", count: count };\r\n    case \"expl/SETWORD\":\r\n      if (action.coordinate == null) return { ...state, word: action.word };\r\n      return { ...state, word: action.word, coordinate: action.coordinate };\r\n    case \"expl/SETSHOW\":\r\n      if(action.show === state.show) return state;\r\n      return { ...state, show: action.show };\r\n    case \"expl/SETDATA\":\r\n      return { ...state, data: action.data };\r\n    case \"expl/SETEXPLSTATE\":\r\n      return { ...state, status: action.status };\r\n    case \"expl/SETPLAYAUDIO\":\r\n      return { ...state, audio: action.audio };\r\n    case \"expl/SETZOOM\":\r\n      let zoom = (state.zoom == null ? 0 : state.zoom) + action.zoom;\r\n      if (typeof zoom !== \"number\" || Number.isNaN(zoom)) zoom = 0;\r\n      return { ...state, zoom: zoom };\r\n    case \"expl/ADDMORE\":\r\n      let more = Array.isArray(state.more)\r\n        ? state.more.concat(action.more)\r\n        : [action.more];\r\n      let moreObj = {}\r\n      more.map(w => moreObj[w]='')\r\n      return { ...state, more: Object.keys(moreObj) };\r\n    case \"exp/SETMORE\":\r\n      return { ...state, more: action.more };\r\n    case \"expl/SETSETTING\":\r\n      let setting = { ...state.setting, ...action.setting };\r\n      return { ...state, setting: setting };\r\n    case \"expl/SETMOREFOLD\":\r\n      if (action.isUnfold == null) {\r\n        return { ...state, unfoldMore: !state.unfoldMore };\r\n      }\r\n      return { ...state, unfoldMore: action.unfoldMore };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default explanation;\r\n","const a = (state={}, action) => {\n    switch(action.type) {\n        case \"a/SETSHOW\":\n            if( action.status === null  ) return { ...state, show:!state.status }\n            return { ...state, show: action.status }\n        case \"a/SETHREF\":\n            return { ...state, href:action.href }\n        default:\n            return { ...state }\n    }\n}\n\nexport default a;","const translate = (state = {}, action) => {\n    switch(action.type){\n        case \"translate/SETSHOW\":\n            return { ...state, show: action.value }\n        case \"translate/SETORIGINAL\":\n            return { ...state, original: action.original }\n        case \"translate/SETTRANSLATION\":\n            return { ...state, translation: action.translation}\n        case \"translate/SETSTATUS\":\n            return { ...state, status: action.status }\n        // case \"\":\n        //     return { ...state, }\n        default:\n            return state\n    }\n}\n\nexport default translate","import { combineReducers } from 'redux'\r\n\r\nimport webApp from './webApp';\r\nimport app from './app';\r\nimport explanation  from './explanation';\r\nimport a from './a';\r\nimport translate from './translate';\r\nimport readPanel from './readPanel';\r\nimport other  from './other';\r\n\r\nconsole.log(`reducers.js`);\r\n\r\nexport default combineReducers({\r\n    webApp,\r\n    app,\r\n    explanation,\r\n    a,\r\n    translate,\r\n    readPanel,\r\n    // other\r\n})","\r\n\r\nexport default function (state = {}, action) {\r\n    switch (action.type) {\r\n        case \"readPanel/SETMENUSTYLE\":\r\n            return { ...state, menuStyle: action.style }\r\n            break;\r\n        case \"readPanel/SETTARGET\":\r\n            return { ...state, target: action.target }\r\n        case \"readPanel/SETSHOW\":\r\n            return { ...state, show: action.show }\r\n        default:\r\n            return state;\r\n    }\r\n}","import React from 'react';\r\nimport { getKeys } from 'eslint-visitor-keys';\r\n\r\nvar key = 0;\r\nfunction getMyKeys(){\r\n    key += 1\r\n    return key.toString()\r\n}\r\n\r\nclass word extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            style:{}\r\n        }\r\n        this.touchMoving = false;\r\n        this.movingRecord = {\r\n            sumX:0,\r\n            sumY:0,\r\n            lastX:0,\r\n            lastY:0\r\n        }\r\n    }\r\n\r\n\r\n    handleTouchMove(e){\r\n        // console.log('touchMove',e,e.touches,e.targetTouches)\r\n        // console.log(e.touches[0].pageX, e.touches[0].pageY, this.touchMoving)\r\n        if(!this.touchMoving){\r\n            // 触摸开始\r\n            this.touchMoving = true;\r\n            let self = this;\r\n            setTimeout(()=>{\r\n                self.touchMoving = false;\r\n                // console.log('time up', this.touchMoving)\r\n            }, 100, this);\r\n            // 记录初始化\r\n            this.movingRecord = {\r\n                sumX:0,\r\n                sumY:0,\r\n                lastX:e.touches[0].pageX,\r\n                lastY:e.touches[0].pageY\r\n            }\r\n        }else{\r\n            // 滑动中 记录\r\n            this.movingRecord.sumX = this.movingRecord.sumX + e.touches[0].pageX - this.movingRecord.lastX;\r\n            this.movingRecord.sumY = this.movingRecord.sumY + e.touches[0].pageY - this.movingRecord.lastY;\r\n            this.movingRecord.lastX = e.touches[0].pageX;\r\n            this.movingRecord.lastY = e.touches[0].pageY;\r\n        }\r\n\r\n        // 滑动 判断\r\n        if(Math.abs(this.movingRecord.sumX) > 50 && Math.abs(this.movingRecord.sumY) < 15){\r\n            // 成立\r\n            // console.log(\"translate\")\r\n            try{\r\n                this.props.translate(e)\r\n            }catch(e){\r\n                console.warn(\"word: props.translate is not function!\", e);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    handleMouseMove(e){\r\n        // console.log('handleMouseMove', this.touchMoving);\r\n        if(this.touchMoving){\r\n            // console.log('handleMouseMove', e)\r\n        }\r\n    }\r\n\r\n    handleMouseDown(e){\r\n        this.touchMoving = true;\r\n    }\r\n\r\n    handleMouseUp(e){\r\n        this.touchMoving = false;\r\n    }\r\n\r\n    handleDoubleClick(e){\r\n        console.log('double click')\r\n        try{\r\n            this.props.translate(e)\r\n        }catch(e){\r\n            console.warn(\"word: props.translate is not function!\", e);\r\n        }\r\n    }\r\n\r\n    handleTest(w, e){\r\n        console.log(\"click e->\", e, e.clientX, e.clientY)\r\n        this.setState({\r\n            style:{\r\n                \"backgroundColor\":\"#fff\",\r\n                \"borderRadius\":\"5px\"\r\n            }\r\n        })\r\n    }\r\n\r\n    render(){\r\n        let key = getMyKeys()\r\n        return (\r\n            <span\r\n                key={key}\r\n                id={key}\r\n                className=\"@w\"\r\n                // onTouchMove={(e)=>this.handleTouchMove(e)}\r\n                // onMouseDown={(e)=>this.handleMouseDown(e)}\r\n                // onMouseMove={(e)=>this.handleMouseMove(e)}\r\n                // onMouseUp={(e)=>this.handleMouseUp(e)}\r\n                // style={this.state.style}\r\n            >{this.props.content}</span>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default word;","\nexport const setShow = status => ({\n    type: 'a/SETSHOW',\n    status\n})\n\nexport const setHref = href => ({\n    type: 'a/SETHREF',\n    href\n})\n\n// a = <a>\nexport const tapA = a => {\n    let href = a.href;\n\n    return dispatch => {\n        dispatch(setHref(href))\n        dispatch(setShow(true))\n    }\n}","import React from 'react';\r\nimport {\r\n    Link,\r\n} from 'react-router-dom';\r\n\r\nimport '../App.scss';\r\n\r\nimport { connect } from 'react-redux'\r\nimport * as aActions from '../actions/a'\r\nimport * as _ from 'lodash'\r\n\r\n// A 组件目前弃用\r\nfunction A(props) {\r\n\r\n    const handleClick = (e) => {\r\n        e.preventDefault();\r\n        let url = _.get(e, 'currentTarget.attributes.data-src.value');\r\n        if (!url) return;\r\n        props.setHref(url)\r\n        props.setShow(true)\r\n    }\r\n\r\n    // let aProps = props.props\r\n    // // aProps.className = \"wrp-a \" + aProps.className;\r\n    // aProps['data-href'] = aProps.href;\r\n    // delete aProps.href;\r\n    return (\r\n        <a {...props.props}\r\n            onClick={handleClick}\r\n        >{props.children}</a>\r\n    );\r\n}\r\n\r\nfunction Modal(props) {\r\n\r\n    const link = {\r\n        hash: false,\r\n        url: \"\",\r\n    }\r\n\r\n    const externalLink = null;\r\n\r\n    return (\r\n        <div\r\n            className={'wrp-link-dialog-box '.concat(props.a.show ? 'link-dialog-show' : '')}\r\n            data-wrp-action-block=\"intercept\"\r\n        >\r\n            <div>\r\n                {(/^#.+/.test(props.a.href)) ?\r\n                    <a href={props.a.href}>\r\n                        <div className=\"wrp-nav-item wrp-ld-button\">\r\n                            <svg className=\"wrp-nav-item-icon \" viewBox=\"0 0 1024 1024\" version=\"1.1\" fill=\"var(--c-dark)\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"4385\"><defs><style type=\"text/css\"></style></defs><path d=\"M250.016 416.992l319.008 43.008 40 310.016 236-591.008zM120.992 464q-11.008-0.992-18.496-8.512t-8.992-19.008 4-20.512 15.488-12.992l778.016-311.008q8.992-4 18.016-2.016t16 8.992 8.992 16-2.016 18.016l-310.016 776q-4 10.016-13.504 15.488t-20.512 4-18.496-8.992-8.512-18.496l-48.992-384z\" p-id=\"4386\"></path></svg>\r\n                            <div className=\"wrp-nav-item-title\" >转跳至此处</div>\r\n                        </div>\r\n                    </a>\r\n                    :\r\n                    <Link\r\n                        className=\"wrp-nav-item wrp-ld-button\"\r\n                        to={`/wrp-read?url=${encodeURIComponent(props.a.href)}`}\r\n                    >\r\n                        <svg className=\"wrp-nav-item-icon \" viewBox=\"0 0 1024 1024\" version=\"1.1\" fill=\"var(--c-dark)\"><path d=\"M863 942H500.3L309.7 822.6c-33.8-21.2-54.9-60.7-54.9-103V162.5c0-30.4 14.5-57.6 38.7-72.9 24.4-15.4 53.6-15.4 78-0.1L507 174.3h356c52.9 0 96 46.9 96 104.6v558.4c0 57.8-43.1 104.7-96 104.7z m-345.6-69.8H863c17.6 0 32-15.6 32-34.9V278.9c0-19.2-14.4-34.9-32-34.9H489.9l-150.3-94.1c-6.4-4-12-1.3-14.1 0-2.5 1.6-6.7 5.3-6.7 12.6v557.1c0 17.5 8.7 33.8 22.8 42.5l175.8 110.1z\" fill=\"#595959\" p-id=\"4277\"></path><path d=\"M508.8 942H161c-52.9 0-96-46.9-96-104.6V278.9c0-57.7 43.1-104.6 96-104.6h125.8v69.8H161c-17.6 0-32 15.6-32 34.9v558.4c0 19.2 14.4 34.9 32 34.9h347.8V942zM497.5 174.3h1v69.8h-1z\" p-id=\"4278\"></path><path d=\"M480 209.2h64v697.2h-64z\" p-id=\"4279\"></path></svg>\r\n                        <div className=\"wrp-nav-item-title\">阅读新页面</div>\r\n                    </Link>\r\n                }\r\n            </div>\r\n            <a href={externalLink} target=\"_blank\" href={props.a.href}>\r\n                <div className=\"wrp-nav-item wrp-ld-button\">\r\n                    <svg className=\"wrp-nav-item-icon \" version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 200 200\" ><path fill=\"var(--c-dark)\" d=\"M168.8,123.3c0-3.2,2.8-5.8,6.3-5.8s6.3,2.6,6.3,5.8V164c0,6.4-5.6,11.6-12.5,11.6H31.2\tc-6.9,0-12.5-5.2-12.5-11.6V36c0-6.4,5.6-11.6,12.5-11.6H75c3.5,0,6.3,2.6,6.3,5.8s-2.8,5.8-6.3,5.8H37.5c-3.4,0-6.2,2.6-6.3,5.8\tc0,0,0,0,0,0.1v116.2c0,3.2,2.8,5.8,6.2,5.8c0,0,0,0,0.1,0h125c3.4,0,6.2-2.6,6.3-5.8c0,0,0,0,0-0.1V123.3z M74,132.8\tc-2.4,2.3-6.4,2.3-8.8,0c0,0,0,0,0,0c-2.4-2.2-2.5-5.9-0.1-8.2c0,0,0,0,0,0l94-87.4l-34.4,0.1c-3.4,0-6.1-2.5-6.2-5.7\tc0,0,0-0.1,0-0.1c0-3.2,2.8-5.8,6.2-5.8l49.8-0.2c3.4,0,6.1,2.5,6.2,5.7c0,0,0,0.1,0,0.1l-0.2,46.4c-0.1,3.2-2.8,5.8-6.3,5.8\tc-3.4,0-6.2-2.5-6.2-5.6c0,0,0-0.1,0-0.1l0.1-32.6L74,132.8z\" /></svg>\r\n                    <div className=\"wrp-nav-item-title\">新窗口打开</div>\r\n                </div>\r\n            </a>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    a: state.a,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    setShow: isShow => {\r\n        dispatch(aActions.setShow(isShow))\r\n    },\r\n    setHref: href => {\r\n        dispatch(aActions.setHref(href))\r\n    }\r\n})\r\n\r\nexport default connect(null, mapDispatchToProps)(A);\r\n\r\nexport const AModal = connect(mapStateToProps, null)(Modal)\r\n\r\n// extension 中a不可以用“/wrp-read?url=...”方式打开新页面\r\n// 怎么兼容 extension 比较好呢 ?\r\n\r\n// 另外如何区分 extension 和 网页的环境呢，是运行时区分，还是build时区分\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\nimport Word from \"../components/word\";\nimport A from \"../components/a\";\nimport { get } from \"lodash\";\n\nconst config = {\n  splitWord: false,\n  splitSentence: false,\n  runScript: true,\n  keepIntegrityAttribute: false,\n};\n\nconst extractScope = {\n  front: 1,\n  behind: 1,\n  /**\n   * fn, bn为断句过程中的变量,\n   * 当fn == front, bn == behind时, 断句即结束\n   * 每次断句结束后, 需要重置fn, bn\n   */\n  fn: 0,\n  bn: 0,\n};\n\n\nfunction isInline(target) {\n  // console.log('isInline: ', target, typeof target, target.nodeName)\n  if (!target) return false;\n  if (target.nodeName === \"#text\") return true;\n\n  let display = window.getComputedStyle(target).getPropertyValue(\"display\");\n  if (display.search(\"inline\") !== -1) return true;\n\n  return false;\n}\n\n/**\n * @param {String} text \n */\nfunction getBreakPoints(text) {\n  let length = text.length;\n  let breakPoints = [];\n  let points = text.search(/[.?!。？！]/);\n  while (points !== -1) {\n    // console.log('=', points)\n    breakPoints.push(length - text.length + points)\n    text = text.slice(points + 1)\n    points = text.search(/[.?!。？！]/);\n  }\n\n  // console.log('breakPoints', breakPoints)\n  return breakPoints;\n}\n\n/**\n * 用于查找 #text 和 Element 混合节点的分句位置\n * 返回所有可能存在分句点的#text对象 和 分句点的相对位置\n * return [{target:#text, points:[]}]\n * @param {Node} target \n */\nfunction getTargetAndBreakPoint(target) {\n  target = target.firstChild;\n  let result = []\n  while (target !== null) {\n    console.log('--')\n    if (target.nodeName !== '#text') {\n      target = target.nextSibling;\n      continue;\n    }\n\n    let text = target.textContent\n    let length = text.length\n    let point = text.search(/[.?!。？！]/)\n\n    let p = {\n      points: []\n    }\n\n    while (point !== -1) {\n      p.points.push(length - text.length + point);\n      text = text.slice(point + 1)\n      point = text.search(/[.?!。？！]/)\n    }\n\n    if (p.points.length > 0) {\n      p.target = target\n      result.push(p)\n    }\n\n    target = target.nextSibling;\n  }\n  return result;\n}\n\nfunction comparePosition(target, breakPoints, x, y) {\n  if (breakPoints.length <= 0) return 0;\n  let middle = Math.round(breakPoints.length / 2) - 1;\n  // console.log('comparePosition', target, breakPoints, x, y, middle)\n  if (breakPoints[0] >= target.textContent.length) return false;\n\n  window.getSelection().removeAllRanges()\n  let range = new Range(target)\n  range.setStart(target, breakPoints[middle]);\n  range.setEnd(target, breakPoints[middle] + 1);\n  window.getSelection().addRange(range);\n  let domRect = range.getClientRects()[0]\n  // console.log('domRect', domRect)\n  // Previous\n  if (y < domRect.y || (y < domRect.y + domRect.height && x < domRect.x)) {\n    if (breakPoints.slice(0, middle) < 1) return breakPoints[0];\n    return comparePosition(target, breakPoints.slice(0, middle), x, y)\n  }\n\n  // following\n  if (y > domRect.y + domRect.height || (x > domRect.x && y > domRect.y)) {\n    if (breakPoints.slice(middle + 1) < 1)\n      return breakPoints.slice(middle, middle + 1)[0] + 1;\n    return comparePosition(target, breakPoints.slice(middle + 1), x, y)\n  }\n}\n\nexport function calcOffset(target, x, y) {\n\n  if (target.children.length === 0) {\n    let breakPoints = getBreakPoints(target.textContent);\n    target = target.firstChild;\n    return [target, comparePosition(target, breakPoints, x, y)]\n  }\n\n  // #text 和 Element 混合节点\n  let breakPoints = getTargetAndBreakPoint(target);\n  if (breakPoints.length === 0) return [target.firstChild, 0];\n  let p\n  let obj\n  for (obj of breakPoints) {\n    p = comparePosition(obj.target, obj.points, x, y)\n    if (p <= obj.points[obj.points.length - 1]) {\n      return [obj.target, p];\n    }\n  }\n\n  return [obj.target, p]\n}\n\n// 从html中提取部分文字区域， 例如：单词，句子\n/**\n * @param {Node} target\n * @param {Number} offset\n * @param {Enumera} type\n */\nexport function extractPart(target, offset, type = \"word\") {\n  debugger;\n  if (!target) return [\"\", \"\"];\n  // console.log('translate test',target);\n  let frontPattern;\n  let behindPattern;\n  if (type === \"word\") {\n    frontPattern = /^[\\s\\S]*\\W(\\w*?)$/;\n    behindPattern = /^(\\w*?)\\W[\\s\\S]*$/;\n  }\n\n  if (type === \"sentence\") {\n    frontPattern = /^[\\s\\S]*(?:(?:[.!?](?!\\w))|[。！？\\v\\t])([\\s\\S]*?)$/;\n    behindPattern = /^([\\s\\S]*?([.!?](?!\\w))|[。！？\\v\\t])[\\s\\S]*$/;\n  }\n\n  let frontTarget = target;\n  if (offset == null) {\n    frontTarget = target.previousSibling;\n    if (!isInline(target)) {\n      frontTarget = null;\n    }\n  }\n  // console.log(\"frontPattern\", frontPattern, behindPattern);\n  // console.log('a',frontTarget,offset)\n  let front = frontFind(frontTarget, offset, true, frontPattern);\n  // console.log('go -1 front',front,'go -2');\n  let behind = behindFind(target, offset, true, behindPattern);\n  // console.log('go -2 behind',behind,'go -end');\n\n  extractScope.fn = 0;\n  extractScope.bn = 0;\n\n  return [front, behind];\n}\n\n// 寻找分割的断点位置\nexport function findSubPart(text, orientation, pattern, target) {\n  /**front 单词模板 pattern /^[\\s\\S]*\\W(\\w*?)$/\n   * behind 单词模板 pattern /^(\\w*?)\\W[\\s\\S]*$/\n   */\n  let subPart;\n  subPart = text.match(pattern);\n  if (subPart === null) {\n    return text;\n  }\n\n  if (orientation === 'front') {\n    let index = target.textContent.indexOf(text) + text.lastIndexOf('.');\n    if (!sentenceEndingJudge(target, index)) {\n      return text;\n    }\n    extractScope.fn += 1;\n    return subPart[1];\n  }\n\n  if (orientation === 'behind') {\n    let index = target.textContent.indexOf(text) + text.indexOf('.');\n    if (!sentenceEndingJudge(target, index)) {\n      return text;\n    }\n    extractScope.bn += 1;\n    return subPart[1];\n  }\n\n\n  if (orientation === \"front\") {\n    // let pattern = /^[\\s\\S]*\\W(\\w*?)$/;\n    subPart = text.match(pattern);\n    console.log('match', subPart);\n    if (subPart != null) {\n      let index = target.textContent.indexOf(text) + text.lastIndexOf('.')\n      if (!sentenceEndingJudge(target, index)) {\n        return text;\n      }\n      extractScope.fn += 1;\n      subPart = subPart[1];\n    } else {\n      subPart = text;\n    }\n  }\n\n  if (orientation === \"behind\") {\n    // behind\n    // let pattern = /^(\\w*?)\\W[\\s\\S]*$/;\n    subPart = text.match(pattern);\n    console.log('match', subPart, pattern);\n\n    if (subPart != null) {\n      extractScope.bn += 1;\n      subPart = subPart[1];\n    } else {\n      subPart = text;\n    }\n  }\n  // console.log('subPart', subPart)\n  // const end = /[.。!！?？]/\n  return subPart;\n}\n\nexport function frontFind(\n  target, offset,\n  testParent = true,\n  pattern\n) {\n  // 向前遍历节点 直到找到“起点”\n  let result = {\n    texts: [],\n    elements: [],\n    startTarget: null,\n    startOffset: 0,\n    break: false,\n  };\n\n  if (!target) return result;\n\n  while (target) {\n    // console.log(\"front, while\", target,result.texts);\n    if (target.nodeName == \"#text\") {\n      let text;\n      if (typeof offset === 'number') {\n        text = target.textContent.slice(0, offset);\n      } else {\n        text = target.textContent;\n      }\n\n      // console.log('front text', text, target)\n      let subPart = findSubPart(text, \"front\", pattern, target);\n      // console.log('subPart', subPart)\n      if (extractScope.front <= extractScope.fn) {\n        result.texts.unshift(subPart);\n        result.elements.unshift(subPart);\n        result.startTarget = target;\n        result.startOffset = text.lastIndexOf(subPart);\n        // console.log('break')\n        result.break = true;\n        break;\n      } else {\n        subPart = text;\n        result.texts.unshift(subPart);\n        result.elements.unshift(subPart);\n        result.startTarget = target;\n        result.startOffset = 0;\n      }\n    } else if (isInline(target)) {\n        // 需要遍历子节点\n        let children = frontFind(target.lastChild, null, false, pattern);\n        result.texts.unshift(...children.texts);\n        result.elements.unshift(copy(target, children.elements));\n        result.startTarget = children.startTarget;\n        result.startOffset = children.startOffset;\n        result.break = children.break;\n        if (children.break) break;\n    } else {\n      result.startTarget = target;\n      result.startOffset = target.textContent.length;\n      break;\n    }\n\n    // 偶尔因target.parentName undefined 出错;\n    if (target.previousSibling) {\n      if (!isInline(target.previousSibling)) {\n        extractScope.fn += 1;\n      }\n      target = target.previousSibling;\n    } else if (testParent) {\n      if (\n        !isInline(target.parentNode) ||\n        !isInline(target.parentNode.previousSibling)\n      ) {\n        extractScope.fn += 1;\n      }\n      target = target.parentNode.previousSibling;\n    } else {\n      break;\n    }\n    if (extractScope.front <= extractScope.fn) break;\n    offset = null;\n  }\n  return result;\n}\n\nexport function behindFind(\n  target,\n  offset,\n  testParent = true,\n  pattern\n) {\n  // 向后遍历节点  直到找到“终点” (词尾，句尾)\n  let result = {\n    texts: [],\n    elements: [],\n    endTarget: null,\n    endOffset: 0,\n    break: false,\n  };\n  if (!target) return result;\n  if (!offset) offset = 0;\n  while (target) {\n    // console.log(\"next, while\", target);\n    if (target.nodeName == \"#text\") {\n      let text = target.textContent.slice(offset);\n      // console.log(\"behind text\", text, target, offset, target.textContent);\n\n      let subPart = findSubPart(text, \"behind\", pattern, target);\n      if (extractScope.behind <= extractScope.bn) {\n        result.texts.push(subPart);\n        result.elements.push(subPart);\n        result.endTarget = target;\n        result.endOffset = offset + subPart.length;\n        result.break = true;\n        // console.log(\"break\");\n        break;\n      } else {\n        subPart = text;\n        result.texts.push(subPart);\n        result.elements.push(subPart);\n        result.endTarget = target;\n        result.endOffset = target.textContent.length;\n      }\n    } else if (isInline(target)) {\n        // 需要遍历子节点\n        let children = behindFind(target.firstChild, null, false, pattern);\n        result.texts.push(...children.texts);\n        result.elements.push(copy(target, children.elements));\n        result.endTarget = children.endTarget;\n        result.endOffset = children.endOffset;\n        result.break = children.break;\n        if (children.break) break;\n    } else {\n      result.endTarget = target;\n      result.endOffset = 0;\n      break;\n    }\n\n    if (target.nextSibling) {\n      if (!isInline(target.nextSibling)) {\n        extractScope.bn += 1;\n      }\n      target = target.nextSibling;\n      // offset = 0;\n    } else if (testParent) {\n      if (\n        !isInline(target.parentNode) ||\n        !isInline(target.parentNode.nextSibling)\n      ) {\n        extractScope.bn += 1;\n      }\n      target = target.parentNode.nextSibling;\n      // offset = 0;\n    } else {\n      break;\n    }\n\n    if (extractScope.behind <= extractScope.bn) break;\n    offset = 0;\n  }\n  return result;\n}\n/**\n * \n * @param {Object {target:#text, offset: 0}} start \n * @param {Object {target:#text, offset: 2}} end \n */\nexport function selectedText(start, end) {\n  window.getSelection().removeAllRanges();\n  let range = new Range();\n  range.setStart(start.target, start.offset);\n  range.setEnd(end.target, end.offset);\n  window.getSelection().addRange(range);\n}\n\n// 🦉 英文人名缩写如何判断？\n/**\n * 判断一段含“.”的文字，是否为一个句子的结尾。\n */\nexport function sentenceEndingJudge(target, index) {\n  let text = target.textContent.slice(Math.max(0, index - 5), index + 5);\n  if (index <= 1) {\n\n  }\n  if (index >= target.length - 1) {\n\n  }\n  const negateList = [\n    /\\d{1,4}\\.\\s?\\d{1,4}/,\n    /[\\s^]Inc\\.\\s[a-z]/,\n    /[\\s^]([A-Z]\\. ?){1,3}/,\n  ];\n  return !negateList.some(re => re.test(text))\n}\n\nexport function deepCopy(node, returnChilren = false) {\n  if (node.nodeName == \"#text\") return node.textContent;\n\n  let children = node.firstChild;\n  let childrenList = [];\n  while (children) {\n    childrenList = childrenList.concat(deepCopy(children));\n    children = children.nextSibling;\n  }\n\n  if (returnChilren) {\n    return childrenList;\n  } else {\n    let type = node.nodeName.toLowerCase();\n    const ignoreTag = [\"#comment\"];\n\n    if (ignoreTag.includes(type)) {\n      return \"\";\n    }\n\n    let props = attToProps(node);\n    const noChildren = [\"img\", \"hr\", \"br\", \"input\", \"link\", \"wbr\"];\n\n    if (noChildren.includes(type)) {\n      let element = React.createElement(type, props);\n      return element;\n    }\n\n    let element = React.createElement(type, props, childrenList);\n    return element;\n  }\n}\n\nexport function copyWord(word) {\n  // copy Word, 由Word渲染后的span便签copy Word\n  // word可能含有子标签，需要遍历复制\n  let childrenList = deepCopy(word, true);\n  return (\n    <Word\n      content={childrenList}\n      handleClick={(e, w) => {\n        this.props.clickWord(e, w);\n      }}\n      translate={() => { }}\n    />\n  );\n}\n\nexport function copy(content, children) {\n  // Element、Children 为React Element\n  let type = content.nodeName.toLowerCase();\n  let props = attToProps(content);\n  let element = React.createElement(type, props, ...children);\n  return element;\n}\n\nexport function extractBothEnds(node) {\n  // console.log('extractBothEnds');\n  let alterNode = true;\n  let frontCross = extractFront(node, alterNode)[0];\n  let [behindCross, behindOther] = extractBehind(node);\n  // console.log('behindCross',behindCross,'behindOther',behindOther,'frontCross', frontCross);\n  return [behindCross, behindOther, frontCross];\n}\n\nexport function wordSplit(text) {\n  /**just #text ; 仅文本,不含其他标签 */\n  if (!text) return [];\n  let re = /\\b/;\n  let wordpattern = /\\w+/;\n  let List = [];\n  let splitList = text.split(re);\n  for (let w of splitList) {\n    if (wordpattern.test(w)) {\n      List.push(getWord(w));\n    } else {\n      List.push(w);\n    }\n  }\n\n  return List;\n}\n\nexport function extractBehind(node) {\n  // 提取单词后半部分, 在标签首部，\n  let getCross = false;\n\n  if (node.nodeName == \"#text\") {\n    // 文本 | 直接分割 返回\n\n    let text = node.textContent;\n    let cross, other;\n\n    let splitList = text.split(/(^\\w*)(.+$)/);\n    // splitList = ['','Hello',' World!','']\n    cross = splitList[1] ? splitList[1] : \"\";\n    other = splitList[2] ? splitList[2] : \"\";\n    if (/[\\W]/.test(other[0])) getCross = true;\n\n    let otherWord = wordSplit(other);\n    console.log(\"return, cross, otherWord\", cross, other);\n    return [cross, otherWord];\n  } else {\n    // 标签 | 遍历 分割 返回\n    let c = node.firstChild;\n    let crossChildren = [];\n    let otherChildren = [];\n\n    while (c) {\n      if (getCross) {\n        // 已提取交叉情况，并移出xmlDoc\n        console.log(\"app-262-traversal\");\n        otherChildren.push(htmlTraversal(c));\n      } else {\n        // 继续迭代\n        let [cross, other] = extractBehind(c);\n        crossChildren.push(cross);\n        otherChildren.push(other);\n      }\n      c = c.nextSibling; // previousSibling\n    }\n    let type = node.nodeName.toLowerCase(); //.replace('body','div')\n    let props = attToProps(node);\n    let crossElement = createElement(type, props, crossChildren);\n\n    let otherElement = createElement(type, props, otherChildren);\n    // console.log('return, crossElement, otherElement', ReactDOMServer.renderToString(crossElement),\" | \",ReactDOMServer.renderToString(otherElement))\n    return [crossElement, otherElement];\n  }\n}\n\nexport function extractFront(node, alterNode) {\n  // 提取单词前半部分, 在标签尾部，\n  let getCross = false;\n\n  if (node.nodeName == \"#text\") {\n    // 文本 | 直接分割 返回\n\n    let text = node.textContent;\n    let cross, other;\n\n    let splitList = text.split(/(\\w*$)/);\n    // splitList = [Hello ','World']\n    other = splitList[0] ? splitList[0] : \"\";\n    cross = splitList[1] ? splitList[1] : \"\";\n    if (/[\\W]/.test(other[other.length - 1])) getCross = true;\n\n    if (alterNode) {\n      //alterNode ==\n      // 将交叉部分移出xmlDoc\n      // let newNode = doc.createTextNode(other)\n      // node.parentNode.replaceChild(newNode, node)\n    }\n\n    let otherWord = wordSplit(other);\n    // console.log('return, cross, otherWord', ReactDOMServer.renderToString(cross),ReactDOMServer.renderToString(otherWord))\n    return [cross, otherWord];\n  } else {\n    // 标签 | 遍历 分割 返回\n    let c = node.lastChild;\n    let crossChildren = [];\n    let otherChildren = [];\n\n    while (c) {\n      if (getCross) {\n        // 已提取交叉情况，并移出xmlDoc\n        console.log(\"app-196-traversal\");\n        otherChildren.push(htmlTraversal(c));\n      } else {\n        // 继续迭代\n        let [cross, other] = extractFront(c, alterNode);\n        crossChildren.push(cross);\n        otherChildren.push(other);\n      }\n      c = c.previousSibling; // previousSibling\n    }\n    let type = node.nodeName.toLowerCase(); //.replace('body','div')\n    let props = attToProps(node);\n    let crossElement = createElement(type, props, crossChildren);\n\n    let otherElement = createElement(type, props, otherChildren);\n    // console.log('return, crossElement, otherElement', ReactDOMServer.renderToString(crossElement),ReactDOMServer.renderToString(otherElement))\n    return [crossElement, otherElement];\n  }\n}\n\nexport function extractHead(head) {\n  /** 提取head中的有用部分，复制，返回列表 */\n  let list = [];\n  if (!head) return list;\n  let base = false;\n  for (let i = 0; i < head.childNodes.length; i++) {\n    let node = head.childNodes[i];\n    let type = node.nodeName;\n    // console.log('nodeName', node, node.nodeName)\n    // console.log('node src ->', node.href)\n\n    if (type === \"BASE\") {\n      base = true;\n    }\n\n    // 相对链接转换为绝对\n    if (node.href) node.href = node.href;\n    if (node.src) node.src = node.src;\n\n    switch (type) {\n      case \"LINK\":\n        // 黑名单\n        if (\n          [/manifest/, /icon/].findIndex((value) => value.test(node.rel)) != -1\n        )\n          break;\n\n        //白名单\n        // if(![/stylesheet/,/preload/].findIndex((value)=>value.test(node.rel))) break;\n\n        list.push(createElement(type, attToProps(node), node.innerText));\n        break;\n      case \"STYLE\":\n        // list.push(this.createElement(type, this.attToProps(node), node.innerText));\n        list.push(<style>{node.innerText}</style>);\n        break;\n\n      case \"SCRIPT\":\n        // list.push(<script >{node.innerText}</script>);\n        list.push(createElement(\"script\", attToProps(node), node.innerText));\n        break;\n\n      case \"TITLE\":\n      // 忽略\n      case \"#text\":\n      // case \"SCRIPT\":\n      default:\n        break;\n    }\n  }\n\n  // if(!base)list.push(this.createBaseTag());\n  return list;\n}\n\n//提取网页内容摘要\nexport function extractAbstract(node) {\n  if (!node) return;\n  let abstract = {};\n  // icon\n  let links = node.head.getElementsByTagName(\"link\");\n  for (let i = 0; i < links.length; i++) {\n    let link = links[i];\n    if (!link.rel) continue;\n    if (link.rel.indexOf(\"icon\") > 0) {\n      abstract.icon = link.href;\n      break;\n    }\n  }\n  // title\n  let title = \"\";\n  let docTitle = node.head.getElementsByTagName(\"title\");\n  if (docTitle.length > 0) {\n    title = docTitle[0].textContent;\n  } else {\n    let docH1 = node.body.getElementsByTagName(\"h1\");\n    if (docH1.length > 0) {\n      title = docH1[0].textContent;\n    } else {\n    }\n  }\n  abstract.title = title;\n\n  // description\n  let pTags = node.getElementsByTagName(\"p\");\n  let description = \"\";\n  for (let i = 0; i < pTags.length; i++) {\n    description = description + pTags[i].textContent.trim().slice(0, 200);\n    if (description.length >= 200) break;\n  }\n\n  let spanTags = node.getElementsByTagName(\"span\");\n  for (let i = 0; i < spanTags.length; i++) {\n    description = description + spanTags[i].textContent.trim().slice(0, 200);\n    if (description.length >= 200) break;\n  }\n\n  if (!description) description = node.body.textContent.trim().slice(0, 200);\n  abstract.des = description;\n\n  // console.log('摘要 描述',pTags, description);\n\n  // abstract.url = this.props.app.url;\n  // abstract.key = this.props.app.key;\n\n  return abstract;\n}\n\nexport function createElement(type, props, children) {\n  type = type.toLowerCase();\n  let element;\n\n  switch (type) {\n    case \"div\":\n    case \"span\":\n    case \"p\":\n      element = React.createElement(type, props, children);\n      return element;\n    case \"a\":\n      // props[\"data-src\"] = props.href;\n      // delete props.href;\n      // element = (\n      //   <A\n      //     props={props}\n      //   // clickLink={(link,status)=>this.clickLink(link, status)}\n      //   // clickWord={(e)=>this.handleClickWord(e)}\n      //   >\n      //     {children}\n      //   </A>\n      // );\n      element = React.createElement(type, props, children);\n      return element;\n    // 以下为 empty elements (no children) 的标签\n    case \"input\":\n      // 存在value属性导致无法输入\n      delete props.value;\n    case \"img\":\n    case \"hr\":\n    case \"br\":\n    case \"link\":\n    case \"wbr\":\n    case \"area\":\n    case \"base\":\n    case \"embed\":\n    case \"keygen\":\n    case \"meta\":\n    case \"param\":\n    case \"source\":\n    case \"track\":\n      element = React.createElement(type, props);\n      return element;\n    // 以下为忽略的标签\n    case \"#comment\":\n    case \"#document\":\n      break;\n    case \"script\":\n      // return '';\n      if (!config.runScript) return \"\";\n      // if (props.src) props[\"data-href\"] = props.src;\n      // delete props.src;\n      props['data-wrp-content-script'] = true;\n      element = React.createElement(type, props, children);\n      return element;\n    // 特殊处理\n    case \"svg\":\n      element = React.createElement(type, props, children);\n      // element.dangerouslySetInnerHTML()\n      return element;\n    case \"body\":\n      element = React.createElement(\"body\", props, children);\n      return element;\n    case \"col\":\n      return <col {...props}></col>;\n    case \"textarea\":\n      if (children.length > 1)\n        console.warn(\n          \"React.reactElememt() Error! <textarea> tag only requests one children.\"\n        );\n      // element = React.createElement('div',props, children[0]);\n      element = React.createElement(\"textarea\", props, children[0]);\n      return element;\n    default:\n      try {\n        if (type.match(/^\\w*$/)) {\n          element = React.createElement(type, props, children);\n          return element;\n        }\n      } catch (e) {\n        console.log('React.createElement() Error on create \"', type, '\" tag!');\n      }\n  }\n}\n\nexport function styleConvert(style) {\n  // style = element.style;\n  let styleObj = {};\n  for (let i = 0; i < style.length; i++) {\n    let styleKey = style[i].replace(/-([a-z])/g, (m, g) => g.toUpperCase());\n    styleObj[styleKey] = style[style[i]];\n  }\n  // console.log(\"App.js: styleConvert() style:\", style, \"obj:\", styleObj);\n  return styleObj;\n}\n\nexport function attToProps(node) {\n  if (!node) return {};\n  if (!node.attributes) return {};\n  let props = {};\n  for (let i = 0; i < node.attributes.length; i++) {\n    let att = node.attributes[i];\n    let attName = att.name;\n    let attValue = att.value;\n\n    // 转换\n    switch (attName) {\n      case \"style\":\n        attValue = styleConvert(node.style);\n        break;\n      case \"src\":\n      case \"href\":\n        // 大多默认为相对路径，需补全链接\n        attValue = node[attName];\n        break;\n      case \"srcset\":\n        // Todo scrset 相对路径补全\n        // 如何补全相对路径呢？这是一个问题，还有在css中的background-image:url()...\n        attName = \"srcSet\";\n        attValue = \"\";\n        break;\n      case \"class\":\n        attName = \"className\";\n        break;\n      case \"for\":\n        attName = \"htmlFor\";\n        break;\n      case \"tabindex\":\n        attName = \"tabIndex\";\n        break;\n      case \"itemprop\":\n        attName = \"itemProp\";\n        break;\n      case \"itemscope\":\n        attName = \"itemScope\";\n        break;\n      case \"itemtype\":\n        attName = \"itemType\";\n        break;\n      case \"nomodule\":\n        attName = 'noModule'\n        break;\n      case \"autocapitalize\":\n        attName = \"autoCapitalize\";\n        break;\n      case \"acceptcharset\":\n        attName = \"acceptCharset\";\n        break;\n      case \"autocomplete\":\n        attName = \"autoComplete\";\n        break;\n      case \"crossorigin\":\n        attName = \"crossOrigin\";\n        break;\n      case \"autocorrect\":\n        attName = \"autoCorrect\";\n        break;\n      case \"onkeypress\":\n        attName = \"onKeyPress\";\n        break;\n      case \"onclick\":\n        // React onClick 接受一个函数，html中的值只是文本，怎么办？\n        attName = \"onClick\";\n        attValue = new Function(attValue);\n        break;\n      case \"spellcheck\":\n        attName = \"spellCheck\";\n        break;\n      case \"playsinline\":\n        attName = \"playsInline\";\n        break;\n      case \"colspan\":\n        attName = \"colSpan\";\n        break;\n      case \"xml:space\":\n      case \"fill-rule\":\n      case \"clip-rule\":\n      case \"stroke-linecap\":\n      case \"stroke-miterlimit\":\n      case \"stroke-width\":\n      case \"stroke-linejoin\":\n      case \"xmlns:xlink\":\n      case \"enable-background\":\n      case \"accept-charset\":\n        attName = attName.replace(/\\W([a-z])/g, (m, g) => g.toUpperCase());\n        break;\n    }\n    // attName = attName.replace(/\\W([a-z])/g,(m,g)=>g.toUpperCase());\n    props[attName] = attValue;\n    if (!config.keepIntegrityAttribute) delete props.integrity;\n\n  }\n  return props;\n}\n\nexport function frontHaveWordEnd(node) {\n  /**判断前半部分(node)的末尾是否是单词的末尾， 即判断前半部分(node)的末尾是否有单词分割符（空格等） */\n  let children = node;\n  let deep = 0;\n  while (children) {\n    let child = children; // 备份\n    if (!this.isInline(children)) return false;\n    if (children.nodeName == \"#text\") {\n      let text = children.textContent;\n      if (/[a-zA-Z0-9_-]/.test(text[text.length - 1])) return true;\n      return false;\n    }\n\n    if (!children.lastChild) {\n      children = children.previousSibling;\n      // deep = deep\n    } else {\n      children = children.lastChild;\n      deep = deep + 1;\n    }\n\n    // 继续向上就不必了吧, 算了， 先写上\n    if (!children && deep > 0) {\n      children = child.parentNode.previousSibling;\n      deep = deep - 1;\n    }\n  }\n}\n\nexport function behindHaveWordEnd(node) {\n  /**判断后半部分（node）的开端是否是单词的开端， 即判断后半部分(node)的开端是否有单词分割符（空格等） */\n  let children = node;\n  let deep = 0;\n  while (children) {\n    let child = children;\n    if (!isInline(children)) return false;\n    if (children.nodeName == \"#text\") {\n      let text = children.textContent;\n      if (/[a-zA-Z0-9_-]/.test(text[0])) return true;\n      return false;\n    }\n\n    if (!children.firstChild) {\n      children = children.nextSibling;\n      // deep = deep\n    } else {\n      children = children.firstChild;\n      deep = deep + 1;\n    }\n\n    // 继续向上就不必了吧, 算了， 先写上\n    if (!children && deep > 0) {\n      children = child.parentNode.nextSibling;\n      deep = deep - 1;\n    }\n  }\n}\n\nexport function haveCrossWord(node) {\n  // 判断相邻两个节点之间是否含有交叉情况\n  let nextNode = node.nextSibling;\n  if (!node || !nextNode) return false;\n  if (!isInline(node) || !isInline(nextNode)) return false;\n  if (frontHaveWordEnd(node) && behindHaveWordEnd(nextNode)) return true;\n  return false;\n}\n\nexport function getWord(content) {\n  return <Word content={content} />;\n}\n\n// sentence id\nlet sId = 0;\nexport function sentenceSplit(text, parentNode = null) {\n  /**just #text ; 仅文本,不含其他标签 */\n  if (!text) return [];\n  let pattern = /([\\s\\S]*?(?:(?:[.!?](?!\\w))|[。！？\\n\\v\\t])+)/;\n  let splitList = text.split(pattern);\n  let list = [];\n  let onlyOneChild = parentNode.childNodes.length === 1;\n  if (splitList.length === 1 && onlyOneChild) {\n    return splitList;\n  }\n\n  splitList.map((s) => {\n    if (/^\\s*$/.test(s)) {\n      // 空字符\n      list.push(s);\n    } else {\n      list.push(<span key={\"s\" + sId}>{s}</span>);\n      sId = sId + 1;\n    }\n  });\n\n  return list;\n}\n\nexport function htmlTraversal(node) {\n  if (!node) return [];\n  // console.log('htmlTraversal',node,node.nodeName)\n  // let ignoreTag = [\"script\",'meta','link','#comment','#document','iframe'];\n  // let mostCommon = [\"DIV\",\"P\",\"SPAN\"]\n  let type, props, element;\n  switch (node.nodeName) {\n    case \"#text\":\n      if (config.splitWord) {\n        return wordSplit(node.textContent);\n      } else if (config.splitSentence) {\n        return sentenceSplit(node.textContent, node.parentNode);\n      } else {\n        return node.textContent;\n      }\n    case \"#comment\":\n    case \"#document\":\n    case \"IFRAME\":\n      // 忽略\n      return [];\n    case \"STYLE\":\n      // console.log('style tag->',node, node.innerText, node.scoped);\n      type = node.nodeName.toLowerCase();\n\n      props = attToProps(node);\n      element = createElement(type, props, node.innerText);\n      return element;\n    case \"SCRIPT\":\n      type = node.nodeName.toLowerCase();\n\n      props = attToProps(node);\n      element = createElement(type, props, node.innerText);\n      return element;\n    case \"DIV\":\n    case \"P\":\n    case \"SPAN\":\n    case \"A\":\n    default:\n      let childrenList = [];\n      let frontCross, frontOther;\n      let haveCross = false;\n      if (config.splitWord) {\n        for (let i = 0; i < node.childNodes.length; i++) {\n          let children = node.childNodes[i];\n          let haveCross2 = haveCrossWord(children, children.nextSibling);\n\n          // console.log('Cross Cross2', children, children.nextSibling, haveCross, haveCross2);\n          if (!haveCross && !haveCross2) {\n            // console.log('app-362-traversal',children, children.length);\n            childrenList = childrenList.concat(htmlTraversal(children));\n            children = children.nextSibling;\n          } else if (haveCross && haveCross2) {\n            // i all  前后都存在交叉情况\n            let [behindCross, middle, newFrontCross] = extractBothEnds(\n              children\n            );\n            console.log(\"middle\", middle);\n            if (middle.props.children.length == 0) {\n              frontCross = [frontCross].concat(newFrontCross);\n            } else if (middle.props.children[0].length < 1) {\n              // 三交叉 behindCross is ''\n              // console.log('三交叉');\n              frontCross = [frontCross].concat(newFrontCross);\n            } else if (middle.props.children[0].length >= 1) {\n              let word = getWord([frontCross, behindCross]);\n              childrenList = childrenList.concat(word).concat(middle);\n              frontCross = newFrontCross;\n              // frontCross = []\n            }\n          } else if (haveCross2) {\n            // i - 1 front 暂存\n            [frontCross, frontOther] = extractFront(children);\n            childrenList = childrenList.concat(frontOther);\n          } else if (haveCross) {\n            // i behind\n            let [behindCross, behindOther] = extractBehind(children);\n            let word = getWord([frontCross, behindCross]);\n            childrenList = childrenList.concat(word).concat(behindOther);\n          }\n          haveCross = haveCross2;\n          children = null;\n        }\n      } else {\n        for (let i = 0; i < node.childNodes.length; i++) {\n          let children = node.childNodes[i];\n          childrenList = childrenList.concat(htmlTraversal(children));\n        }\n      }\n\n      type = node.nodeName.toLowerCase();\n\n      props = attToProps(node);\n      element = createElement(type, props, childrenList);\n      return element;\n  }\n}\n\nexport function replaceScript(attr = 'data-wrp-content-script', value = true) {\n  let scriptList = document.querySelectorAll(`[${attr}=${value}]`);\n  scriptList.forEach(\n    s => {\n      let newScript = document.createElement('script');\n      for (let a of s.attributes) {\n        newScript[a.name] = a.value\n      }\n      // s.parentNode.replaceChild(newScript, s);\n      s.parentNode.appendChild(newScript)\n    }\n  )\n}\n\n/**\n * \n * @param {Array} path\n * @param {String} action\n */\nexport function targetActionFilter(path, action, deep = 5) {\n  if (!Array.isArray(path)) {\n    console.warn('targetActionFilter(path:Node[])')\n    return true;\n  }\n  path = path.slice(0, -3);\n  for (let i = path.length - 1, j = Math.max(path.length - deep, 0); i >= j; i--) {\n    let blockAttr = path[i].attributes['data-wrp-action-block'];\n    if (!blockAttr) continue;\n    if (blockAttr.value.split(' ').includes(action)) {\n      console.log('filter action:', action);\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * \n * @param {event} e event\n * @param {function} callback function(<a/>)\n */\nexport function linkIntercept(e, callback) {\n  let path = e.path || getPath(e.target);\n  for (let i = 0; i < path.length; i++) {\n    if (path[i].nodeName !== 'A') continue;\n    if (!targetActionFilter(path.slice(i), 'intercept')) continue;\n    e.preventDefault();\n    e.stopPropagation();\n    if (callback) callback(path[i]);\n  }\n}\n\nexport function calcHash(text) {\n  return Math.abs(text.split(\"\").reduce(function (a, b) { a = ((a << 5) - a) + b.charCodeAt(0); return a & a }, 0));\n}\n\nexport function getPath(target) {\n  let path = [];\n  while (target !== null) {\n    path.unshift(target);\n    target = target.parentNode;\n  }\n  return path;\n}\n\nexport function scrollToTop() {\n    document.querySelector('html').scrollTop = 0;\n}","import axios from 'axios';\nimport { get } from 'lodash';\n\nimport { extractPart, extractHead } from '../utils/core'\n\nexport const setWord = (word, coordinate) => ({\n    type: \"expl/SETWORD\",\n    word: word,\n    coordinate: coordinate\n})\n\nexport const setShow = show => ({\n    type: \"expl/SETSHOW\",\n    show\n})\n\nexport const setData = data => ({\n    type: \"expl/SETDATA\",\n    data\n})\n\n/** \n * 请求接口获取单词释义\n *  并 setData, addMore, setExplState\n */\nexport const loadWordData = word => {\n    return dispatch => {\n        // let url = `https://1773134661611650.cn-beijing.fc.aliyuncs.com/2016-08-15/proxy/WordingReadingPro/iciba/?key=zysj&q=${word.toLowerCase()}`\n        let url = `https://1773134661611650.cn-shanghai.fc.aliyuncs.com/2016-08-15/proxy/wrp/wrp_server/iciba?w=${word.toLowerCase()}`;\n        let timeout = 10000;\n        let iciba2Data = (apiData) => {\n            let data = {};\n            let more = [];\n            if (!apiData.word_name) return data;\n            data.word = apiData.word_name;\n            if (Object.keys(apiData).includes('word_name')) {\n                data.audio = apiData.symbols[0].ph_tts_mp3;\n                data.audioUK = apiData.symbols[0].ph_en_mp3;\n                data.audioUS = apiData.symbols[0].ph_am_mp3;\n                data.answer = apiData.symbols[0].parts.map(o => [o.part, o.means.join(' ')]);\n                // 提取单词解释里的单词\n                more = apiData.symbols[0].parts.map(i => i.means.join(' ')).join(' ').match(/[a-zA-Z]{3,20}/);\n            }\n            return { data, more };\n        }\n        return new Promise(async (resolve) => {\n            try {\n                let res = await axios({ url: url, method: \"get\", timeout: timeout });\n                if (res.status === 200) {\n                    console.log('res', res, '\\n', res.data)\n                    let data = get(res, 'data.data') || {}\n                    let more = (data.answer || []).join(';').match(/[a-zA-Z]{3,30}/g) || []\n                    console.log('loadWordData', data, more)\n                    dispatch(setData(data))\n                    dispatch(addMore(more))\n                    dispatch(setExplState('completed'))\n                    console.log('--end--')\n                } else {\n                    console.log()\n                    throw new Error('request status != 200')\n                }\n            } catch (e) {\n                console.log('loadWordData Error', e);\n                dispatch(setExplState('failed'))\n            }\n            resolve()\n        })\n    }\n}\n\nexport const setExplState = status => ({\n    type: \"expl/SETEXPLSTATE\",\n    status\n})\n\nexport const setPlayAudio = audio => ({\n    type: \"expl/SETPLAYAUDIO\",\n    audio\n})\n\nexport const setZoom = zoom => ({\n    type: \"expl/SETZOOM\",\n    zoom\n})\n\nexport const addMore = more => {\n\n    more = [].concat(more)\n    more = more.filter(w => typeof w === 'string')\n    more = more.map(w => w.toLowerCase())\n    return {\n        type: \"expl/ADDMORE\",\n        more\n    }\n\n}\n\n/** & addMore */\nexport const setMore = more => {\n    more = more.filter(w => typeof w === 'string')\n    more = more.map(w => w.toLowerCase())\n    return {\n        type: \"exp/SETMORE\",\n        more\n    }\n}\n\nexport const setSetting = setting => ({\n    type: \"expl/SETSETTING\",\n    setting\n})\n\nexport const setMoreFold = isUnfold => ({\n    type: \"expl/SETMOREFOLD\",\n    isUnfold\n})\n\n\nexport const tapWord = (event) => {\n\n    let target = window.getSelection().anchorNode;\n    console.log('action tapWord: ', event, target);\n\n    if (!target) return setShow(false);\n    if (target.parentNode !== event.target) return setShow(false);\n    if (!target.wholeText) return setShow(false);\n\n    let offset = window.getSelection().anchorOffset;\n    let clickedChar = target.wholeText.slice(offset, offset + 1);\n    if (/\\W/.test(clickedChar)) return setShow(false);\n\n    let part = extractPart(target, offset, 'word');\n    let word = part[0].texts.join('') + part[1].texts.join('');\n    if (!word) return setShow(false);\n\n    // console.log('tapWord action', word, target.wholeText)\n\n    let position = { x: event.pageX, y: event.pageY, clientY: event.clientY };\n\n    return dispatch => {\n        dispatch(setWord(word, position))\n        dispatch(loadWordData(word))\n        dispatch(setShow(true))\n        /** 驼峰写法拆分 */\n        let more = word.match(/([A-Z]?[a-z]+)|([A-Z]{3,})/g)\n        if (more)\n            dispatch(setMore(more.length > 1 || more[0] !== word ? more : []))\n    }\n}\n\n\n","import axios from 'axios';\nimport { get } from 'lodash'\n\nimport { extractPart, calcOffset, selectedText } from '../utils/core'\n\n// \nexport const setShow = value => ({\n    type: \"translate/SETSHOW\",\n    value\n})\n\n// \nexport const setOriginal = original => ({\n    type: \"translate/SETORIGINAL\",\n    original\n})\n\n// \nexport const setStatus = status => ({\n    type: \"translate/SETSTATUS\",\n    status\n})\n\n// translation = { text:'', elements:[] }\nexport const setTranslation = translation => ({\n    type: \"translate/SETTRANSLATION\",\n    translation\n})\n\nconst nullAction = () => ({\n    type: \"\",\n})\n\nexport const slideTranslate = (target, x, y) => {\n    let url = \"https://1773134661611650.cn-shanghai.fc.aliyuncs.com/2016-08-15/proxy/wrp/wrp_server/alimt\";\n\n    let [textTarget, offset] = calcOffset(target, x, y);\n\n    let part = extractPart(textTarget, offset, 'sentence');\n    let sentence = part[0].texts.join('') + part[1].texts.join('');\n    sentence = sentence.trim();\n\n    if (sentence.length < 3) return nullAction();\n\n    let original = {\n        text: sentence,\n        elements: [...part[0].elements, ...part[1].elements]\n    }\n\n    selectedText(\n        { target: part[0].startTarget, offset: part[0].startOffset },\n        { target: part[1].endTarget, offset: part[1].endOffset }\n    );\n\n    return dispatch => {\n        dispatch(setShow('half'))\n        dispatch(setStatus('loading'))\n        dispatch(setOriginal(original))\n        let formData = new URLSearchParams()\n        formData.append('text', sentence)\n        return new Promise(async resolve => {\n            try {\n                let res = await axios({\n                    url: url,\n                    method: \"POST\",\n                    data: formData\n                })\n                if (res.status === 200) {\n                    console.log('slipTranslate', res)\n                    dispatch(setTranslation({\n                        text: res.data.Data.Translated,\n                        elements: res.data.Data.Translated\n                    }))\n                    dispatch(setStatus('completed'))\n                } else {\n                    throw new Error('request status != 200')\n                }\n            } catch (e) {\n                console.log('slip translate error', e)\n\n            }\n            resolve()\n        })\n    }\n}","\r\n// style: React style object\r\nexport const setMenuStyle = (style) => ({\r\n    type: \"readPanel/SETMENUSTYLE\",\r\n    style\r\n})\r\n\r\n// target: Node\r\nexport const setTarget = (target) => ({\r\n    type: \"readPanel/SETTARGET\",\r\n    target\r\n})\r\n\r\n\r\nexport const updateShow = (show) => ({\r\n    type: \"readPanel/SETSHOW\",\r\n    show\r\n})\r\n\r\nexport const showMenu = (target, x, y) => {\r\n    let vw = window.screen.availWidth;\r\n    let vh = window.screen.availHeight;\r\n    let mw = 60;\r\n    let mh = 200;\r\n    let margin = 8;\r\n\r\n    if (x + mw > vw) x = vw - mw - margin;\r\n    if (y + mh > vh) y = vh - mh - margin;\r\n\r\n    const style = {\r\n        top: y,\r\n        left: x,\r\n        opacity: 1,\r\n        pointerEvents: 'all',\r\n    }\r\n\r\n    return dispatch =>{\r\n        dispatch(setMenuStyle(style));\r\n        dispatch(setTarget(target));\r\n        dispatch(updateShow(true));\r\n    }\r\n}\r\n\r\nexport const hiddenMenu = () => {\r\n    return dispatch => {\r\n        dispatch(setMenuStyle({}))\r\n        updateShow(false);\r\n    }\r\n}","import React, { useState } from 'react';\r\n\r\n\r\nimport './switch.scss';\r\n\r\nfunction Switch(props) {\r\n    const [status, setStatus] = useState(props.defaultValue);\r\n\r\n    const onClick = () => {\r\n        if (typeof props.onChange === 'function')\r\n            props.onChange(!status)\r\n        setStatus(!status);\r\n    }\r\n    return (\r\n        <div\r\n            className={`wrp-switch ${status ? 'wrp-switch-on' : 'wrp-switch-off'}`}\r\n            onClick={onClick}\r\n        >\r\n            <div></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Switch;","import React from 'react'\r\n\r\nimport Switch from './switch.js';\r\n\r\nimport './explanation.scss';\r\n\r\nimport arrow_icon from \"./res/explainBoxArrow.svg\";\r\nimport audio_icon from \"./res/audio.svg\";\r\nimport star_icon from \"./res/star.svg\";\r\nimport menu_icon from \"./res/more.svg\";\r\nimport open_icon from './res/open.svg';\r\nimport arrowShadow_icon from './res/arrowShadow.png'\r\n\r\nconst calcFontSize = (size,maxNumber,text) => {\r\n    /**size:初始字符大小, maxNumber:初始字符大小下可以显示的最大字符, text：当前字符 */\r\n    if(!text) return size;\r\n    if(text.length <= maxNumber) return size;\r\n    return size*maxNumber/text.length;\r\n}\r\n\r\nconst calcPosition = (coordinate, zoom=0) => {\r\n    const ew = 17;                  // em explanation width 宽度\r\n    const eh = 8;                   // em explanation height 高度\r\n    const aw = 2.8;                 // em arrow width 三角箭头宽度\r\n    const ah = 2.8;                 // em arrow height 三角箭头高度\r\n    const topDistance = 12;         // em 顶部距离小于topDistance时,expainPanel显示在单词下方\r\n    const wordDistance = 3;         // em expainPanel距离单词的距离\r\n    const edgeDistance = 1;         // em 最小左右边距\r\n    const arrowOverlapping = 0.1;   // 箭头和框的重叠距离\r\n    const remRatioPx = 14;          // 1 rem = 16 px\r\n\r\n    let position = {};\r\n    let arrowPosition = {};\r\n    if(!coordinate) return { position, arrowPosition }\r\n    if(typeof(zoom) !== 'number') zoom = 0;\r\n    let x = coordinate.x, y= coordinate.y, clientY = coordinate.clientY;\r\n    let vw = window.innerWidth, vh= window.innerHeight;\r\n\r\n    let ratio = remRatioPx + remRatioPx * zoom;\r\n\r\n    //纵向位置 Vertical position\r\n    if(clientY >= topDistance * ratio){\r\n        // expainPanel显示在单词上方\r\n        position.top = `calc(${y}px - ${eh}em - ${wordDistance}em)`;\r\n        // arrowStyle.transform = 'rotate(180deg)'\r\n        arrowPosition.top = `${eh - ah / 2 - arrowOverlapping}em`\r\n    }else{\r\n        // expainPanel显示在单词下方\r\n        position.top = `calc(${y}px + ${wordDistance}em)`;\r\n        arrowPosition.top = `-${ah / 2 - arrowOverlapping}em`;\r\n        // arrowStyle.transform = 'rotate(0deg)';\r\n    }\r\n\r\n    // 横向位置 Horizontal position\r\n    if(x >= vw - (ew / 2 + edgeDistance) * ratio){\r\n        // 单词位置靠右边框\r\n        position.left = `calc(${vw}px - ${ew}em - ${edgeDistance}em)`;\r\n        // 太偏右 调整\r\n        if( (vw - x) < (edgeDistance * ratio + aw / 2 * ratio)) x = vw - (edgeDistance * ratio + aw / 2 * ratio);\r\n        arrowPosition.left = `calc(${x - vw}px + ${ew + edgeDistance - aw / 2}em)`;\r\n    }else if(x <= (ew / 2 + edgeDistance) * ratio){\r\n        // 单词位置靠左边框\r\n        position.left = `${edgeDistance}em`;\r\n        // 太偏左 调整\r\n        if(x < (edgeDistance * ratio + aw / 2 * ratio)) x = edgeDistance * ratio + aw / 2 * ratio;\r\n        arrowPosition.left = `calc(${x}px - ${edgeDistance + aw / 2}em)`;\r\n    }else{\r\n        // 中间\r\n        position.left = `calc(${x}px - ${ew / 2}em)`;\r\n        arrowPosition.left = `${ew / 2 - aw / 2}em`;\r\n    }\r\n\r\n    return {position,arrowPosition};\r\n}\r\n\r\nconst playingWhich = (data, value, auto) => {\r\n    let autoPlay = [false,false,false];\r\n    if(auto === false) return autoPlay;\r\n    // debugger\r\n    switch (value){\r\n        case 'us':\r\n            if(data.audioUS) autoPlay[0] = true; break;\r\n            if(data.audioUK) autoPlay[1] = true; break;\r\n            if(data.audio) autoPlay[2] = true; break; \r\n        case 'uk':\r\n            if(data.audioUK) autoPlay[1] = true; break;\r\n            if(data.audioUS) autoPlay[0] = true; break;\r\n            if(data.audio) autoPlay[2] = true; break;\r\n        case 'tts':\r\n            if(data.audio) autoPlay[2] = true; break;\r\n            if(data.audioUS) autoPlay[0] = true; break;\r\n            if(data.audioUK) autoPlay[1] = true; break;\r\n        default:\r\n            if(data.audioUS) {\r\n                autoPlay[0] = true; \r\n                break;\r\n            }\r\n            if(data.audioUK) {\r\n                autoPlay[1] = true;\r\n                break;\r\n            }\r\n            if(data.audio) {\r\n                autoPlay[2] = true; \r\n                break;\r\n            }\r\n    }\r\n    return autoPlay;\r\n}\r\n\r\nconst answerFormat = answer => {\r\n    // answer = [[\"n.\", \"开关\"],[\"vt.\", \"转变\"]]\r\n    if(!answer) return '';\r\n    return answer.map( value => (<dt><b>{value[0]}</b>{value[1]}</dt>))\r\n}\r\n \r\nconst Explanation = ({ explanation, setSetting, setMoreFold, loadWordData, setZoom }) =>{\r\n\r\n    const Loading = (\r\n        <div className=\"wrp-ep-other-content\">\r\n            <div className=\"wrp-icon\">\r\n                <div className=\"wrp-loading-icon\">\r\n                    <div/> <div/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const nothing = (\r\n        <div className=\"wrp-ep-other-content\">\r\n            <div className=\"wrp-icon\">\r\n                <svg t=\"1600868218467\" viewBox=\"0 0 1024 1024\" width=\"100%\" height=\"100%\"><defs><style type=\"text/css\"></style></defs><path d=\"M861.140992 694.10816c-3.49184-31.456256-17.475584-48.93184-17.475584-52.427776 0-3.49696-6.987776-3.49696-10.484736-3.49696-3.495936 3.49696-3.495936 6.992896-3.495936 13.980672 0 0 10.488832 17.475584 13.980672 45.44 3.495936 34.952192-6.987776 66.407424-31.456256 97.867776-27.96032 31.456256-69.904384 48.93184-129.324032 48.93184-20.97152 0-41.944064-3.495936-55.923712-3.495936 3.495936 0 3.495936-3.495936 6.991872-3.495936 10.483712-6.987776 17.475584-17.475584 20.967424-31.456256 6.992896-13.979648 10.488832-31.455232 10.488832-52.427776 0-48.93184 13.979648-83.888128 41.944064-101.363712 34.951168-27.96032 87.379968-10.483712 87.379968-10.483712h3.495936c-6.992896 13.979648-10.488832 27.959296-17.476608 38.447104-20.97152 34.952192-38.448128 55.924736-38.448128 59.420672-3.495936 3.49184-3.495936 10.483712 0 13.979648 3.495936 3.495936 10.484736 3.495936 13.980672 0 0 0 20.97152-24.467456 41.944064-59.419648 10.483712-20.972544 20.97152-41.944064 27.959296-62.916608 6.991872-24.46336 13.984768-48.93184 13.984768-73.399296 0-3.492864-3.495936-10.484736-10.488832-10.484736-3.495936 0-10.483712 3.495936-10.483712 10.484736 0 27.963392-6.991872 52.431872-13.983744 76.895232l-3.49184-3.495936s-13.984768-3.49184-34.952192-3.49184c-27.964416 0-48.935936 6.987776-66.412544 17.476608-31.455232 20.97152-45.44 59.419648-48.93184 115.34336 0 31.456256-10.487808 55.923712-27.963392 69.904384-10.484736 10.483712-24.46848 13.979648-24.46848 13.979648-3.49184 0-6.987776 3.495936-6.987776 6.991872 0 3.49184 3.495936 6.9888 6.987776 10.484736 0 0 38.448128 10.487808 83.888128 10.487808 27.964416 0 52.427776-3.495936 73.40032-10.487808 27.963392-10.484736 49.874944-26.417152 66.41152-45.436928C838.996992 797.696 851.456 777.728 856.832 756.992c2.866176-11.057152 7.2192-44.544 4.308992-62.88384z m-69.904384-531.279872c0-3.492864-3.495936-10.484736-6.987776-10.484736-3.495936 0-10.487808 3.495936-10.487808 6.991872-10.483712 59.416576-101.359616 171.264-199.227392 227.188736 3.495936-20.968448 0-41.939968-3.49696-55.924736-10.483712-38.444032-38.447104-66.407424-76.895232-73.399296-48.93184-10.484736-87.379968 10.487808-108.352512 48.935936-17.475584 34.952192-13.979648 73.40032 6.987776 97.867776 31.460352 34.952192 76.896256 41.939968 132.819968 24.464384 6.992896-3.495936 17.476608-6.9888 24.46848-10.484736-10.483712 31.456256-31.456256 66.408448-66.408448 94.372864-115.34336 97.867776-269.135872 118.8352-314.575872 118.8352-3.49184 0-10.483712 3.495936-10.483712 10.488832 0 6.987776 3.495936 10.483712 10.483712 10.483712 48.935936 0 206.220288-20.972544 325.060608-125.828096 45.44-38.448128 66.41152-80.392192 76.895232-118.84032 104.856576-52.427776 209.716224-174.759936 220.199936-244.667392zM553.561088 397.011968c-10.487808 6.991872-24.46848 10.483712-34.952192 13.979648-48.935936 13.980672-87.384064 6.991872-115.34336-20.97152-17.476608-17.476608-17.476608-48.93184-3.495936-76.896256 13.979648-27.96032 41.94304-41.939968 69.90336-41.939968h17.476608c31.459328 6.987776 52.431872 27.96032 62.915584 59.415552 6.991872 20.972544 6.991872 41.944064 3.495936 66.412544z m0 0\" fill=\"#999999\" p-id=\"28413\"></path></svg>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    const renderMore = (moreList, unfold) => {\r\n        let list = [];\r\n        if ( ! Array.isArray(moreList) ) return list;\r\n        if ( unfold ) {\r\n            // 展开状态\r\n            list = moreList.map( word => {\r\n                return (<span onClick={()=>loadWordData(word)}>{word}</span>)\r\n            });\r\n            list.push(\r\n                <span \r\n                    className=\"unfold-button\"\r\n                    onClick={()=>setMoreFold()}            \r\n                >{`<`}</span>\r\n            );\r\n        } else {\r\n            // 折叠状态\r\n            if (moreList.length >=1 ){\r\n                list.push(<span onClick={()=>loadWordData(moreList[0])}>{moreList[0]}</span>)\r\n            }\r\n            if(moreList.length > 1){\r\n                list.push(\r\n                    <span \r\n                        className=\"unfold-button\"\r\n                        onClick={()=>setMoreFold()}            \r\n                    >{`<`}</span>\r\n                )\r\n            }\r\n        }\r\n        return list;\r\n    }\r\n\r\n    let { position, arrowPosition } = calcPosition(explanation.coordinate, explanation.zoom)\r\n    let data = explanation.data || {}\r\n    let setting = explanation.setting || {}\r\n    let autoPlay = playingWhich(data, setting.playWhich, setting.autoPlay)\r\n    let more = explanation.more || [];\r\n    let zoom = {fontSize:`${14  + explanation.zoom}px`}\r\n    \r\n    return (\r\n        <div\r\n            id=\"wrp-ep\"\r\n            className={`explain-panel ${explanation.show ? '' : 'explain-hidden'}`} \r\n            style={{...position, ...zoom }}\r\n            data-wrp-action-block=\"tapword\"\r\n        >\r\n            <div \r\n                className=\"wrp-ep-arrow-container\" \r\n                style={ arrowPosition }\r\n            >\r\n                <div className=\"wrp-ep-arrow\"></div>\r\n            </div>\r\n            <div className=\"wrp-explain-content\">\r\n                <div className=\"wrp-ep-title\">\r\n                    <div className=\"wrp-title-left\">\r\n                        <h3 className=\"wrp-title-word\" \r\n                            style={ {fontSize: `${calcFontSize(1.2, 11, data.word || explanation.word)}em`} }>\r\n                            { data.word || explanation.word }\r\n                        </h3>\r\n                        {\r\n                            data.audioUS ? (\r\n                            <div className=\"title-tts\"  onClick={()=>document.getElementById(\"a-us\").play()}>\r\n                                <div className=\"\" >US</div>\r\n                                <svg \r\n                                    className=\"title-audio\"\r\n                                    // style={autoPlay[0]?playingStyle:{}}\r\n                                    fill=\"var(--t-fore-c)\"\r\n                                    viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M541.2 132.3c-7.2-3.3-15.2-5-23.3-5-13.9 0-26.8 5.1-36.5 14.4L280.6 312.4h-158c-11.5 0-23.9 3.9-33.6 10.4h-4l-8.7 9.2c-7.5 7.9-12.2 20.8-12.2 33.8v290.7c0 15 6.7 31.4 16.9 41.6 10.2 10.3 26.6 16.9 41.6 16.9h158.2l200.7 165.6c8.4 7.9 23.3 16 35.6 16 5.6 0 16.5 0 27.1-8 10-4.2 17.8-10.4 23.1-18.6 5.7-8.6 8.4-19.1 8.4-32V184c0-12.9-2.8-23.4-8.4-32-5.8-9-14.6-15.6-26.1-19.7z m-24.8 57.4v642.9L310.2 662.5l-8.2-6.8v0.1H123.3V371.7h179l214.1-182zM899.3 300c-20.9-32.7-46.5-61.1-75.9-84.2l-0.1-0.1c-1.3-1.1-2.2-1.8-2.9-2.4-4.5-2.8-9.6-4.3-15.1-4.3-10.3 0-21.6 5.3-31.1 14.5l-0.1 0.1c-8.4 13.5-3.9 35.9 9 45.2l0.1 0.1c6.1 2.5 14.7 9.7 20.8 15.4 9.4 8.7 23.6 23.7 38.1 45.6 24.3 36.8 53.3 99.7 53.3 190.8 0 91-27.4 153.9-50.3 190.6-13.7 22-27.2 36.9-36.1 45.6-8.6 8.3-15.3 13.5-20.1 15.5l-0.1 0.1c-13.9 9.8-17.2 28.6-8.1 46.7 3.8 7.7 17.2 12.9 27.3 12.9 3.8 0 13.9 0 17.4-3.5 0.7-0.7 1.5-1.4 3.3-2.8 28.1-22.9 52.6-51 72.7-83.8 38.8-63.2 58.5-137.6 58.5-221.4 0-83.4-20.4-157.6-60.6-220.6z\" p-id=\"778\"></path><path d=\"M752.7 376.7c-23.8-27.4-48.4-40.2-53.7-42.1h-1.6l-1.9-1.3c-3.2-2.2-7.4-3.3-12-3.3-11.9 0-24.9 7.6-27.8 16.4l-0.3 1-0.6 0.9c-3.8 5.8-4.3 14.2-1.4 22.7 2.9 8.4 8.6 15.1 14.6 17.1l0.6 0.2 0.6 0.3c0.7 0.4 17.2 9.5 33.6 29.7 15.1 18.5 33.1 50.3 33.1 96.7 0 96.6-54.4 128.5-60.7 131.9-13.8 9.4-23 27.9-14.6 40.4l0.3 0.4 0.2 0.5c4.3 8.7 18.9 18.6 27.3 18.6 5.5 0 8.4-0.1 11.7-3.8l2.2-2.2H704.7c6.2-2.3 28.7-15.6 50.6-44.2 20.6-26.9 45.1-74.4 45.1-147.4 0-64.2-25.9-107.5-47.7-132.5z\" p-id=\"779\"></path></svg>\r\n                                <audio id=\"a-us\" key={data.audioUS} src={data.audioUS} autoPlay={autoPlay[0]} ></audio>\r\n                            </div>)\r\n                            :\r\n                            ''\r\n                        }\r\n                        {\r\n                            data.audioUK ? (\r\n                            <div className=\"title-tts\" onClick={()=>document.getElementById(\"a-uk\").play()}>\r\n                                <div className=\"\" >UK</div>\r\n                                <svg\r\n                                    className=\"title-audio\" \r\n                                    // style={autoPlay[1]?playingStyle:{}}\r\n                                    fill=\"var(--t-fore-c)\"\r\n                                    viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M541.2 132.3c-7.2-3.3-15.2-5-23.3-5-13.9 0-26.8 5.1-36.5 14.4L280.6 312.4h-158c-11.5 0-23.9 3.9-33.6 10.4h-4l-8.7 9.2c-7.5 7.9-12.2 20.8-12.2 33.8v290.7c0 15 6.7 31.4 16.9 41.6 10.2 10.3 26.6 16.9 41.6 16.9h158.2l200.7 165.6c8.4 7.9 23.3 16 35.6 16 5.6 0 16.5 0 27.1-8 10-4.2 17.8-10.4 23.1-18.6 5.7-8.6 8.4-19.1 8.4-32V184c0-12.9-2.8-23.4-8.4-32-5.8-9-14.6-15.6-26.1-19.7z m-24.8 57.4v642.9L310.2 662.5l-8.2-6.8v0.1H123.3V371.7h179l214.1-182zM899.3 300c-20.9-32.7-46.5-61.1-75.9-84.2l-0.1-0.1c-1.3-1.1-2.2-1.8-2.9-2.4-4.5-2.8-9.6-4.3-15.1-4.3-10.3 0-21.6 5.3-31.1 14.5l-0.1 0.1c-8.4 13.5-3.9 35.9 9 45.2l0.1 0.1c6.1 2.5 14.7 9.7 20.8 15.4 9.4 8.7 23.6 23.7 38.1 45.6 24.3 36.8 53.3 99.7 53.3 190.8 0 91-27.4 153.9-50.3 190.6-13.7 22-27.2 36.9-36.1 45.6-8.6 8.3-15.3 13.5-20.1 15.5l-0.1 0.1c-13.9 9.8-17.2 28.6-8.1 46.7 3.8 7.7 17.2 12.9 27.3 12.9 3.8 0 13.9 0 17.4-3.5 0.7-0.7 1.5-1.4 3.3-2.8 28.1-22.9 52.6-51 72.7-83.8 38.8-63.2 58.5-137.6 58.5-221.4 0-83.4-20.4-157.6-60.6-220.6z\" p-id=\"778\"></path><path d=\"M752.7 376.7c-23.8-27.4-48.4-40.2-53.7-42.1h-1.6l-1.9-1.3c-3.2-2.2-7.4-3.3-12-3.3-11.9 0-24.9 7.6-27.8 16.4l-0.3 1-0.6 0.9c-3.8 5.8-4.3 14.2-1.4 22.7 2.9 8.4 8.6 15.1 14.6 17.1l0.6 0.2 0.6 0.3c0.7 0.4 17.2 9.5 33.6 29.7 15.1 18.5 33.1 50.3 33.1 96.7 0 96.6-54.4 128.5-60.7 131.9-13.8 9.4-23 27.9-14.6 40.4l0.3 0.4 0.2 0.5c4.3 8.7 18.9 18.6 27.3 18.6 5.5 0 8.4-0.1 11.7-3.8l2.2-2.2H704.7c6.2-2.3 28.7-15.6 50.6-44.2 20.6-26.9 45.1-74.4 45.1-147.4 0-64.2-25.9-107.5-47.7-132.5z\" p-id=\"779\"></path></svg>\r\n                                <audio id=\"a-uk\" key={data.audioUK} src={data.audioUK} autoPlay={autoPlay[1]} ></audio>\r\n                            </div>)\r\n                            :\r\n                            \"\"\r\n                        }\r\n                        {\r\n                            (!data.audioUK || !data.audioUS && data.audio) ? (\r\n                            <div className=\"title-tts\"  onClick={()=>document.getElementById(\"a-tts\").play()}>\r\n                                <svg\r\n                                    className=\"title-audio\" \r\n                                    // style={autoPlay[2]?playingStyle:{}}\r\n                                    fill=\"var(--t-fore-c)\" \r\n                                    viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M541.2 132.3c-7.2-3.3-15.2-5-23.3-5-13.9 0-26.8 5.1-36.5 14.4L280.6 312.4h-158c-11.5 0-23.9 3.9-33.6 10.4h-4l-8.7 9.2c-7.5 7.9-12.2 20.8-12.2 33.8v290.7c0 15 6.7 31.4 16.9 41.6 10.2 10.3 26.6 16.9 41.6 16.9h158.2l200.7 165.6c8.4 7.9 23.3 16 35.6 16 5.6 0 16.5 0 27.1-8 10-4.2 17.8-10.4 23.1-18.6 5.7-8.6 8.4-19.1 8.4-32V184c0-12.9-2.8-23.4-8.4-32-5.8-9-14.6-15.6-26.1-19.7z m-24.8 57.4v642.9L310.2 662.5l-8.2-6.8v0.1H123.3V371.7h179l214.1-182zM899.3 300c-20.9-32.7-46.5-61.1-75.9-84.2l-0.1-0.1c-1.3-1.1-2.2-1.8-2.9-2.4-4.5-2.8-9.6-4.3-15.1-4.3-10.3 0-21.6 5.3-31.1 14.5l-0.1 0.1c-8.4 13.5-3.9 35.9 9 45.2l0.1 0.1c6.1 2.5 14.7 9.7 20.8 15.4 9.4 8.7 23.6 23.7 38.1 45.6 24.3 36.8 53.3 99.7 53.3 190.8 0 91-27.4 153.9-50.3 190.6-13.7 22-27.2 36.9-36.1 45.6-8.6 8.3-15.3 13.5-20.1 15.5l-0.1 0.1c-13.9 9.8-17.2 28.6-8.1 46.7 3.8 7.7 17.2 12.9 27.3 12.9 3.8 0 13.9 0 17.4-3.5 0.7-0.7 1.5-1.4 3.3-2.8 28.1-22.9 52.6-51 72.7-83.8 38.8-63.2 58.5-137.6 58.5-221.4 0-83.4-20.4-157.6-60.6-220.6z\" p-id=\"778\"></path><path d=\"M752.7 376.7c-23.8-27.4-48.4-40.2-53.7-42.1h-1.6l-1.9-1.3c-3.2-2.2-7.4-3.3-12-3.3-11.9 0-24.9 7.6-27.8 16.4l-0.3 1-0.6 0.9c-3.8 5.8-4.3 14.2-1.4 22.7 2.9 8.4 8.6 15.1 14.6 17.1l0.6 0.2 0.6 0.3c0.7 0.4 17.2 9.5 33.6 29.7 15.1 18.5 33.1 50.3 33.1 96.7 0 96.6-54.4 128.5-60.7 131.9-13.8 9.4-23 27.9-14.6 40.4l0.3 0.4 0.2 0.5c4.3 8.7 18.9 18.6 27.3 18.6 5.5 0 8.4-0.1 11.7-3.8l2.2-2.2H704.7c6.2-2.3 28.7-15.6 50.6-44.2 20.6-26.9 45.1-74.4 45.1-147.4 0-64.2-25.9-107.5-47.7-132.5z\" p-id=\"779\"></path></svg>\r\n                                <audio id=\"a-tts\" key={data.audio} src={data.audio} autoPlay={autoPlay[2]}></audio>\r\n                            </div>\r\n                            )\r\n                            :\r\n                            \"\"\r\n                        }\r\n                        \r\n                    </div>\r\n                    <div>\r\n                        <svg \r\n                            className=\"wrp-title-button\" \r\n                            style={{display:'none'}} \r\n                            fill=\"var(--t-fore-c)\" \r\n                            viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\" ><defs><style type=\"text/css\"></style></defs><path d=\"M1009.562 454.103c-72.264 88.023-200.049 233.339-200.049 233.339s20.9 159.55 32.614 268.534c5.09 55.51-34.928 79.513-80.25 57.876-86.242-43.325-217.478-110.448-247-125.573-30.044 14.97-162.6 80.988-249.733 124.211-45.844 21.586-86.343-2.416-81.193-57.825 11.869-108.82 32.983-268.216 32.983-268.216S87.685 541.44 14.582 453.529c-25.836-31.928-9.247-77.311 41.697-85.657 103.885-19.64 264.909-50.944 264.909-50.944s88.074-162.335 143.8-261.755C495.657-5.325 516.874 1.66 520.5 3.441c9.452 3.256 24.371 15.022 43.848 51.783 55.091 99.574 142.172 262.124 142.172 262.124s159.13 31.304 261.806 50.995c50.33 8.397 66.765 53.832 41.237 85.76z\"  p-id=\"3336\"></path></svg>\r\n                        <svg \r\n                            className={`wrp-title-button ${ setting.show ? \"expl-menu-show\" : \"expl-menu-hidden\" }`} \r\n                            onClick={()=>{ setSetting({show:!setting.show})}} \r\n                            fill=\"var(--t-fore-c)\" \r\n                            viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M415.93 223.79c0-52.98 43.004-95.984 95.984-95.984s95.984 43.004 95.984 95.984-43.004 95.984-95.984 95.984-95.984-43.003-95.984-95.984zM415.93 511.742c0-52.98 43.004-95.984 95.984-95.984s95.984 43.004 95.984 95.984-43.004 95.984-95.984 95.984-95.984-43.004-95.984-95.984zM415.93 799.866c0-52.98 43.004-95.984 95.984-95.984s95.984 43.003 95.984 95.984-43.004 95.983-95.984 95.983-95.984-43.175-95.984-95.983z\" p-id=\"4126\"></path></svg>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"wrp-ep-content\">\r\n                    <dl style={explanation.menuBgStyle}>\r\n                        { explanation.status === 'completed' ? answerFormat(data.answer) : Loading }\r\n                        {(explanation.status === 'completed' && !data.answer) ? nothing : ''}\r\n                    </dl>\r\n                    <div className={`more-word-contanier ${explanation.unfoldMore ? 'more-unfold' : ''}`}>\r\n                        { renderMore(more, explanation.unfoldMore) }\r\n                    </div>\r\n                    {/* MENU 更多 菜单 */}\r\n                    <div className={`wrp-ep-menu ${ setting.show ? \"wrp-expl-menu-show\" : \"\"}`} >\r\n                        <div>\r\n                            <span>Auto Speech</span>\r\n                            <Switch\r\n                                defaultValue={setting.autoPlay !== false} \r\n                                onChange={(status)=> setSetting({autoPlay: status})}\r\n                            ></Switch>\r\n                        </div>\r\n                        <div>\r\n                            <span>Speech US</span>\r\n                            <Switch\r\n                                defaultValue={setting.playWhich ? setting.playWhich === 'us': true} \r\n                                onChange={(status)=> setSetting({playWhich: status ? 'us' : 'uk'})}\r\n                            ></Switch>\r\n                        </div>  \r\n                        <svg className=\"menu-button\" onClick={()=>setZoom(1)} fill=\"var(--t-fore-c)\" viewBox=\"0 0 1024 1024\" version=\"1.1\" p-id=\"2685\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M592 400l-128 0 0-128c0-19.2-12.8-32-32-32s-32 12.8-32 32l0 128-128 0c-19.2 0-32 12.8-32 32s12.8 32 32 32l128 0 0 128c0 19.2 12.8 32 32 32s32-12.8 32-32l0-128 128 0c19.2 0 32-12.8 32-32S611.2 400 592 400z\" p-id=\"2686\"></path><path d=\"M950.4 905.6l-236.8-236.8c54.4-64 86.4-147.2 86.4-236.8C800 227.2 636.8 64 432 64 227.2 64 64 227.2 64 432 64 636.8 227.2 800 432 800c89.6 0 172.8-32 236.8-86.4l236.8 236.8c6.4 6.4 16 9.6 22.4 9.6s16-3.2 22.4-9.6C963.2 937.6 963.2 918.4 950.4 905.6zM432 736C265.6 736 128 598.4 128 432 128 265.6 265.6 128 432 128c166.4 0 304 137.6 304 304C736 598.4 598.4 736 432 736z\" p-id=\"2687\"></path></svg>\r\n                        <svg className=\"menu-button\" onClick={()=>setZoom(-1)} fill=\"var(--t-fore-c)\" viewBox=\"0 0 1024 1024\" version=\"1.1\" p-id=\"2556\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M592 400l-320 0c-19.2 0-32 12.8-32 32s12.8 32 32 32l320 0c19.2 0 32-12.8 32-32S611.2 400 592 400z\" p-id=\"2557\"></path><path d=\"M950.4 905.6l-236.8-236.8c54.4-64 86.4-147.2 86.4-236.8C800 227.2 636.8 64 432 64 227.2 64 64 227.2 64 432 64 636.8 227.2 800 432 800c89.6 0 172.8-32 236.8-86.4l236.8 236.8c6.4 6.4 16 9.6 22.4 9.6s16-3.2 22.4-9.6C963.2 937.6 963.2 918.4 950.4 905.6zM432 736C265.6 736 128 598.4 128 432 128 265.6 265.6 128 432 128c166.4 0 304 137.6 304 304C736 598.4 598.4 736 432 736z\" p-id=\"2558\"></path></svg>\r\n                    </div>\r\n                </div>  \r\n            </div>\r\n                        \r\n        </div>\r\n    )\r\n}\r\n\r\n export default Explanation","import { connect } from 'react-redux'\r\n\r\nimport * as explActions from '../actions/explanation'\r\nimport Explanation from '../components/Explanation'\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n    explanation: state.explanation\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setSetting: setting => {\r\n        dispatch(explActions.setSetting(setting))\r\n    },\r\n    setMoreFold: isUnfold => {\r\n        dispatch(explActions.setMoreFold(isUnfold))\r\n    },\r\n    loadWordData: (word) =>{\r\n        dispatch(explActions.loadWordData(word))\r\n    },\r\n    setZoom: zoom => {\r\n        dispatch(explActions.setZoom(zoom))\r\n    }\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Explanation)\r\n","import React from 'react';\nimport { get } from 'lodash';\n\nimport './translatePanel.scss';\n\nconst TranslatePanel = (props) => {\n\n    const showStyle = {\n        hidden: {\n            bottom: \"-18rem\",\n            height: '16rem',\n        },\n        half: {\n            bottom: 0,\n            height: '12rem',\n        },\n        full: {\n            bottom: 0,\n            height: '36rem',\n            maxHeight: '80%',\n        }\n    }\n\n    console.log('props', props)\n\n    let show = props.show || 'hidden'\n    let panelStyle = Object.assign({}, showStyle[show]);\n\n    return (\n        <div id=\"tp\" className=\"wrp-translate-panel\" style={panelStyle}\n            onTouchStart={(e) => props.onSlipStart(e, props.show)}\n            onTouchMove={props.onSlipMove}\n            onTouchEnd={props.onSlipEnd}\n            // onMouseMove={(e)=>this.handleMouseMove(e)}\n            // onMouseDown={(e)=>this.handleMouseDown(e)}\n            // onMouseUp={(e)=>this.handleMouseUp(e)}\n            // onMouseLeave={(e)=>this.handleMouseLeave(e)}\n            onClick={props.handleClick}\n        >\n            <div className=\"wrp-tp-handle\"\n                onTouchMove={props.handleDrag}\n                onClick={props.setTranslateY}\n            >\n                <div ref={props.handleEl} />\n            </div>\n\n            <div className=\"\">{props.original.elements}</div>\n            <br />\n            <div className=\"\">\n                {(props.status == \"completed\") ? props.translation.text : ''}\n            </div>\n            <div class=\"wrp-tr-scall-mask\">\n                <div></div>\n            </div>\n        </div>\n    )\n}\n\nexport default TranslatePanel","\r\n\r\n/**\r\n * 记录TouchMove 的 dx, dy偏移值和 duration 持续时间, \r\n * 并在恰当时机触发回调\r\n * 不阻止默认事件 passive: false\r\n */\r\nclass Touch {\r\n    constructor(options) {\r\n        this.start = this.start.bind(this);\r\n        this.move = this.move.bind(this);\r\n        this.end = this.end.bind(this);\r\n        if (!options) return;\r\n        if (options.onEnd) this.setOnEnd(options.onEnd);\r\n        if (options.onMoving) this.setOnMoving(options.onMoving);\r\n        if (options.onStart) this.setOnStart(options.onStart);\r\n    }\r\n\r\n    clear() {\r\n        this.target = null;\r\n        this.sumX = 0;\r\n        this.sumY = 0;\r\n        this.startX = 0;\r\n        this.startY = 0;\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.startTime = 0;\r\n        this.duration = 0;\r\n    }\r\n\r\n    start(e, data) {\r\n        this.clear();\r\n\r\n        this.startTime = Date.now();\r\n        this.x = e.touches[0].pageX;\r\n        this.y = e.touches[0].clientY;\r\n\r\n        this.startX = e.touches[0].clientX;\r\n        this.startY = e.touches[0].clientY;\r\n\r\n        this.target = e.target;\r\n\r\n        if (this.onStart)\r\n            this.onStart.call(null, this, e);\r\n        if (data)\r\n            this.data = data;\r\n    }\r\n\r\n    move(e) {\r\n        this.sumX = this.sumX + e.touches[0].pageX - this.x\r\n        this.sumY = this.sumY + e.touches[0].clientY - this.y\r\n\r\n        this.x = e.touches[0].pageX;\r\n        this.y = e.touches[0].clientY;\r\n\r\n        if (this.onMoving)\r\n            this.onMoving.call(null, this, e);\r\n    }\r\n\r\n    end(e) {\r\n        this.duration = Date.now() - this.startTime;\r\n        if (this.onEnd)\r\n            this.onEnd.call(null, this, e);\r\n    }\r\n\r\n    setOnEnd(callback) {\r\n        if (typeof callback === 'function')\r\n            this.onEnd = callback;\r\n    }\r\n\r\n    setOnMoving(callback) {\r\n        if (typeof callback === 'function')\r\n            this.onMoving = callback;\r\n    }\r\n\r\n    setOnStart(callback) {\r\n        if (typeof callback === 'function')\r\n            this.onStart = callback;\r\n    }\r\n}\r\n\r\nexport default Touch;\r\n\r\n/**\r\n * 同一位置连续点击多次\r\n */\r\nclass Tap {\r\n    constructor(options) {\r\n        this.tapList = [];\r\n        this.count = 0;\r\n\r\n        this.effectiveInterval = options.interval || 350;\r\n        this.effectiveOffset = options.offset || 20;\r\n        this.effectiveCount = options.count || 3;\r\n        if (typeof options.callback === 'function') {\r\n            this.callback = options.callback\r\n        } else {\r\n            this.callback = (() => { })\r\n        }\r\n\r\n    }\r\n\r\n    tap(e) {\r\n        this.tapList.unshift(\r\n            {\r\n                x: e.clientX,\r\n                y: e.clientY,\r\n                timeStamp: e.timeStamp,\r\n            }\r\n        )\r\n        this.tapList = this.tapList.slice(0, 3);\r\n\r\n        this.repeatedDetect()\r\n    }\r\n\r\n    repeatedDetect() {\r\n        if (this.tapList.length < 2) return;\r\n        if ((this.tapList[0].timeStamp - this.tapList[1].timeStamp) > this.effectiveInterval) {\r\n            return this.count = 0;\r\n        }\r\n\r\n        if (\r\n            Math.abs(this.tapList[0].x - this.tapList[1].x) <= this.effectiveOffset &&\r\n            Math.abs(this.tapList[0].y - this.tapList[1].y) <= this.effectiveOffset\r\n        ) {\r\n            this.count = this.count + 1;\r\n\r\n            if (this.count === this.effectiveCount - 1) {\r\n                return this.callback.call(null, this.count);\r\n            }\r\n        } else {\r\n            return this.count = 0;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n/**\r\n * TranslatePanel 滑动\r\n */\r\nclass Slip {\r\n\r\n}\r\n\r\nexport {\r\n    Tap\r\n}","import React, { useState, useEffect, useMemo, useRef } from 'react';\nimport { connect } from 'react-redux';\nimport { get } from 'lodash'\n\nimport * as explActions from '../actions/explanation';\nimport * as translateActions from '../actions/translate';\n\nimport TranslatePanel from '../components/TranslatePanel';\n\nimport Touch from '../utils/touch';\n\nimport '../components/translatePanel.scss';\n\nfunction ManageTranslatePanel(props) {\n\n    const handleEl = useRef(null);\n\n    const dragTouch = new Touch();\n\n    const slipTouch = useMemo(() => {\n        const showStatusMap = {\n            hidden: 0,\n            half: 1,\n            full: 2,\n            0: 'hidden',\n            1: 'half',\n            2: 'full',\n        };\n        let sumY = 0;\n        const slipMoving = (touch, e) => {\n            // e.preventDefault();\n            e.stopPropagation();\n\n            let showStatus = showStatusMap[touch.data];\n            let diff = Math.round(touch.sumY - sumY);\n\n            if (showStatus === 2 && diff < 0) {\n                // 无效滑动\n                // handleEl.current.style.background = `linear-gradient(to right, var(--t-fore-c2) ${Math.abs(diff) - 1}%, var(--t-back-c2) ${Math.abs(diff)}%)`\n            } else {\n                handleEl.current.style.transform = `translateY(${diff / 2}px)`\n                handleEl.current.style.background = `linear-gradient(to right, var(--sc) ${Math.abs(diff) - 1}%, var(--t-back-c2) ${Math.abs(diff)}%)`\n            }\n\n            if (Math.abs(diff) < 100) {\n                return;\n            }\n\n            if (diff > 80) {\n                sumY = touch.sumY\n                showStatus -= 1;\n                console.log('-', showStatus)\n            }\n\n            if (diff < -80) {\n                sumY = touch.sumY\n                showStatus += 1;\n                console.log('+', showStatus)\n            }\n\n            if (showStatus < 0) showStatus = 0;\n            if (showStatus > 2) showStatus = 2;\n\n            if (showStatus !== showStatusMap[touch.data]) {\n                // 更新showStatus\n                props.setShow(showStatusMap[showStatus]);\n                touch.data = showStatusMap[showStatus];\n            }\n        }\n\n        const slipStart = () => {\n\n        }\n\n        const slipEnd = () => {\n            if (handleEl.current) {\n                // transition: all 0.3s;\n                handleEl.current.style.transform = `translateY(0px)`;\n                handleEl.current.style.background = `linear-gradient(to right, var(--sc) 0%, var(--t-back-c2) 0%)`\n                handleEl.current.style.transition = `all 0.3s`;\n                setTimeout(() => {\n                    handleEl.current.style.transition = `all 0s`;\n                }, 300);\n            }\n            sumY = 0;\n        }\n        return new Touch({ onMoving: slipMoving, onEnd: slipEnd, onStart: slipStart })\n    }, []);\n\n    return (\n        <TranslatePanel\n            onSlipStart={slipTouch.start}\n            onSlipMove={slipTouch.move}\n            onSlipEnd={slipTouch.end}\n            handleEl={handleEl}\n\n            show={props.translate.show}\n            original={props.translate.original || {}}\n            status={props.translate.status}\n            translation={props.translate.translation}\n        ></TranslatePanel>\n    )\n}\n\nconst mapStateToProps = state => ({\n    translate: state.translate\n})\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n    tapWord: event => {\n        dispatch(explActions.tapWord(event))\n    },\n    setShow: value => {\n        dispatch(translateActions.setShow(value))\n    }\n})\n\n// export default connect(mapStateToProps, mapDispatchToProps)(TranslatePanel);\nexport default connect(mapStateToProps, mapDispatchToProps)(ManageTranslatePanel)","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport * as core from '../utils/core'\r\n\r\nimport \"./readPanel.scss\";\r\n\r\nimport Switch from \"./switch.js\";\r\n\r\nimport * as explActions from \"../actions/explanation\";\r\nimport * as translateActions from \"../actions/translate\";\r\nimport * as actions from '../actions/readPanel';\r\n\r\n\r\nfunction ReadPanel(props) {\r\n    const style = {};\r\n\r\n    return (\r\n        <div\r\n            id=\"wrp-read-panel\"\r\n            style={style}\r\n        >\r\n            { props.webApp.elements}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    webApp: state.webApp,\r\n    menuStyle: state.readPanel.menuStyle,\r\n    target: state.readPanel.target,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    setMenuStyle: (style) => {\r\n        dispatch(actions.setMenuStyle(style))\r\n    },\r\n    hiddenMenu: () => {\r\n        dispatch(actions.hiddenMenu())\r\n    }\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ReadPanel);\r\n\r\nfunction Menu(props) {\r\n\r\n    const style = {\r\n        opacity: 0,\r\n        pointerEvents: 'none',\r\n        left: '-5rem',\r\n    }\r\n\r\n    const hidden = () => {\r\n        props.hiddenMenu({})\r\n    }\r\n\r\n    const hiddenTarget = () => {\r\n        if (!props.target) hidden();\r\n        props.target.classList.add('wrp-rp-hidden')\r\n        hidden();\r\n    }\r\n\r\n    const removeTarget = () => {\r\n        if (!props.target) hidden();\r\n        props.target.classList.add('wrp-rp-remove')\r\n        hidden();\r\n    }\r\n\r\n    const showTarget = () => {\r\n        if (!props.target) hidden();\r\n        props.target.classList.remove('wrp-rp-hidden')\r\n        hidden();\r\n    }\r\n\r\n    return (\r\n        <div id=\"wrp-rp-menu\" style={{ ...style, ...props.menuStyle }}>\r\n            <div\r\n                className=\"wrp-nav-item\"\r\n                onClick={hidden}\r\n            >\r\n                <svg\r\n                    className=\"wrp-nav-item-icon\"\r\n                    fill=\"var(--t-fore-c)\"\r\n                    viewBox=\"0 0 1024 1024\"\r\n                    width=\"200\"\r\n                    height=\"200\"\r\n                >\r\n                    <defs>\r\n                        <style type=\"text/css\"></style>\r\n                    </defs>\r\n                    <path\r\n                        d=\"M877.216 491.808M575.328 510.496 946.784 140.672c17.568-17.504 17.664-45.824 0.192-63.424-17.504-17.632-45.792-17.664-63.36-0.192L512.032 446.944 143.712 77.216C126.304 59.712 97.92 59.648 80.384 77.12 62.848 94.624 62.816 123.008 80.288 140.576l368.224 369.632L77.216 879.808c-17.568 17.504-17.664 45.824-0.192 63.424 8.736 8.8 20.256 13.216 31.776 13.216 11.424 0 22.848-4.352 31.584-13.056l371.36-369.696 371.68 373.088C892.192 955.616 903.68 960 915.168 960c11.456 0 22.912-4.384 31.648-13.088 17.504-17.504 17.568-45.824 0.096-63.392L575.328 510.496 575.328 510.496zM575.328 510.496\"\r\n                        p-id=\"10091\"\r\n                    ></path>\r\n                </svg>\r\n                <div className=\"wrp-nav-item-title\"></div>\r\n            </div>\r\n            <div className=\"wrp-nav-item\" onClick={hiddenTarget}>\r\n                <svg\r\n                    className=\"wrp-nav-item-icon\"\r\n                    fill=\"var(--t-fore-c)\"\r\n                    viewBox=\"0 0 1024 1024\"\r\n                    width=\"200\"\r\n                    height=\"200\"\r\n                >\r\n                    <defs>\r\n                        <style type=\"text/css\"></style>\r\n                    </defs>\r\n                    <path\r\n                        d=\"M947.6 477.2c-85-106-175.9-177.5-272.8-214.7l60.1-122.3c8.8-17.8 1.4-39.5-16.4-48.2-17.8-8.8-39.5-1.4-48.2 16.4l-65.6 133.4c-30.4-6.4-61.3-9.6-92.7-9.6-159.3 0-304.5 81.7-435.6 245-8.3 10.2-12.4 22.6-12.4 35s4.1 24.8 12.3 35.1C161.3 653.2 252.2 724.7 349 762l-59.9 121.9c-8.8 17.8-1.4 39.5 16.4 48.2s39.5 1.3 48.2-16.4l65.3-133c30.4 6.4 61.4 9.6 93 9.6 159.3 0 304.5-81.7 435.6-245 16.4-20.5 16.4-49.7 0-70.1z m-799.1 35c112.4-140 232.8-207.8 363.5-207.8 20.1 0 39.9 1.6 59.6 4.8L544.7 364c-10.5-2.3-21.5-3.5-32.7-3.5-83.8 0-151.8 68-151.8 151.8 0 46.7 21.1 88.5 54.4 116.4L381.4 696c-81.5-30.8-159-91.7-232.9-183.8z m443.3 0c0 43.8-35.3 79.4-79 79.8l62.9-127.9c10.1 13.4 16.1 30.1 16.1 48.1z m-159.6 0c0-43.8 35.2-79.2 78.8-79.8l-62.8 127.8c-10.1-13.3-16-29.9-16-48zM512 720c-20.2 0-40.1-1.6-59.7-4.9l26.9-54.7c10.6 2.3 21.6 3.6 32.8 3.6 83.8 0 151.8-68 151.8-151.8 0-46.8-21.2-88.6-54.5-116.5l33.1-67.4C724 359.1 801.5 420 875.5 512.2 763.1 652.2 642.6 720 512 720z\"\r\n                        p-id=\"7888\"\r\n                    ></path>\r\n                </svg>\r\n                <div className=\"wrp-nav-item-title\">隐藏</div>\r\n            </div>\r\n            <div className=\"wrp-nav-item\" onClick={removeTarget}>\r\n                <svg\r\n                    className=\"wrp-nav-item-icon\"\r\n                    fill=\"var(--t-fore-c)\"\r\n                    viewBox=\"0 0 1024 1024\"\r\n                    width=\"200\"\r\n                    height=\"200\"\r\n                >\r\n                    <defs>\r\n                        <style type=\"text/css\"></style>\r\n                    </defs>\r\n                    <path\r\n                        d=\"M668.8 896h-320c-48.64 0-88.32-37.76-92.8-87.68L211.2 403.2c-1.92-17.28 10.88-33.28 28.16-35.2 17.28-1.92 33.28 10.88 35.2 28.16l44.16 405.76c1.28 17.28 14.08 30.08 28.8 30.08h320c14.72 0 27.52-12.8 28.8-29.44l44.16-406.4c1.92-17.28 17.92-30.08 35.2-28.16 17.28 1.92 30.08 17.92 28.16 35.2l-44.16 405.76c-2.56 49.28-42.88 87.04-90.88 87.04zM826.24 321.28H190.72c-17.92 0-32-14.08-32-32s14.08-32 32-32h636.16c17.92 0 32 14.08 32 32s-14.72 32-32.64 32z\"\r\n                        p-id=\"13417\"\r\n                    ></path>\r\n                    <path\r\n                        d=\"M424.96 789.12c-16.64 0-30.72-12.8-32-29.44l-27.52-347.52c-1.28-17.92 11.52-33.28 29.44-34.56 17.92-1.28 33.28 11.52 34.56 29.44l27.52 347.52c1.28 17.92-11.52 33.28-29.44 34.56h-2.56zM580.48 789.12h-2.56c-17.92-1.28-30.72-16.64-29.44-34.56L576 407.04c1.28-17.92 16.64-30.72 34.56-29.44 17.92 1.28 30.72 16.64 29.44 34.56l-27.52 347.52c-1.92 16.64-15.36 29.44-32 29.44zM581.76 244.48c-17.92 0-32-14.08-32-32 0-23.68-19.2-43.52-43.52-43.52s-43.52 19.2-43.52 43.52c0 17.92-14.08 32-32 32s-32-14.08-32-32c0-59.52 48-107.52 107.52-107.52s107.52 48 107.52 107.52c0 17.28-14.08 32-32 32z\"\r\n                        p-id=\"13418\"\r\n                    ></path>\r\n                </svg>\r\n                <div className=\"wrp-nav-item-title\">移除</div>\r\n            </div>\r\n            <div className=\"wrp-nav-item\" onClick={showTarget}>\r\n                <svg\r\n                    className=\"wrp-nav-item-icon\"\r\n                    fill=\"var(--t-fore-c)\"\r\n                    viewBox=\"0 0 1024 1024\"\r\n                    width=\"200\"\r\n                    height=\"200\"\r\n                >\r\n                    <defs>\r\n                        <style type=\"text/css\"></style>\r\n                    </defs>\r\n                    <path\r\n                        d=\"M512.14 819c-136.83 0-253.2-59.32-326.73-109.08C97.84 650.6 35.29 581.25 12.15 538.82a56.53 56.53 0 0 1 0-54.35c23.14-42.44 85.69-111.79 173.26-171 73.53-49.77 189.9-109.09 326.73-109.09 137.53 0 253.1 57.92 325.84 106.51 40.4 27 78.56 58.49 110.35 91.12 28.79 29.53 51.46 59.18 63.84 83.48a57.94 57.94 0 0 1 0 52.4c-12.38 24.3-35 53.95-63.84 83.48-31.79 32.63-70 64.14-110.35 91.13C765.24 761 649.67 819 512.14 819zM67 511.64c10 17.43 28.73 40.66 51.89 64.2a672.78 672.78 0 0 0 100.8 83.41c66.45 45 171.14 98.59 292.48 98.59 122.21 0 226.18-52.32 291.89-96.21 78.53-52.46 133.92-114.07 152.88-150-19-35.92-74.35-97.53-152.88-150-65.71-43.89-169.68-96.21-291.89-96.21-121.34 0-226 53.61-292.48 98.59a672.23 672.23 0 0 0-100.8 83.42C95.7 471 76.93 494.21 67 511.64z\"\r\n                        fill=\"#333333\"\r\n                        p-id=\"8662\"\r\n                    ></path>\r\n                    <path\r\n                        d=\"M511.81 682.86c-94.41 0-171.22-76.81-171.22-171.22s76.81-171.22 171.22-171.22S683 417.23 683 511.64s-76.78 171.22-171.19 171.22z m0-278.44A107.22 107.22 0 1 0 619 511.64a107.34 107.34 0 0 0-107.19-107.22z\"\r\n                        fill=\"#333333\"\r\n                        p-id=\"8663\"\r\n                    ></path>\r\n                </svg>\r\n                <div className=\"wrp-nav-item-title\">显示</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst ToolMenu = connect(mapStateToProps, mapDispatchToProps)(Menu);\r\n\r\nexport {\r\n    ToolMenu,\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport * as actions from './actions/app';\r\nimport * as explActions from './actions/explanation';\r\nimport * as transActions from './actions/translate';\r\nimport * as aActions from './actions/a';\r\nimport * as rpActions from './actions/readPanel';\r\n\r\nimport ReactDOM from 'react-dom';\r\n\r\n// import {\r\n//     Link,\r\n//     withRouter,\r\n// } from 'react-router-dom'\r\n\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport './App.scss';\r\n\r\nimport ManageExplanation from './containers/ManageExplanation';\r\nimport ManageTranslatePanel from './containers/ManageTranslatePanel';\r\nimport A, { AModal } from './components/a';\r\nimport { ToolMenu } from './components/readPanel';\r\n\r\nimport { extractPart, targetActionFilter, linkIntercept, getPath, scrollToTop } from './utils/core';\r\nimport Touch, { Tap } from './utils/touch';\r\n\r\nfunction App(props) {\r\n\r\n    const hiddenSomeone = function (name) {\r\n        let names = name.split(' ');\r\n        names.map((name) => {\r\n            switch (name) {\r\n                case \"explainPanel\":\r\n                    this.props.setExplShow(false);\r\n                    break;\r\n                case \"linkDialog\":\r\n                    this.props.setAShow(false)\r\n                    break;\r\n            }\r\n        })\r\n    }\r\n\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n\r\n        const tapOptions = {\r\n            count: 3,\r\n            callback: () => {\r\n                console.log('连按3次')\r\n                history.push('/wrp-home')\r\n                scrollToTop();\r\n            }\r\n        }\r\n        const tap = new Tap(tapOptions);\r\n        const onClick = function (e) {\r\n            // console.log('window onClick e', e)\r\n            // action filter\r\n            if (targetActionFilter(e.path || getPath(e.target), 'tapword'))\r\n                props.tapWord(e);\r\n\r\n            linkIntercept(e, props.tapA);\r\n            tap.tap(e);\r\n            props.hiddenToolMenu();\r\n        }\r\n\r\n        const touch = new Touch();\r\n        const onTouchStart = function (e) {\r\n            // console.log('window onTouchStart', e)\r\n        }\r\n        touch.setOnStart(onTouchStart)\r\n        const onTouchMove = function (touch, e) {\r\n            // console.log('window onTouchMove', e)\r\n        }\r\n        touch.setOnMoving(onTouchMove)\r\n        const onTouchEnd = function (touch, e) {\r\n            console.log('window onTouchEnd', touch, e)\r\n            if (\r\n                Math.abs(touch.sumX) > 50 &&\r\n                Math.abs(touch.sumY) < 15\r\n            ) {\r\n                console.log('translate', touch)\r\n                props.slideTranslate(touch.target, touch.startX, touch.startY)\r\n            }\r\n\r\n            if (\r\n                touch.duration > 800 &&\r\n                touch.duration < 1200 &&\r\n                Math.abs(touch.sumX) < 8 &&\r\n                Math.abs(touch.sumY) < 5\r\n            ) {\r\n                if (targetActionFilter(e.path, 'toolmenu'))\r\n                    props.showToolMenu(touch.target, touch.startX, touch.startY)\r\n            }\r\n        }\r\n        touch.setOnEnd(onTouchEnd)\r\n\r\n        let scrolling = false\r\n        let timestamp = 0;\r\n        let scrollTop = 0;\r\n        let scrollOffset = 0;\r\n        /**\r\n         * 连续滚动时长超过300ms 触发\r\n         * \r\n         * @param {*} e \r\n         */\r\n        const onScroll = function (e) {\r\n            // console.log('-')\r\n            if (scrolling) return;\r\n\r\n            scrolling = true;\r\n            setTimeout(() => {\r\n                scrolling = false;\r\n                timestamp = Date.now();\r\n                scrollOffset = document.documentElement.scrollTop - scrollTop\r\n                if (Math.abs(scrollOffset) > 50) {\r\n                    props.setExplShow(false);\r\n                    props.setAShow(false);\r\n                };\r\n            }, 300);\r\n\r\n            // console.log(Date.now() - timestamp, e)\r\n            if (Date.now() - timestamp < 20) {\r\n                props.setExplShow(false);\r\n                props.setAShow(false);\r\n            }\r\n            props.hiddenToolMenu();\r\n            scrollTop = document.documentElement.scrollTop;\r\n        }\r\n        const touchEventCapture = true;\r\n        window.addEventListener('click', onClick, true)\r\n        // { passive: false }\r\n        window.addEventListener('touchstart', touch.start, { capture: touchEventCapture, passive: false });\r\n        window.addEventListener('touchmove', touch.move);\r\n        window.addEventListener('touchend', touch.end);\r\n        window.addEventListener('scroll', onScroll, { capture: touchEventCapture, passive: false });\r\n\r\n        return () => {\r\n            window.removeEventListener('click', onClick, true);\r\n            window.removeEventListener('touchstart', touch.start, { capture: touchEventCapture, passive: false });\r\n            window.removeEventListener('touchmove', touch.move);\r\n            window.removeEventListener('touchend', touch.end);\r\n            window.removeEventListener('scroll', onScroll, { capture: touchEventCapture, passive: false });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            { console.log('⛑ App.js render')}\r\n            <div id=\"wrp-app\" data-wrp-action-block=\"toolmenu\" >\r\n                <div className=\"wrp-view\">\r\n                    <ManageTranslatePanel />\r\n                    <AModal />\r\n                    <ToolMenu />\r\n                </div>\r\n                <ManageExplanation />\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    // app: state.app,\r\n    // a: state.a,\r\n    // explShow: state.explanation.show,\r\n    // aShow: state.a.show,\r\n    // toolMenuShow: state,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    setStatus: (status) => {\r\n        dispatch(actions.setStatus(status))\r\n    },\r\n    setHistory: (item) => {\r\n        dispatch(actions.setHistory(item))\r\n    },\r\n    setXmlDoc: xmlDoc => {\r\n        dispatch(actions.setXmlDoc(xmlDoc))\r\n    },\r\n    tapWord: events => {\r\n        dispatch(explActions.tapWord(events))\r\n    },\r\n    loadWordData: word => {\r\n        dispatch(explActions.loadWordData(word))\r\n    },\r\n    setExplShow: show => {\r\n        dispatch(explActions.setShow(show))\r\n        // dispatch(explActions.setSetting({ show: false }))\r\n        // dispatch(explActions.setMore([]))\r\n        // dispatch(explActions.setMoreFold(false))\r\n    },\r\n    setAShow: isShow => {\r\n        dispatch(aActions.setShow(isShow))\r\n    },\r\n    tapA: a => {\r\n        dispatch(aActions.tapA(a))\r\n    },\r\n    loadXmlDoc: url => {\r\n        console.log(`mapDispatchToProps: input: ${url}`)\r\n        dispatch(actions.loadXmlDoc(url))\r\n    },\r\n    setUrl: url => {\r\n        dispatch(actions.setUrl(url))\r\n    },\r\n\r\n    slideTranslate: (target, x, y) => {\r\n        dispatch(transActions.slideTranslate(target, x, y))\r\n    },\r\n\r\n    showToolMenu: (target, x, y) => {\r\n        dispatch(rpActions.showMenu(target, x, y))\r\n    },\r\n\r\n    hiddenToolMenu: () => {\r\n        dispatch(rpActions.hiddenMenu())\r\n    }\r\n\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","import axios from 'axios'\r\nimport { htmlTraversal, extractHead, extractAbstract, scrollToTop } from '../utils/core'\r\n\r\nexport const setStatus = (status) => ({\r\n    type: \"webApp/SETSTATUS\",\r\n    status\r\n})\r\n\r\nexport const setXmlDoc = (xmlDoc) => ({\r\n    type: \"webApp/SETXMLDOC\",\r\n    xmlDoc\r\n})\r\n\r\nexport const setUrl = (url) => ({\r\n    type:\"webApp/SETURI\",\r\n    url\r\n})\r\n\r\nexport const setKey = (key) => ({\r\n    type: \"webApp/SETKEY\",\r\n    key\r\n})\r\n\r\nexport const setLocation = (location) => {\r\n    if (location === undefined) {\r\n        return ({\r\n            type: \"webApp/SETLOCATION\",\r\n            location: {}\r\n        })\r\n    }\r\n    \r\n    if (typeof(location) === 'string') {\r\n        return ({\r\n            type: \"webApp/SETLOCATION\",\r\n            location: {\r\n                path: location\r\n            }\r\n        })\r\n    }\r\n\r\n    if(typeof(location) === 'object') {\r\n        return ({\r\n            type: \"webApp/SETLOCATION\",\r\n            location\r\n        })\r\n    }\r\n}\r\n\r\n/** historyList 为当前完成List, item 为新条目，可为空 */\r\nexport const setHistory = (item) => {\r\n    \r\n    let historyList = JSON.parse(localStorage.getItem('read_history'));\r\n    if( ! Array.isArray(historyList)) historyList = [];\r\n\r\n    console.log('historyList', historyList)\r\n\r\n    if(item){\r\n        historyList = historyList.filter(v => v.url !== item.url || v.key !== item.key)\r\n\r\n        console.log('actions app : history.push: ', item)\r\n        historyList.push(item);\r\n    }\r\n\r\n    while(historyList.length > 200){\r\n        // Array.shift() 移除数组中的第一个值并返回\r\n        let remove = historyList.shift();\r\n        if(remove.key) localStorage.removeItem(remove.key);\r\n    }\r\n\r\n    console.log('actions setHistory 3', historyList);\r\n\r\n    // 存储\r\n    let historyStr = JSON.stringify(historyList);\r\n    localStorage.setItem('read_history', historyStr);\r\n\r\n    return ({\r\n        type: \"webApp/SETHISTORY\",\r\n        history: historyList\r\n    })\r\n}\r\n\r\nexport const setHeads = (heads) => ({\r\n    type: \"webApp/SETHEADS\",\r\n    heads\r\n})\r\n\r\nexport const loadXmlDoc = (input) => {\r\n    console.log('action creaters loadXMLDoc')\r\n    if (!input) return;\r\n    return dispatch => {\r\n\r\n        let encode = encodeURIComponent(input);\r\n        let url2 = `https://1773134661611650.ap-northeast-1.fc.aliyuncs.com/2016-08-15/proxy/Tr/tr/?url=${encode}`;\r\n        let url = `https://1773134661611650.ap-northeast-1.fc.aliyuncs.com/2016-08-15/proxy/Tr/tr/?url=${encode}`;\r\n        url = `https://1773134661611650.cn-shanghai.fc.aliyuncs.com/2016-08-15/proxy/wrp/wrp_server/get?url=${encode}`;\r\n\r\n        // let url = `http://47.94.145.177:8000/get?url=${encode}`;\r\n        console.log(\"input:\", input)\r\n        let inputObj = new URL(input);\r\n        let timeout = 60000;\r\n        switch(inputObj.host){\r\n            case \"www.wikipedia.org\":\r\n            case \"wikibooks.org\":\r\n            case \"m.wikipedia.org\":\r\n            case \"en.wikipedia.org\":\r\n            case \"en.m.wikipedia.org\":\r\n            case \"twitter.com\":\r\n            case \"t.co\":\r\n            case \"news.google.com\":\r\n            case \"developer.chrome.com\":\r\n            case \"www.bbc.com\":\r\n            case \"bbc.com\":\r\n            case \"blog.diigo.com\":\r\n            case \"diigo.com\":\r\n            case \"www.kali.org\":\r\n                url = url2;\r\n                timeout = 80000;\r\n                break;\r\n            case \"localhost:3000\":\r\n            case \"localhost:8888\":\r\n                url = input;\r\n                break;\r\n        }\r\n\r\n        return new Promise(async (resolve,reject) => {\r\n            // try{\r\n                let res = await axios({url:url, method:\"get\", timeout: timeout})\r\n                if (res.status === 200){\r\n                    // dispatch(setXmlDoc(res.data))\r\n                    console.log('doc parser')\r\n                    dispatch(docParser(res.data, input))\r\n                    // dispatch(setStatus('parsing'))\r\n                }else{\r\n                    console.log(`loadxmldoc status!=200, res:${res}`)\r\n                    dispatch(setStatus('failed'))\r\n                }\r\n            // }catch(e){\r\n            //     console.log(`loadxmldoc catch err : ${e}`)\r\n            //     dispatch(setStatus('failed'))\r\n            // }\r\n            \r\n            \r\n        })\r\n    }\r\n\r\n}\r\n\r\nexport const goRead = (input, currentUrl) => {\r\n    // input 可以是输入框输入, 历史banner中的url, 阅读页面中的url\r\n    return dispatch => {\r\n\r\n        let urlPattern = /^https?:\\/\\/(.+\\.\\w+.*)|(localhost.*)/\r\n        let isUrl = input.length < 10000 ? urlPattern.test(input) : false\r\n    \r\n        if (isUrl && input === currentUrl) {\r\n            // 将要打开的页面与当前阅读的页面是同一个\r\n            dispatch(setStatus('parsing'))\r\n            dispatch(setLocation('/wrp-read'))\r\n            return;\r\n        }\r\n        if( ! isUrl ) {\r\n            // input 不是url， 是文本\r\n            dispatch(setXmlDoc( input ))\r\n            dispatch(setUrl(''))\r\n            dispatch(setStatus('parsing'))\r\n            dispatch(setLocation('/wrp-read'))\r\n\r\n            return;\r\n        }\r\n    \r\n        // 将要打开的是新页面\r\n        dispatch(setStatus('loading'))\r\n        dispatch(loadXmlDoc(input))\r\n        dispatch(setLocation('/wrp-read'))\r\n\r\n    }\r\n\r\n}\r\n\r\nexport const setElements = (elements) => ({\r\n    type:\"webApp/SETELEMENTS\",\r\n    elements\r\n})\r\n\r\nexport const docParser = (doc, baseUrl, key='') => {\r\n    let t1 = Date.now()\r\n    let dom = (new DOMParser()).parseFromString(doc, 'text/html')\r\n\r\n    if(baseUrl) {\r\n        let base = dom.createElement('base');\r\n        console.log('base app.url', baseUrl)\r\n        base.href = new URL(baseUrl).origin; \r\n        dom.head.insertBefore(base, dom.head.firstChild);\r\n    }\r\n\r\n    let htmlElements = htmlTraversal(dom.body);\r\n    let t2 = Date.now()\r\n    console.log(\"traversal Runing time \", t2 - t1)\r\n\r\n    // this.htmlElements = htmlElements;\r\n    // this.abstract = null;\r\n\r\n    scrollToTop();\r\n\r\n    // 提取head， 渲染head\r\n    let heads = extractHead(dom.head);\r\n    // head(headChildList);\r\n    let abstract = extractAbstract(dom);\r\n    abstract = Object.assign(abstract, key ? { key : key }: { url : baseUrl})\r\n \r\n    return dispatch => {\r\n        dispatch(setElements(htmlElements))\r\n        dispatch(setHeads(heads))\r\n        dispatch(setStatus('completed'))\r\n        dispatch(setHistory(abstract))\r\n    }\r\n}","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link,\r\n    useLocation,\r\n    useRouteMatch,\r\n    useParams,\r\n    useHistory,\r\n    withRouter,\r\n} from 'react-router-dom';\r\n\r\nimport * as actions from './actions/webApp'\r\n\r\nimport { calcHash } from './utils/core';\r\n\r\nimport './home.scss';\r\n\r\nimport logo from './components/res/logo.png';\r\n\r\nfunction ItemCard(props) {\r\n    let data = props.data;\r\n    if (!data) data = {};\r\n    return (\r\n        <Link\r\n            to={`/wrp-read?url=${encodeURIComponent(data.url)}`}\r\n            className=\"wrp-card-wrapper wrp-cp\"\r\n            data-url={data.url}\r\n            data-key={data.key}\r\n        >\r\n            <div className=\"wrp-image-wrapper wrp-card-image\">\r\n                <img className=\"wrp-image\" src={data.icon}></img>\r\n            </div>\r\n            <div className=\"wrp-card-text-wrapper\">\r\n                <div className=\"wrp-ellipsis wrp-ct\">{data.title}</div>\r\n                <div className=\"wrp-cs\">{data.des}</div>\r\n            </div>\r\n        </Link>\r\n    )\r\n}\r\n\r\nfunction History(props) {\r\n    let List = [];\r\n    if (!props.readHistory) return List;\r\n    if (!Array.isArray(props.readHistory)) {\r\n        console.warn('Home.js History(props), props.readHistory is not an Array.')\r\n        return List;\r\n    }\r\n    for (let i of props.readHistory) {\r\n        List.unshift(\r\n            <ItemCard\r\n                key={i.url || i.key}\r\n                data={i}\r\n            ></ItemCard>\r\n        )\r\n    }\r\n    return List;\r\n}\r\n\r\nfunction Home(props) {\r\n    const [focused, setFocused] = useState(false);\r\n    const [input, setInput] = useState('');\r\n\r\n    const urlPattern = /^https?:\\/\\/(.+\\.\\w+.*)|(localhost.*)/;\r\n\r\n    const onKeyUp = () => {\r\n\r\n    }\r\n\r\n    const onChange = (e) => {\r\n        // console.log('onChange');\r\n        setInput(e.currentTarget.value)\r\n    }\r\n\r\n    const onPaste = (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        // console.log('onPaste');\r\n        let copiedText = e.clipboardData.getData('text/plain');\r\n        let copiedRichText = e.clipboardData.getData('text/html');\r\n        if (!copiedRichText || copiedRichText.length <= copiedText.length) {\r\n            setInput(copiedText)\r\n        } else {\r\n            // 如果粘贴的不是url, 则尝试获取富文本\r\n            setInput(copiedRichText);\r\n        }\r\n    }\r\n\r\n    const go = () => {\r\n        let isUrl = input.length < 10000 && urlPattern.test(input);\r\n\r\n        if (isUrl) {\r\n            return readFromUrl(input);\r\n        }\r\n\r\n        let key = String(calcHash(input));\r\n        localStorage.setItem(key, input);\r\n        readFromText(key, input);\r\n    }\r\n\r\n    const readFromUrl = (url) => {\r\n        if (url === props.webApp.url) {\r\n            props.setStatus('parsing')\r\n            props.setLocation('/wrp-read')\r\n        } else {\r\n            props.setUrl(url)\r\n            props.setKey('')\r\n            props.setStatus('loading')\r\n            props.loadXmlDoc(url)\r\n            props.setLocation('/wrp-read')\r\n        }\r\n\r\n        // 转跳至 /wrp-read\r\n        props.history.push({\r\n            pathname: '/wrp-read',\r\n            search: `?url=${url}`\r\n        })\r\n    }\r\n\r\n    const readFromText = (key, value = '') => {\r\n        if (!value) value = localStorage.getItem(key)\r\n        props.setKey(key)\r\n        props.setXmlDoc(value)\r\n        props.setUrl('')\r\n        props.setStatus('parsing')\r\n        props.setLocation('/wrp-read')\r\n\r\n        // 转跳至 /wrp-read\r\n        props.history.push({\r\n            pathname: '/wrp-read',\r\n            search: `?key=${key}`\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"wrp-page\">\r\n            <div className=\"wrp-app-logo-container\">\r\n                <img className=\"wrp-app-logo\" src={logo} />\r\n                <h1 class=\"wrp-app-logo-title\" style={{ display: 'none' }}>Word Reading Beta</h1>\r\n            </div>\r\n            <div className={\"wrp-input-container \".concat(focused ? \"focused\" : \"\")}>\r\n                <div className=\"wrp-input-bar\">\r\n                    {focused ? (\r\n                        <div\r\n                            className=\"wrp-input-bar-button\"\r\n                            onClick={() => setFocused(false)}\r\n                        >\r\n                            <svg viewBox=\"0 0 1118 1024\" version=\"1.1\" width=\"218.359375\" height=\"200\" fill=\"var(--c-dark)\"><defs><style type=\"text/css\"></style></defs><path d=\"M229.42 558.545h841.125c25.707 0 46.546-20.839 46.546-46.545 0-25.706-20.84-46.545-46.546-46.545H229.42L544.913 149.96c18.177-18.177 18.177-47.648 0-65.825-18.178-18.177-47.648-18.177-65.826 0L84.137 479.087c-9.09 9.089-13.634 21.001-13.634 32.913 0 11.912 4.545 23.824 13.633 32.913l394.951 394.95c18.178 18.178 47.648 18.178 65.826 0 18.177-18.176 18.177-47.647 0-65.824L229.419 558.545z\" p-id=\"5564\"></path></svg>\r\n                        </div>\r\n                    ) : ''}\r\n                    <input\r\n                        className={\"wrp-input \".concat(focused ? \"wrp-input-focused\" : \"\")}\r\n                        id=\"wrp-home-input\"\r\n                        autoComplete=\"on\"\r\n                        contentEditable=\"true\"\r\n                        onChange={onChange}\r\n                        onKeyUp={onKeyUp}\r\n                        onPaste={onPaste}\r\n                        onFocus={() => setFocused(true)}\r\n                        type=\"text\"\r\n                        placeholder=\"输入文章或链接\"\r\n                        value={input}\r\n                    ></input>\r\n                    {focused ? (\r\n                        <div\r\n                            className=\"wrp-input-bar-button wb-clearinput\"\r\n                            onClick={() => setInput('')}\r\n                        >\r\n                            <svg viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\" fill=\"var(--c-dark)\"><defs><style type=\"text/css\"></style></defs><path d=\"M512 0a512 512 0 0 0-512 512 512 512 0 0 0 512 512 512 512 0 0 0 512-512 512 512 0 0 0-512-512z m241.005714 703.268571a32.182857 32.182857 0 0 1 0.512 45.348572 32.182857 32.182857 0 0 1-45.348571 0.512L512 556.763429 315.830857 748.982857a31.963429 31.963429 0 1 1-44.836571-45.787428L466.285714 512l-195.291428-191.268571a32.182857 32.182857 0 0 1-0.512-45.348572 32.182857 32.182857 0 0 1 45.348571-0.512L512 467.236571 708.169143 275.017143a31.963429 31.963429 0 1 1 44.836571 45.787428L557.714286 512l195.291428 191.268571z\" p-id=\"10064\"></path></svg>\r\n                        </div>\r\n                    ) : ''}\r\n                    <div className=\"wrp-input-bar-go\" onClick={go}>\r\n                        <svg viewBox=\"0 0 218.36 200\"><path fill=\"var(--c-light)\" d=\"M187.14,109.09l-61.62,61.62a9.09,9.09,0,0,0,12.86,12.86l77.14-77.14a9.1,9.1,0,0,0,0-12.86L138.38,16.43a9.09,9.09,0,1,0-12.86,12.86l61.62,61.62H22.86a9.09,9.09,0,1,0,0,18.18Z\" /></svg>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            <div>\r\n                <History readHistory={props.readHistory}></History>\r\n            </div>\r\n            <div>\r\n                {/**推荐文章 */}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    readHistory: state.webApp.history,\r\n    webApp: state.webApp,\r\n    app: state.app,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    goRead: (input, currentUrl) => {\r\n        dispatch(actions.goRead(input, currentUrl))\r\n    },\r\n    setUrl: url => {\r\n        dispatch(actions.setUrl(url))\r\n    },\r\n    setKey: key => {\r\n        dispatch(actions.setKey(key))\r\n    },\r\n    loadXmlDoc: (url) => {\r\n        dispatch(actions.loadXmlDoc(url))\r\n    },\r\n    setStatus: status => {\r\n        dispatch(actions.setStatus(status))\r\n    },\r\n    setLocation: location => {\r\n        dispatch(actions.setLocation(location))\r\n    },\r\n    setXmlDoc: xmlDoc => {\r\n        dispatch(actions.setXmlDoc(xmlDoc))\r\n    }\r\n})\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Home));\r\nexport { ItemCard }\r\n\r\n\r\n\r\n// 废弃\r\nclass _Home extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            // ReactRouter_DeclarativeRoutingForReact.js.html\r\n            // https://github.com/reactjs/react-router-tutorial/tree/master/lessons/08-index-routes \r\n            // 点击Next: Index Links 中的非文字部分，不弹出转跳框\r\n            input: 'https://',  //  paste.html   Golden_swallow-Wiki.html   wikipedia-1.html\r\n            typing: false,\r\n\r\n        };\r\n        this.urlPattern = /^https?:\\/\\/(.+\\.\\w+.*)|(localhost.*)/;\r\n        this.jumpChange = 0;\r\n    }\r\n\r\n    handleChange(e) {\r\n        if (this.jumpChange >= 1) {\r\n            // console.log('change jump', e, e.currentTarget.value);\r\n            this.jumpChange -= 1;\r\n            return '';\r\n        };\r\n        // console.log('change', e, e.currentTarget.value);\r\n        let input = e.currentTarget.value;\r\n        if (this.state.input != input) {\r\n            // console.log('setState')\r\n            this.setState({\r\n                input: input\r\n            })\r\n        }\r\n    }\r\n\r\n    handlePaste(e) {\r\n        console.log('paste', e.clipboardData.getData('text/plain'), e.clipboardData.getData('text/html'));\r\n        let pasteText = e.clipboardData.getData('text/plain');\r\n        if (this.urlPattern.test(pasteText)) {\r\n            // 粘贴的为url, 不进行操作\r\n        } else {\r\n            // 如果粘贴的不是url, 则尝试获取富文本\r\n            let pasteHtml = e.clipboardData.getData('text/html');\r\n            let input = this.state.input;\r\n            if (pasteHtml != '' && input == '') {\r\n                console.log('获取html', input + pasteHtml);\r\n                if (this.state.input != pasteHtml) {\r\n                    this.jumpChange += 1;\r\n                    this.setState({\r\n                        input: input + pasteHtml\r\n                    })\r\n                }\r\n                // e.currentTarget.value = pasteHtml;\r\n                // this.input = pasteHtml;\r\n            }\r\n        }\r\n    }\r\n\r\n    goRead() {\r\n        console.log(`home.js goRead: ${this.state.input} url: ${this.props.webApp.url}`)\r\n\r\n        let input = this.state.input\r\n\r\n        let a = /^(?=^.{3,255}$)[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+$/\r\n\r\n        let urlPattern = /^http(s)?:\\/\\/\\w{0,62}(\\.?\\w{0,62})+\\.\\w{1,62}([:\\/].*)*$/\r\n        let isUrl = input.length < 10000 ? urlPattern.test(input) : false\r\n\r\n        if (isUrl) {\r\n            this.readFromUrl(input)\r\n        } else {\r\n            const getHash = (s) => {\r\n                return s.split(\"\").reduce(function (a, b) { a = ((a << 5) - a) + b.charCodeAt(0); return a & a }, 0);\r\n            }\r\n            const t1 = new Date()\r\n            let key = String(getHash(input))\r\n            const t2 = new Date()\r\n            console.log('getHash: time', t2 - t1, key)\r\n            localStorage.setItem(key, input)\r\n            this.readFromText(key, input)\r\n        }\r\n\r\n    }\r\n\r\n    readFromUrl(url) {\r\n        if (url === this.props.webApp.url) {\r\n            this.props.setStatus('parsing')\r\n            this.props.setLocation('/wrp-read')\r\n        } else {\r\n            this.props.setUrl(url)\r\n            this.props.setKey('')\r\n            this.props.setStatus('loading')\r\n            this.props.loadXmlDoc(url)\r\n            this.props.setLocation('/wrp-read')\r\n        }\r\n        // 转跳至 /wrp-read\r\n        this.props.history.push({\r\n            pathname: '/wrp-read',\r\n            search: `?url=${url}`\r\n        })\r\n    }\r\n\r\n    readFromText(key, value = '') {\r\n        if (!value) value = localStorage.getItem(key)\r\n        this.props.setKey(key)\r\n        this.props.setXmlDoc(value)\r\n        this.props.setUrl('')\r\n        this.props.setStatus('parsing')\r\n        this.props.setLocation('/wrp-read')\r\n\r\n        // 转跳至 /wrp-read\r\n        this.props.history.push({\r\n            pathname: '/wrp-read',\r\n            search: `?key=${key}`\r\n        })\r\n    }\r\n\r\n    onClickCard(e) {\r\n        e.preventDefault()\r\n        console.log(`e : ${e}`, e, e.currentTarget.dataset.input)\r\n        let url = e.currentTarget.dataset.url\r\n        let key = e.currentTarget.dataset.key\r\n        if (key) this.readFromText(key)\r\n        if (url) this.readFromUrl(url)\r\n\r\n    }\r\n\r\n    handleKeyUp(e) {\r\n        console.log('handleKeyUp', e)\r\n        if (e.key == \"Enter\") {\r\n            this.goRead();\r\n        }\r\n    }\r\n\r\n    setTyping(value) {\r\n        if (this.state.typing == value) return;\r\n        this.setState({\r\n            typing: value\r\n        })\r\n    }\r\n\r\n    setInput(value, focus) {\r\n        console.log('setInput', value, focus)\r\n        if (focus) {\r\n            document.getElementById('whinput').focus();\r\n        }\r\n        if (typeof (value) !== 'string') return;\r\n        if (this.state.input == value) return;\r\n        this.setState({\r\n            input: value,\r\n        })\r\n    }\r\n\r\n    createHistory() {\r\n        let readHistory = this.props.readHistory;\r\n        // console.log('createHistory', readHistory);\r\n        if (!readHistory) return [];\r\n        let history = [];\r\n        for (let i in readHistory) {\r\n            // console.log('i loog',i);\r\n            history.unshift(<ItemCard\r\n                data={readHistory[i]}\r\n                onClick={(e) => this.onClickCard(e)}\r\n            ></ItemCard>)\r\n        }\r\n        // console.log('createHistory - a', history);\r\n        this.history = this.props.readHistory;\r\n        return history;\r\n    }\r\n\r\n    render() {\r\n        let typing = this.state.typing;\r\n        let history = this.createHistory();\r\n\r\n        return (<div className=\"wrp-page\">\r\n            <div className=\"wrp-app-logo-container\">\r\n                <img className=\"wrp-app-logo\" src={logo} />\r\n                {/*<h1 class=\"wrp-app-logo-title\">Word Reading Pro</h1>*/}\r\n            </div>\r\n            <div className={\"wrp-input-container \".concat(typing ? \"typing\" : \"\")}>\r\n                <div className=\"wrp-input-bar\">\r\n                    {typing ? (<div className=\"wrp-input-bar-button\" onClick={() => this.setTyping(false)}>\r\n                        <svg viewBox=\"0 0 1118 1024\" version=\"1.1\" width=\"218.359375\" height=\"200\" fill=\"var(--c-dark)\"><defs><style type=\"text/css\"></style></defs><path d=\"M229.42 558.545h841.125c25.707 0 46.546-20.839 46.546-46.545 0-25.706-20.84-46.545-46.546-46.545H229.42L544.913 149.96c18.177-18.177 18.177-47.648 0-65.825-18.178-18.177-47.648-18.177-65.826 0L84.137 479.087c-9.09 9.089-13.634 21.001-13.634 32.913 0 11.912 4.545 23.824 13.633 32.913l394.951 394.95c18.178 18.178 47.648 18.178 65.826 0 18.177-18.176 18.177-47.647 0-65.824L229.419 558.545z\" p-id=\"5564\"></path></svg>\r\n                    </div>) : ''}\r\n                    <input\r\n                        className={\"wrp-input \".concat(typing ? \"wrp-input-typing\" : \"\")}\r\n                        id=\"whinput\"\r\n                        autoComplete=\"on\"\r\n                        contentEditable=\"true\"\r\n                        onChange={(e) => this.handleChange(e)}\r\n                        onKeyUp={(e) => this.handleKeyUp(e)}\r\n                        onPaste={(e) => { this.handlePaste(e); }}\r\n                        onFocus={() => this.setTyping(true)}\r\n                        type=\"text\"\r\n                        placeholder=\"输入文章或链接\"\r\n                        value={this.state.input}\r\n                    ></input>\r\n                    {typing ? (<div className=\"wrp-input-bar-button wb-clearinput\" onClick={() => { this.setInput('', true) }}>\r\n                        <svg viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\" fill=\"var(--c-dark)\"><defs><style type=\"text/css\"></style></defs><path d=\"M512 0a512 512 0 0 0-512 512 512 512 0 0 0 512 512 512 512 0 0 0 512-512 512 512 0 0 0-512-512z m241.005714 703.268571a32.182857 32.182857 0 0 1 0.512 45.348572 32.182857 32.182857 0 0 1-45.348571 0.512L512 556.763429 315.830857 748.982857a31.963429 31.963429 0 1 1-44.836571-45.787428L466.285714 512l-195.291428-191.268571a32.182857 32.182857 0 0 1-0.512-45.348572 32.182857 32.182857 0 0 1 45.348571-0.512L512 467.236571 708.169143 275.017143a31.963429 31.963429 0 1 1 44.836571 45.787428L557.714286 512l195.291428 191.268571z\" p-id=\"10064\"></path></svg>\r\n                    </div>) : ''}\r\n                    <div className=\"wrp-input-bar-go\" onClick={() => { this.goRead() }}>\r\n                        <svg viewBox=\"0 0 218.36 200\"><path fill=\"var(--c-light)\" d=\"M187.14,109.09l-61.62,61.62a9.09,9.09,0,0,0,12.86,12.86l77.14-77.14a9.1,9.1,0,0,0,0-12.86L138.38,16.43a9.09,9.09,0,1,0-12.86,12.86l61.62,61.62H22.86a9.09,9.09,0,1,0,0,18.18Z\" /></svg>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            <div>\r\n                {history}\r\n            </div>\r\n            <div>\r\n                {/**推荐文章 */}\r\n            </div>\r\n        </div>\r\n        );\r\n    }\r\n}","import React from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport * as actions from './actions/app';\r\n\r\nimport './status.scss';\r\n\r\n\r\nfunction Status(props){\r\n    // props.status,\r\n    console.log('Status', props.status)\r\n\r\n    const handleClick = ()=>{\r\n        // 回退，将状态重置为completed\r\n        if(props.status == 'completed') return;\r\n        if(props.status == 'loading') return;\r\n        if(props.status == 'parsing') return;\r\n\r\n        try{\r\n            props.setStatus('completed')\r\n        }catch(e){\r\n            console.error('status.js: need props.setStatus() ', e);\r\n        }\r\n\r\n    }\r\n\r\n    const wrapper = (content)=>{\r\n        return (\r\n            <div \r\n                className=\"wrp-show-status\"\r\n                onClick = {handleClick}\r\n            >\r\n                {content}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const errorIcon = (\r\n        <div className=\"wrp-icon\">\r\n            <svg className=\"wrp-icon-svg\" viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\" fill=\"rgb(var(--t-c-e))\"><defs><style type=\"text/css\"></style></defs><path d=\"M512 0a512 512 0 0 0-512 512 512 512 0 0 0 512 512 512 512 0 0 0 512-512 512 512 0 0 0-512-512z m241.005714 703.268571a32.182857 32.182857 0 0 1 0.512 45.348572 32.182857 32.182857 0 0 1-45.348571 0.512L512 556.763429 315.830857 748.982857a31.963429 31.963429 0 1 1-44.836571-45.787428L466.285714 512l-195.291428-191.268571a32.182857 32.182857 0 0 1-0.512-45.348572 32.182857 32.182857 0 0 1 45.348571-0.512L512 467.236571 708.169143 275.017143a31.963429 31.963429 0 1 1 44.836571 45.787428L557.714286 512l195.291428 191.268571z\" p-id=\"10064\"></path></svg>\r\n        </div>\r\n    );\r\n\r\n    const button = (\r\n        <div>\r\n            <button>重试</button>\r\n            <button>返回</button>\r\n        </div>\r\n    );\r\n\r\n    var statusContent = '';\r\n    switch(props.status){\r\n        case \"loading\":\r\n        case \"parsing\":\r\n        default:\r\n            if(props.status == \"loading\" || props.status == \"parsing\"){\r\n                statusContent = wrapper(\r\n                    <>\r\n                        <div className=\"wrp-icon\">\r\n                            <div className=\"wrp-loading-icon\">\r\n                                <div/> <div/>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"wrp-status-tip\">{props.status==\"loading\"?\"加载中...\":\"解析中...\"}</div>\r\n                    </>\r\n                )\r\n            }\r\n            break;\r\n        case \"failed\":\r\n        case \"timeout\":\r\n            statusContent = wrapper(\r\n                <>\r\n                    {errorIcon}\r\n                    <div className=\"wrp-text\">{props.status==\"failed\"?\"加载失败\":\"加载超时\"}</div>\r\n                    <div className=\"wrp-text wrp-status-des\">\r\n                        加载此网址：\r\n                        <span className=\"wrp-warning\">{props.url}</span>\r\n                        <br/>发生问题，请检查网址!\r\n                    </div>\r\n                </>\r\n            )\r\n            break;\r\n        case \"typeError\":\r\n            statusContent = wrapper(\r\n                <>\r\n                    {errorIcon}\r\n                    <div className=\"wrp-text\">返回类型错误</div>\r\n                    <div className=\"wrp-text wrp-status-des\">\r\n                        此网址：\r\n                        <span className=\"wrp-warning\">{props.url}</span>\r\n                        <br/>返回不受支持的内容，请检查网址!\r\n                    </div>\r\n                </>\r\n            )\r\n            break;\r\n        case \"completed\":\r\n            statusContent = ''\r\n            break;\r\n    }\r\n\r\n    return statusContent\r\n            \r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    status: state.webApp.status\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setStatus: status => {\r\n        dispatch(actions.setStatus(status))\r\n    }\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Status);","import React from 'react';\r\n\r\nimport './findPage.scss';\r\nimport { withRouter } from 'react-router';\r\n\r\nimport {ItemCard} from '../Home.js';\r\n\r\n\r\nfunction itemCard(){\r\n\r\n    return (\r\n        <div className=\"wrp-card-wrapper wrp-cp\" onClick={()=>{}}>\r\n            <div className=\"wrp-image-wrapper wrp-card-image\">\r\n                {/*<img className=\"wrp-image\" src=\"https://lh6.googleusercontent.com/proxy/GICqS-kiP8lyGI9A7Qq-JJvzZl5HTfMjebIFUmD3k8rE4hMW2f7fBPpusTyl2KYNEF47lNVtuF5YFvfiXWTHqRghBA\"></img>*/}\r\n                <svg className=\"wrp-image \" height=\"32\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"32\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z\"></path></svg>\r\n            </div>\r\n            <div className=\"wrp-card-text-wrapper\">\r\n                <div className=\"wrp-ellipsis wrp-ct\">GitHub-Built for developers</div>\r\n                <div className=\"wrp-cs\">GitHub is a development platform inspired by the way you work. From open source to business, you can host and review code, manage projects, and build software alongside 40 million developers.</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction itemIcon(){\r\n\r\n    return (\r\n        <div className=\"wrp-nav-item wrp-item-icon\" onClick={()=>{}}>\r\n            <svg className=\"wrp-nav-item-icon \" height=\"32\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"32\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z\"></path></svg>\r\n            <div className=\"wrp-nav-item-title wrp-ellipsis\" >GitHub-Built for developers</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction FindPage(){\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className=\"wrp-card-container\">\r\n                <ItemCard data={{src:'',title:'a',des:'b'}} ></ItemCard>\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n            </div>\r\n            <div className=\"wrp-card-container\">\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\n// export {FindPage};\r\n// let withRouterFindPage = withRouter(FindPage);\r\n// export {FindPage};\r\nexport default withRouter(FindPage);","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport logo from \"./components/res/logo.png\";\r\nimport manifest from \"./manifest.json\";\r\n\r\nimport './Head.scss'\r\n\r\nfunction Head(props) {\r\n  return <div id=\"wrp-head\">{props.heads}</div>;\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  heads: state.webApp.heads,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Head);","import React, { useEffect } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link,\r\n    useLocation,\r\n    useRouteMatch,\r\n    useParams,\r\n    useHistory,\r\n    withRouter,\r\n\r\n} from 'react-router-dom';\r\nimport './webApp.scss';\r\n\r\nimport App from './App';\r\n// import {AppWithRouter as App} from './App';\r\nimport Home from './Home';\r\nimport Status from './status';\r\nimport './common.scss';\r\n\r\nimport { NavBar } from './components/navBar';\r\nimport FindPage from './components/findPage';\r\n\r\nimport { store } from './index'\r\nimport * as actions from './actions/webApp'\r\nimport * as aActions from './actions/a';\r\n\r\nimport { connect } from 'react-redux'\r\n\r\nimport Head from './Head';\r\nimport ReadPanel from './components/readPanel';\r\n\r\nimport { replaceScript } from './utils/core'\r\n\r\nfunction WebApp(props) {\r\n\r\n    const checkURI = () => {\r\n        console.log('webApp.js: checkURI()');\r\n\r\n        let urlParams = (new URL(window.location.href)).searchParams;\r\n        let url = urlParams.get('url');\r\n        let key = urlParams.get('key');\r\n\r\n        if (key) {\r\n            let doc = localStorage.getItem(key);\r\n            props.setXmlDoc(doc)\r\n            props.setStatus('parsing')\r\n        }\r\n\r\n        let elements = props.elements || []\r\n\r\n        if (!url) return;\r\n\r\n        if (url === props.app.url && elements.length !== 0) {\r\n\r\n        }\r\n\r\n        if (url === props.app.url && elements.length === 0) {\r\n            // this.props.setStatus('parsing')\r\n            // this.docParser(this.props.app.xmlDoc)\r\n            console.log('checkURI call docParser')\r\n            props.docParser(props.app.xmlDoc, props.app.url)\r\n            // this.props.setLocation('/wrp-read')\r\n        }\r\n\r\n        if (url !== props.app.url) {\r\n            // this.inputIsURL = true;\r\n            // if (this.input == url) return;\r\n            props.setUrl(url)\r\n            props.setStatus('loading')\r\n            props.loadXmlDoc(url)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        props.setHistory(null);\r\n\r\n        props.history.listen(location => {\r\n            if (props.app.status !== 'loading') {\r\n                checkURI()\r\n            }\r\n        })\r\n\r\n        checkURI();\r\n\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        replaceScript();\r\n\r\n        // 对页面内js控制的转跳进行重定向\r\n        let location = window.location;\r\n        let dir = location.pathname.split(\"/\")[1]; // 没有的话返回\"\"\r\n        switch (dir) {\r\n            case \"\":\r\n                props.history.push('/wrp-home');\r\n                break\r\n            case \"wrp-read\":\r\n            case \"wrp-home\":\r\n            case \"wrp-find\":\r\n            case \"wrp-word\":\r\n            case \"wrp-about\":\r\n            case \"wrp-test\":\r\n                break;\r\n            default:\r\n                console.log(\"pathname 为 其他路径\", dir);\r\n                // js转跳 或是 用户输入的路径\r\n                let origin;\r\n                let history = props.app.history\r\n                if (!history) break\r\n                if (history[history.length - 1]) {\r\n                    origin = new URL(history[history.length - 1].input).origin;\r\n                    let href = `${location.origin}/wrp-read?url=${encodeURIComponent(origin + location.pathname + location.search)}`;\r\n                    console.log('转跳目标 ->', origin + location.pathname + location.search)\r\n                    window.location.href = href;\r\n                } else {\r\n                    origin = window.location.origin + \"/wrp-home\";\r\n                    console.log('转跳目标', origin);\r\n                    window.location.href = origin;\r\n                }\r\n\r\n                // alert('转跳！');\r\n                // window.location.pathname = '/wrp-read';\r\n                // window.location.search = `?url=${encodeURIComponent(\"https://qq.com\")}`\r\n                break;\r\n        }\r\n\r\n    });\r\n\r\n    return (\r\n        <>\r\n            { console.log('⛑ webApp render') }\r\n            <Switch>\r\n                <Route path=\"/\" >\r\n                    <Switch>\r\n                        <Route exact path=\"/wrp-home\">\r\n                            <Home></Home>\r\n                        </Route>\r\n                        <Route path=\"/wrp-find\" >\r\n                            <FindPage></FindPage>\r\n                        </Route>\r\n                        <Route path=\"/wrp-word\" >\r\n                            <div>\r\n                                <h1>a {JSON.stringify({ ...props.a })}</h1>\r\n                                <h2>APP: {JSON.stringify({})}</h2>\r\n                                <button\r\n                                    onClick={props.testAction}>action</button>\r\n                            </div>\r\n                        </Route>\r\n                        <Route\r\n                            path=\"/wrp-word/:id\"\r\n                        >\r\n                            <div>\r\n                                <input type=\"text\" className=\"form-control input-sm header-search-input  js-site-search-focus \" data-hotkey=\"s,/\" name=\"q\" placeholder=\"Search GitHub\" data-unscoped-placeholder=\"Search GitHub\" data-scoped-placeholder=\"Search\" autocapitalize=\"off\" aria-label=\"Search GitHub\"></input>\r\n\r\n                                <input style={{ \"border\": \"1px solid #000\" }} onInput={() => { console.log('test entering') }}></input>\r\n\r\n                                <input style={{ \"border\": \"1px solid #000\" }} ></input>\r\n                            </div>\r\n                        </Route>\r\n                        <Route path=\"/:name\">\r\n                            <ReadPanel />\r\n                            <Head></Head>\r\n                            <App></App>\r\n                            <Status\r\n                            // url={this.input}\r\n                            />\r\n                        </Route>\r\n                    </Switch>\r\n                    {/* <NavBar path={this.props.path} /> */}\r\n                </Route>\r\n            </Switch>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n    // webApp: state.webApp,\r\n    app: state.app,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    setStatus: (status) => {\r\n        dispatch(actions.setStatus(status))\r\n    },\r\n\r\n    loadXmlDoc: url => {\r\n        console.log(`mapDispatchToProps: input: ${url}`)\r\n        dispatch(actions.loadXmlDoc(url))\r\n    },\r\n\r\n    setXmlDoc: doc => {\r\n        dispatch(actions.setXmlDoc(doc))\r\n    },\r\n\r\n    setHistory: (historyList, item) => {\r\n        dispatch(actions.setHistory(historyList, item))\r\n    },\r\n\r\n    setUrl: url => {\r\n        dispatch(actions.setUrl(url))\r\n    },\r\n\r\n    setAShow: isShow => {\r\n        dispatch(aActions.setShow(isShow))\r\n    },\r\n})\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(WebApp));\r\n\r\n// 废弃\r\nclass _WebApp extends React.Component {\r\n    constructor(props) {\r\n        console.log(`store: ${JSON.stringify(store)}`)\r\n        super(props);\r\n        this.input = \"\";\r\n        this.urlPattern = /^https?:\\/\\/(.+\\.\\w+.*)|(localhost.*)/;\r\n        // 初始化History\r\n        this.props.setHistory(null)\r\n    }\r\n\r\n    go(input, isUri) {\r\n        console.log(\"webApp.js: go() \", input, isUri);\r\n\r\n        // 当前网页\r\n        if (input == this.input) {\r\n            console.log('input = this.input 跳过加载')\r\n            this.props.setStatus('parsing')\r\n            //当前阅读的页面，跳过加载，直接渲染\r\n            return;\r\n        }\r\n\r\n        // 复制粘贴富文本\r\n        if (!isUri) {\r\n            this.props.setXmlDoc(input);\r\n            this.props.setStatus('parsing')\r\n            return;\r\n        }\r\n\r\n        // 新网页，加载\r\n        this.input = input;\r\n        this.inputIsURL = isUri;\r\n\r\n        this.props.setStatus('loading')\r\n        this.props.loadXmlDoc(input)\r\n    }\r\n\r\n    checkURI() {\r\n        console.log('webApp.js: checkURI()');\r\n\r\n        let urlParams = (new URL(window.location.href)).searchParams;\r\n        let url = urlParams.get('url');\r\n        let key = urlParams.get('key');\r\n\r\n        if (key) {\r\n            let doc = localStorage.getItem(key);\r\n            this.props.setXmlDoc(doc)\r\n            this.props.setStatus('parsing')\r\n        }\r\n\r\n        // if (url) {\r\n        //     this.inputIsURL = true;\r\n        //     if (this.input == url) return;\r\n        //     this.input = url;\r\n        //     this.props.setStatus('loading')\r\n        //     this.props.loadXmlDoc(url)\r\n        // }\r\n\r\n        let elements = this.props.elements || []\r\n\r\n        if (!url) return;\r\n\r\n        if (url === this.props.app.url && elements.length !== 0) {\r\n\r\n        }\r\n\r\n        if (url === this.props.app.url && elements.length === 0) {\r\n            // this.props.setStatus('parsing')\r\n            // this.docParser(this.props.app.xmlDoc)\r\n            console.log('checkURI call docParser')\r\n            this.props.docParser(this.props.app.xmlDoc, this.props.app.url)\r\n            // this.props.setLocation('/wrp-read')\r\n        }\r\n\r\n        if (url !== this.props.app.url) {\r\n            this.inputIsURL = true;\r\n            if (this.input == url) return;\r\n            this.props.setUrl(url)\r\n            this.props.setStatus('loading')\r\n            this.props.loadXmlDoc(url)\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log('webApp.js: componentWillMount');\r\n        console.log(`store: ${JSON.stringify(store)}`)\r\n        this.componentDidUpdate();\r\n\r\n        this.props.history.listen(location => {\r\n            console.log('history.listen', location, window.location)\r\n            let url = new URLSearchParams(window.location.search).get('url')\r\n            if (this.props.app.status !== 'loading') {\r\n                this.checkURI()\r\n            }\r\n        })\r\n\r\n        this.checkURI()\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        replaceScript();\r\n\r\n        // 手动触发 DOMContentLoaded\r\n        var DOMContentLoaded_event = document.createEvent(\"Event\");\r\n        DOMContentLoaded_event.initEvent(\"DOMContentLoaded\", true, true);\r\n        window.document.dispatchEvent(DOMContentLoaded_event)\r\n\r\n        console.log('webApp.js: componentDidUpdate', window.location);\r\n\r\n        // 对页面内js控制的转跳进行重定向\r\n        let location = window.location;\r\n        let dir = location.pathname.split(\"/\")[1]; // 没有的话返回\"\"\r\n        switch (dir) {\r\n            case \"\":\r\n                this.props.history.push('/wrp-home');\r\n                break\r\n            case \"wrp-read\":\r\n            case \"wrp-home\":\r\n            case \"wrp-find\":\r\n            case \"wrp-word\":\r\n            case \"wrp-about\":\r\n            case \"wrp-test\":\r\n                break;\r\n            default:\r\n                console.log(\"pathname 为 其他路径\", dir);\r\n                // js转跳 或是 用户输入的路径\r\n                let newSearch = `?url=${encodeURIComponent(this.input + location.pathname + location.search)}`;\r\n                let origin;\r\n                let history = this.props.app.history\r\n                if (!history) break\r\n                if (history[history.length - 1]) {\r\n                    origin = new URL(history[history.length - 1].input).origin;\r\n                    let href = `${location.origin}/wrp-read?url=${encodeURIComponent(origin + location.pathname + location.search)}`;\r\n                    console.log('转跳目标 ->', origin + location.pathname + location.search)\r\n                    window.location.href = href;\r\n                } else {\r\n                    origin = window.location.origin + \"/wrp-home\";\r\n                    console.log('转跳目标', origin);\r\n                    window.location.href = origin;\r\n                }\r\n\r\n                // alert('转跳！');\r\n                // window.location.pathname = '/wrp-read';\r\n                // window.location.search = `?url=${encodeURIComponent(\"https://qq.com\")}`\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        console.log('webApp.js: render()');\r\n        console.log(`store: ${JSON.stringify(store)}`)\r\n\r\n        let Page = (\r\n            <>\r\n                <Switch>\r\n                    <Route path=\"/\" >\r\n                        <Switch>\r\n                            <Route exact path=\"/wrp-home\">\r\n                                <Home\r\n                                    setInput={(input, type) => this.go(input, type)}\r\n                                ></Home>\r\n                            </Route>\r\n                            <Route path=\"/wrp-find\" >\r\n                                <FindPage></FindPage>\r\n                            </Route>\r\n                            <Route path=\"/wrp-word\" >\r\n                                <div>\r\n                                    <h1>a {JSON.stringify({ ...this.props.a })}</h1>\r\n                                    <h2>APP: {JSON.stringify({})}</h2>\r\n                                    <button\r\n                                        onClick={this.props.testAction}>action</button>\r\n                                </div>\r\n                            </Route>\r\n                            <Route\r\n                                path=\"/wrp-word/:id\"\r\n                            >\r\n                                <div>\r\n                                    <input type=\"text\" className=\"form-control input-sm header-search-input  js-site-search-focus \" data-hotkey=\"s,/\" name=\"q\" placeholder=\"Search GitHub\" data-unscoped-placeholder=\"Search GitHub\" data-scoped-placeholder=\"Search\" autocapitalize=\"off\" aria-label=\"Search GitHub\"></input>\r\n\r\n                                    <input style={{ \"border\": \"1px solid #000\" }} onInput={() => { console.log('test entering') }}></input>\r\n\r\n                                    <input style={{ \"border\": \"1px solid #000\" }} ></input>\r\n                                </div>\r\n                            </Route>\r\n                            <Route path=\"/:name\">\r\n                                <ReadPanel\r\n                                    padding={!this.props.url}\r\n                                    content={this.props.app.elements}\r\n                                />\r\n                                <Head></Head>\r\n                                <App></App>\r\n                                {\r\n                                    // this.showStatus()\r\n                                }\r\n                                <Status\r\n                                    url={this.input}\r\n                                />\r\n                            </Route>\r\n                        </Switch>\r\n                        {/* <NavBar path={this.props.path} /> */}\r\n                    </Route>\r\n                </Switch>\r\n            </>\r\n        );\r\n\r\n        return Page;\r\n    }\r\n}\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport rootReducer from './reducers';\r\nimport thunk from 'redux-thunk';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link,\r\n    useLocation,\r\n    useRouteMatch,\r\n    useParams,\r\n    useHistory,\r\n    withRouter,\r\n\r\n} from 'react-router-dom';\r\n\r\n\r\n// import ReactDOMServer from 'react-dom/server';\r\n// import ReactHtmlParser from 'react-html-parser';\r\n\r\nimport WebApp from './webApp';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nconst traget = document.getElementById('wrp-root')\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n    rootReducer,\r\n    composeEnhancers(\r\n        applyMiddleware(thunk)\r\n    )\r\n);\r\n\r\nrender(\r\n    <Provider store={store}>\r\n        <Router>\r\n            <WebApp />\r\n        </Router>\r\n    </Provider>\r\n    , traget);\r\n\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n\r\nexport { store }","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/explainBoxArrow.cd1bf698.svg\";","module.exports = __webpack_public_path__ + \"static/media/audio.4030fa08.svg\";","module.exports = __webpack_public_path__ + \"static/media/star.e07fbbc9.svg\";","module.exports = __webpack_public_path__ + \"static/media/more.26f6d80d.svg\";","module.exports = __webpack_public_path__ + \"static/media/open.4645967c.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIcAAACPCAMAAADnajhVAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAADwUExURQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP39/fX19bW1tfr6+uvr64aGhv7+/tra2tzc3Ozs7Pj4+Pb29re3t/v7+/z8/PHx8eXl5fv7++Tk5IuLi9fX1729vff398LCwvr6+vr6+vPz88LCwtfX1+jo6Obm5vLy8szMzO/v7/j4+Lm5ufv7+/39/b+/v/n5+fHx8fb29o+Pj5KSksTExI2Njezs7CrMGcQAAABQdFJOUwAHCAkEBQYBAgMKCwwNDw4REBMSFRQXFhkaGBwbHR4fIAIIGAUNHAIUEg0HCBgDBAkPBBEaBhUGCgMECAUDDA0JCAcFFwIBFAQIBhgXEhkJC8EEWQAABhpJREFUeNrNnOdy2zoQRteWrxVfyypUoVok05HCOHac3nvvyfu/zUUjCQggRRIL6O5M/Edg5sxZgPioEQhQu5p6gfdq5tX/g8IrSXNbece4JpdnEDPEBop/iiNenklUiiO1VBIPHDLFAS+dxBOGxHAgsXgByTASin+ykkncgigYAuIwKYHiA0TFEBB7vASKCuIcg8kQEPu0BIpQ4hQk7UqKwRkatDiLDOKsMzJGQkER/qXFWRKSDMQLBmM4Pj6OyT/G4gNE4mAYRAaFaLVaH+Ej+UtRqBIG4o5D0UExiAxKcXJyQj4lfxkJVUJAHAoxYRCITqf9g3z6o93pEBQTiMuu7LGetChFu8c+77UpSYv1Zs9hZxQdKUa71+t+Z59/7/Z6bQnEkRChQ2BQjuMWddHt92M2IO73u9QJbQ1dNQIEW4jWFYpBKILgjRjxJggoiQBROuNKh4QxHMRiSDwYqiAuhEg6SFfYShEYb9MxbwUIWzWsM+hCNB1kihKM4SAcRemgaBQOhgSETFZXQhQdtCtkpXCM39Ko3xyErJqkM8hCMh18krKu9INBOB1fScOuxtNwEPRZZ6SpiidkUwfrCsP4qoz7ykDkzqAK2dDB1ko3GIaj8eRKGXg1GY/CYdBlawZfiK6DdGU4IBhPNkY+ISBkitDO4AvRdPCujKaT2eXG0MvZZDrincEXYtBB1ko4ncz/aGP/zCfTkK4ZfCEb9w6mg6yV0Xh+/UwbfHZ9TjpD1kwiBO8eYtIRUB2zR4bRj2ZUSIAvxKiDrhWTDiGEdAZdiDRLMx2sKwvj+AXvzIYQa44cHaQri9vGC24vWGewheTrWOZcsXQipKqOQiE+dbgRkixaXcf93GvuG4RYLt0CHVHuRRG+kE0drVTHecFV56mQFo6QWjocCFF1NErqUIU07IXIOg5VHXcLL7yrCjm0FGLSEQyojhtbrrxBhbBtF0GIkn+y3EF1rLZcuqJCshxil4c2Nnyqg7alhA4uhAezREjt7V+Ng/SZhabSUjoyISSp0oc7GyG6jnZpHZmQtq2QHB1TouOsxOVnRMgUQ0iOjvFscbPU9TcXszGCkDwdk3I6mJAJghBbHUhC1DjYyDb8sjokIR0hpE5A1HY4oWO+OC39f5wu5omQurtdfjperktzrJfWiTl3w6+gQxJSe/vH0FEoxDb/nFa6B51a5qHcdLx8WInj4dIqMRfoiCpxRHZC8tPxrYp75S2bxIymw1JIfjquqkMVUjEgFqTjB5U5HtRPzPXTMWpitkjHqInZJh0jJmardIyYmO3SMVpitkzHaInZPg6iBETrdIyUmF3oqCEEIR2jJGaMdIyQmJs4cdA6MeOkY/vE7EpHxcSMlY5tE3N+Ol5bc6zLJ2bEOGgVEPHSsVVidqqjghDMdGyRmAvScYTCEZVLzLjpuHZiRk7HtRMzdjqumZjR03HNxIyfjmsl5oJ0fIHIcbEtMbuJg5UDopN0XCMx+9KxRYijdFw5MbtKx1UTs7s4WC0gOkvH1RIzeNRRJATcpeNKiRny4uDaCcc6LyCCtuGj5p9teSi9l4Fhw9/+U4L6dc7zkLb9Q84OFzniiHJ2O2gab+mudDAhhpt7E8zPcJEzjsj8bAfGRXsH3NUd49IFYyxdOeRYGYMqmNriUgcRYmoMmNqycsqxMjUG9NUy/wRu69NcXzFgaMuFY44LQ2NACmIil/4E1/VTzal00wX9B9CXzjku9Z9TgzZNf4H7+qVNVNCm6VMPHE+1iQrSdw2cA3zUBseBxhHe88JxLyzmGIbgp5IDGWaO/vCdJ4537MiOkYPdP8BXDaUTOzIHP0/y0hvHS/l8iszBDpTE3jhifjwl4ziSzsT9BX/1VzprJ+5jyQTpxB454o58oAuks4onH8BnfTiRzkCCfFgx9soRy0cgQTq8+Qz81jPpSCikz/r7jW+eOb6x89z8mR+SA+h7++/Bd73nOjhHerr3hXeOF9mJYUhP5D8G//U4Pe0P6asBnu+A43n60gFIXl/xCnZRr5IXZIjvP44OPu+E47PA4N/DEJDXsJt6Ld7SAeKVHl92xPFFvCwExLtFYFcl3lnyHxBWPMa6+jxoAAAAAElFTkSuQmCC\""],"sourceRoot":""}