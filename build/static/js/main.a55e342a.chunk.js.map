{"version":3,"sources":["reducers/app.js","reducers/explanation.js","reducers/a.js","reducers/index.js","actions/app.js","actions/explanation.js","actions/a.js","components/word.js","components/switch.js","components/readPanel.js","components/Explanation.js","containers/ManageExplanation.js","components/translatePanel.js","head.js","components/a.js","App.js","Home.js","Status.js","components/navBar.js","components/findPage.js","webApp.js","serviceWorker.js","index.js","components/res/logo.png","components/res/explainBoxArrow.svg","components/res/audio.svg","components/res/star.svg","components/res/more.svg","components/res/open.svg","components/res/arrowShadow.png"],"names":["app","state","action","type","status","xmlDoc","url","console","log","history","location","key","explanation","count","word","coordinate","show","data","audio","zoom","Number","isNaN","more","Array","isArray","concat","filter","setting","isUnfold","unfoldMore","a","combineReducers","setStatus","setXmlDoc","setUrl","setLocation","undefined","path","setHistory","historyList","item","length","v","push","remove","shift","localStorage","removeItem","historyStr","JSON","stringify","setItem","loadXmlDoc","input","dispatch","encode","encodeURIComponent","url2","inputObj","URL","timeout","host","Promise","resolve","reject","axios","method","res","tapWord","setData","loadWordData","toLowerCase","iciba2Data","apiData","word_name","Object","keys","includes","symbols","ph_tts_mp3","audioUK","ph_en_mp3","audioUS","ph_am_mp3","answer","parts","map","o","part","means","join","i","match","addMore","setExplState","setSetting","setMoreFold","setShow","setSrc","props","style","touchMoving","movingRecord","sumX","sumY","lastX","lastY","e","this","touches","pageX","pageY","self","setTimeout","Math","abs","translate","warn","w","clientX","clientY","setState","toString","id","className","content","React","Component","Switch","hasInit","switchStyle","boxSizing","width","height","backgroundColor","borderRadius","display","alignItems","padding","color","transition","verticalAlign","marginLeft","dotStyle","border","onStyle","justifyContent","offStyle","switchChange","initStatus","assign","init","onClick","handleClick","ReadPanel","menuPosition","top","left","opacity","pointerEvents","touchStartDate","rpMenu","h","touchTarget","preventDefault","stopPropagation","window","getSelection","anchorNode","parentElement","target","hiddenSomeone","Date","touchTime","touchMove","changedTouches","targetTouches","view","x","y","vw","screen","availWidth","vh","availHeight","position","split","classList","add","handleCloseRpMenu","hiddenList","document","getElementsByClassName","rm","getElementById","offsetWidth","offsetHeight","onTouchStart","handleTouchStart","onTouchEnd","handleTouchEnd","onTouchMove","handleTouchMove","fill","viewBox","d","p-id","handleRpHidden","handleRpRemove","handleRpShow","Explanation","size","maxNumber","text","expl","setZoom","Loading","ew","eh","aw","ah","topDistance","wordDistance","edgeDistance","arrowOverlapping","remRatioPx","arrowPosition","innerWidth","ratio","innerHeight","calcPosition","autoPlay","value","auto","playingWhich","playWhich","fontSize","play","version","src","menuBgStyle","moreList","unfold","list","renderMore","connect","explActions","TranslatePanel","showStatus","movingStyle","dragY","moving","slipY","slipNum","tpHeight","setTranslateY","transform","tp","xhr","XMLHttpRequest","open","withCredentials","setRequestHeader","onload","json","parse","responseText","translateText","send","element","addEventListener","translateCount","panelStyle","hidden","bottom","half","full","handleTouchSlip","onMouseMove","handleMouseMove","onMouseDown","handleMouseDown","onMouseUp","handleMouseUp","onMouseLeave","handleMouseLeave","clickWord","handleAdjustmentHeight","elements","head","child","ReactDOM","render","isShow","aActions","_","children","App","showExplainPanel","showLinkDialog","clickedWord","htmlElements","extractScope","front","behind","fn","bn","sId","docId","link","hash","config","splitWord","splitSentence","runScript","jQuery","noConflict","checkURI","node","abstract","links","getElementsByTagName","rel","indexOf","icon","href","title","docTitle","textContent","docH1","body","pTags","description","trim","slice","spanTags","des","nodeName","error","deep","isInline","test","lastChild","previousSibling","parentNode","firstChild","nextSibling","nextNode","frontHaveWordEnd","behindHaveWordEnd","offset","anchorOffset","wholeText","clickedChar","extractPart","texts","setExplShow","sentence","wordpattern","List","splitList","getWord","pattern","onlyOneChild","childElementCount","parseInt","cssText","replace","m","g","toUpperCase","styleFormat","maxWidth","attributes","att","attName","name","attValue","styleConvert","styleObj","alterNode","getCross","cross","other","wordSplit","c","crossChildren","otherChildren","htmlTraversal","extractFront","attToProps","createElement","clickLink","handleClickWord","otherWord","extractBehind","frontCross","t1","now","indexList","childNodes","nodeChar","lastNodeChar","re","t2","frontOther","childrenList","haveCross","haveCross2","haveCrossWord","extractBothEnds","behindCross","middle","newFrontCross","behindOther","sentenceSplit","innerText","styles","findIndex","insertBefore","setAShow","docUrl","origin","pathname","direction","subPart","testParent","result","break","findSubPart","unshift","copyWord","frontFind","copy","driectTarget","behindFind","frontPattern","behindPattern","frontTarget","returnChilren","deepCopy","ignoreTag","noChildren","doc","DOMParser","parseFromString","base","headChildList","extractHead","extractAbstract","scrollTo","docParser","ManageExplanation","xmlns","to","externalLink","urlParams","searchParams","get","getItem","inputIsURL","listen","URLSearchParams","search","wrpReadPanel","scriptList","fakeHead","headScriptList","wrpApp","s","script","hasAttribute","getAttribute","async","setAttribute","appendChild","DOMContentLoaded_event","createEvent","initEvent","dispatchEvent","actions","setASrc","withRouter","ItemCard","data-url","data-key","Home","typing","urlPattern","jumpChange","currentTarget","clipboardData","getData","pasteText","pasteHtml","readFromUrl","String","reduce","b","charCodeAt","readFromText","setKey","dataset","goRead","focus","readHistory","onClickCard","createHistory","logo","setTyping","autoComplete","contentEditable","onChange","handleChange","onKeyUp","handleKeyUp","onPaste","handlePaste","onFocus","placeholder","setInput","currentUrl","isUrl","wrapper","errorIcon","statusContent","NavBar","useState","currentIndex","setCurrentIndex","pathName","current","fixCurrentIndex","colors","itemCard","aria-hidden","fill-rule","itemIcon","WebApp","store","isUri","componentDidUpdate","dir","exact","go","testAction","data-hotkey","data-unscoped-placeholder","data-scoped-placeholder","autocapitalize","aria-label","onInput","Boolean","hostname","traget","createStore","rootReducer","applyMiddleware","thunk","navigator","serviceWorker","ready","then","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.a55e342a.chunk.js","sourcesContent":["const app = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case \"app/SETSTATUS\":\r\n            return {...state, status: action.status}\r\n        case \"app/SETXMLDOC\":\r\n            // console.log(`reducers app/SETXMLDOC: xmlDoc: ${action.xmlDoc}`)\r\n            return {...state, xmlDoc: action.xmlDoc}\r\n        case \"app/SETURI\":\r\n            return {...state, url: action.url}\r\n        case \"app/SETHISTORY\":\r\n            console.log(`reducers app/SETHISTORY: ${action.history}`)\r\n            return {...state, history: action.history}\r\n        case \"app/SETLOCATION\":\r\n            return {...state, location: action.location}\r\n        case \"app/SETKEY\":\r\n            return {...state, key: action.key}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default app","const explanation = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case \"SHOW_EXPANATION\":\r\n            console.log(`reducers count: ${state.count}`)\r\n            let count = state.count  + 1 || 1\r\n            return { ...state, word:'WORD', count: count }\r\n        case \"expl/TAPWORD\":\r\n            if( action.coordinate == null) return {...state, word: action.word }\r\n            return {...state, word: action.word, coordinate: action.coordinate}\r\n        case \"expl/SETSHOW\":\r\n            console.log('reducer set show')\r\n            return {...state, show: action.show}\r\n        case \"expl/SETDATA\":\r\n            return {...state, data: action.data}\r\n        case \"expl/SETEXPLSTATE\":\r\n            return {...state, status: action.status}\r\n        case \"expl/SETPLAYAUDIO\":\r\n            return {...state, audio: action.audio}\r\n        case \"expl/SETZOOM\":\r\n            let zoom = ((state.zoom == null) ? 0 : state.zoom) + action.zoom;\r\n            if(typeof(zoom)!=='number' || Number.isNaN(zoom)) zoom = 0;\r\n            return {...state, zoom: zoom}\r\n        case \"expl/ADDMORE\":\r\n            let more = Array.isArray(state.more) ? state.more.concat(action.more) : [action.more]\r\n            more = more.filter(word => typeof(word) === 'string')\r\n            return {...state, more: more}\r\n        case \"exp/SETMORE\":\r\n            return {...state, more: action.more}\r\n        case \"expl/SETSETTING\":\r\n            let setting = {...state.setting, ...action.setting}\r\n            return {...state, setting: setting}\r\n        case \"expl/SETMOREFOLD\":\r\n            if( action.isUnfold == null){\r\n                return {...state, unfoldMore: ! state.unfoldMore}\r\n            }\r\n            return {...state, unfoldMore: action.unfoldMore}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default explanation","const a = (state={}, action) => {\n    switch(action.type) {\n        case \"a/SETSHOW\":\n            console.log('a setshow', action.status)\n            if( action.status === null  ) return { ...state, show:!state.status }\n            return { ...state, show: action.status }\n        case \"a/SETSRC\":\n            return { ...state, url:action.url }\n        default:\n            return { ...state }\n    }\n}\n\nexport default a;","import { combineReducers } from 'redux'\r\n\r\nimport app from './app'\r\nimport explanation  from './explanation'\r\nimport a from './a'\r\nimport other  from './other'\r\n\r\nconsole.log(`reducers.js explanation:${explanation}`)\r\n\r\nexport default combineReducers({\r\n    app,\r\n    explanation,\r\n    a,\r\n    // other\r\n})","import axios from 'axios'\r\n\r\nexport const setStatus = (status) => ({\r\n    type: \"app/SETSTATUS\",\r\n    status\r\n})\r\n\r\nexport const setXmlDoc = (xmlDoc) => ({\r\n    type: \"app/SETXMLDOC\",\r\n    xmlDoc\r\n})\r\n\r\nexport const setUrl = (url) => ({\r\n    type:\"app/SETURI\",\r\n    url\r\n})\r\n\r\nexport const setKey = (key) => ({\r\n    type: \"app/SETKEY\",\r\n    key\r\n})\r\n\r\nexport const setLocation = (location) => {\r\n    if (location === undefined) {\r\n        return ({\r\n            type: \"app/SETLOCATION\",\r\n            location: {}\r\n        })\r\n    }\r\n    if (typeof(location) === 'string') {\r\n        return ({\r\n            type: \"app/SETLOCATION\",\r\n            location: {\r\n                path: location\r\n            }\r\n        })\r\n    }\r\n\r\n    if(typeof(location) === 'object') {\r\n        return ({\r\n            type: \"app/SETLOCATION\",\r\n            location\r\n        })\r\n    }\r\n}\r\n\r\nexport const setHistory = (historyList, item) => {\r\n    // 去重\r\n    console.log('action setHistory: item', item, 'list: ', historyList)\r\n\r\n    if( ! Array.isArray(historyList)) historyList = [];\r\n\r\n    if(item){\r\n        let i = historyList.length\r\n        historyList = historyList.filter(v => v.url !== item.url || v.key !== item.key)\r\n\r\n        console.log('actions app : history.push: ', item)\r\n        historyList.push(item);\r\n    }\r\n\r\n    while(historyList.length > 200){\r\n        // Array.shift() 移除数组中的第一个值并返回\r\n        let remove = historyList.shift();\r\n        if(remove.key) localStorage.removeItem(remove.key);\r\n    }\r\n\r\n    console.log('actions setHistory 3', historyList);\r\n\r\n    // 存储\r\n    let historyStr = JSON.stringify(historyList);\r\n    localStorage.setItem('read_history', historyStr);\r\n\r\n    return ({\r\n        type: \"app/SETHISTORY\",\r\n        history: historyList\r\n    })\r\n}\r\n\r\nexport const loadXmlDoc = (input) => {\r\n    console.log('action creaters loadXMLDoc')\r\n    if (!input) return;\r\n    return dispatch => {\r\n\r\n        let encode = encodeURIComponent(input);\r\n        let url2 = `https://1773134661611650.ap-northeast-1.fc.aliyuncs.com/2016-08-15/proxy/Tr/tr/?url=${encode}`;\r\n        let url = `https://1773134661611650.ap-northeast-1.fc.aliyuncs.com/2016-08-15/proxy/Tr/tr/?url=${encode}`;\r\n\r\n        // let url = `http://47.94.145.177:8000/get?url=${encode}`;\r\n        console.log(\"input:\", input)\r\n        let inputObj = new URL(input);\r\n        let timeout = 60000;\r\n        switch(inputObj.host){\r\n            case \"www.wikipedia.org\":\r\n            case \"wikibooks.org\":\r\n            case \"m.wikipedia.org\":\r\n            case \"en.wikipedia.org\":\r\n            case \"en.m.wikipedia.org\":\r\n            case \"twitter.com\":\r\n            case \"t.co\":\r\n            case \"news.google.com\":\r\n            case \"developer.chrome.com\":\r\n            case \"www.bbc.com\":\r\n            case \"bbc.com\":\r\n            case \"blog.diigo.com\":\r\n            case \"diigo.com\":\r\n            case \"www.kali.org\":\r\n                url = url2;\r\n                timeout = 80000;\r\n                break;\r\n            case \"localhost:3000\":\r\n            case \"localhost:8888\":\r\n                url = input;\r\n                break;\r\n        }\r\n\r\n        return new Promise(async (resolve,reject) => {\r\n            try{\r\n                let res = await axios({url:url, method:\"get\", timeout: timeout})\r\n                if (res.status === 200){\r\n                    dispatch(setXmlDoc(res.data))\r\n                    dispatch(setStatus('parsing'))\r\n                }else{\r\n                    console.log(`loadxmldoc status!=200, res:${res}`)\r\n                    dispatch(setStatus('failed'))\r\n                }\r\n            }catch(e){\r\n                console.log(`loadxmldoc catch err : ${e}`)\r\n                dispatch(setStatus('failed'))\r\n            }\r\n            \r\n            \r\n        })\r\n    }\r\n\r\n}\r\n\r\nexport const goRead = (input, currentUrl) => {\r\n    // input 可以是输入框输入, 历史banner中的url, 阅读页面中的url\r\n    return dispatch => {\r\n\r\n        let urlPattern = /^https?:\\/\\/(.+\\.\\w+.*)|(localhost.*)/\r\n        let isUrl = input.length < 10000 ? urlPattern.test(input) : false\r\n    \r\n        if (isUrl && input === currentUrl) {\r\n            // 将要打开的页面与当前阅读的页面是同一个\r\n            dispatch(setStatus('parsing'))\r\n            dispatch(setLocation('/wrp-read'))\r\n            return;\r\n        }\r\n        if( ! isUrl ) {\r\n            // input 不是url， 是文本\r\n            dispatch(setXmlDoc( input ))\r\n            dispatch(setUrl(''))\r\n            dispatch(setStatus('parsing'))\r\n            dispatch(setLocation('/wrp-read'))\r\n\r\n            return;\r\n        }\r\n    \r\n        // 将要打开的是新页面\r\n        dispatch(setStatus('loading'))\r\n        dispatch(loadXmlDoc(input))\r\n        dispatch(setLocation('/wrp-read'))\r\n\r\n    }\r\n\r\n}","import axios from 'axios';\n\nexport const tapWord = (word, coordinate) => ({\n    type: \"expl/TAPWORD\",\n    word: word,\n    coordinate: coordinate\n})\n\nexport const setShow = show => ({\n    type: \"expl/SETSHOW\",\n    show\n})\n\nexport const setData = data => ({\n    type: \"expl/SETDATA\",\n    data\n})\n\nexport const loadWordData = word => {\n    return dispatch => {\n        let url = `https://1773134661611650.cn-beijing.fc.aliyuncs.com/2016-08-15/proxy/WordingReadingPro/iciba/?key=zysj&q=${word.toLowerCase()}`\n        // let url = `http://47.94.145.177:8000/iciba?w=${word.toLowerCase()}`;\n        let timeout = 10000;\n        let iciba2Data = (apiData) => {\n            let data = {};\n            let more = [];\n            if(!apiData.word_name) return data;\n            data.word = apiData.word_name;\n            if(Object.keys(apiData).includes('word_name')){\n                data.audio = apiData.symbols[0].ph_tts_mp3;\n                data.audioUK = apiData.symbols[0].ph_en_mp3;\n                data.audioUS = apiData.symbols[0].ph_am_mp3;\n                data.answer = apiData.symbols[0].parts.map(o=>[o.part, o.means.join(' ')]);\n                // 提取单词解释里的单词\n                more = apiData.symbols[0].parts.map(i=>i.means.join(' ')).join(' ').match(/[a-zA-Z]{3,20}/);\n            }\n            return { data, more };\n        }\n        return new Promise(async (resolve,reject) => {\n            try{\n                let res = await axios({url:url, method:\"get\",timeout: timeout});\n                if (res.status === 200){\n                    let { data, more } = iciba2Data(res.data);\n                    dispatch(setData(data))\n                    dispatch(addMore(more))\n                    dispatch(setExplState('completed'))\n\n                }else {\n                    console.log()\n                    dispatch()\n                }\n            }catch(e){\n                console.log('loadWordData Error', e);\n                dispatch(setExplState('failed'))\n            }\n        })\n    }\n}\n\nexport const setExplState = status => ({\n    type: \"expl/SETEXPLSTATE\",\n    status\n})\n\nexport const setPlayAudio = audio => ({\n    type: \"expl/SETPLAYAUDIO\",\n    audio\n})\n\nexport const setZoom = zoom => ({\n    type: \"expl/SETZOOM\",\n    zoom\n})\n\nexport const addMore = more => ({\n    type: \"expl/ADDMORE\",\n    more\n})\n\nexport const setMore = more => ({\n    type: \"exp/SETMORE\",\n    more\n})\n\nexport const setSetting = setting => ({\n    type: \"expl/SETSETTING\",\n    setting\n})\n\nexport const setMoreFold = isUnfold => ({\n    type: \"expl/SETMOREFOLD\",\n    isUnfold\n})\n","\nexport const setShow = status => ({\n    type: 'a/SETSHOW',\n    status\n})\n\nexport const setSrc = url => ({\n    type: 'a/SETSRC',\n    url\n})","import React from 'react';\r\nimport { getKeys } from 'eslint-visitor-keys';\r\n\r\nvar key = 0;\r\nfunction getMyKeys(){\r\n    key += 1\r\n    return key.toString()\r\n}\r\n\r\nclass word extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            style:{}\r\n        }\r\n        this.touchMoving = false;\r\n        this.movingRecord = {\r\n            sumX:0,\r\n            sumY:0,\r\n            lastX:0,\r\n            lastY:0\r\n        }\r\n    }\r\n\r\n\r\n    handleTouchMove(e){\r\n        // console.log('touchMove',e,e.touches,e.targetTouches)\r\n        // console.log(e.touches[0].pageX, e.touches[0].pageY, this.touchMoving)\r\n        if(!this.touchMoving){\r\n            // 触摸开始\r\n            this.touchMoving = true;\r\n            let self = this;\r\n            setTimeout(()=>{\r\n                self.touchMoving = false;\r\n                // console.log('time up', this.touchMoving)\r\n            }, 100, this);\r\n            // 记录初始化\r\n            this.movingRecord = {\r\n                sumX:0,\r\n                sumY:0,\r\n                lastX:e.touches[0].pageX,\r\n                lastY:e.touches[0].pageY\r\n            }\r\n        }else{\r\n            // 滑动中 记录\r\n            this.movingRecord.sumX = this.movingRecord.sumX + e.touches[0].pageX - this.movingRecord.lastX;\r\n            this.movingRecord.sumY = this.movingRecord.sumY + e.touches[0].pageY - this.movingRecord.lastY;\r\n            this.movingRecord.lastX = e.touches[0].pageX;\r\n            this.movingRecord.lastY = e.touches[0].pageY;\r\n        }\r\n\r\n        // 滑动 判断\r\n        if(Math.abs(this.movingRecord.sumX) > 50 && Math.abs(this.movingRecord.sumY) < 15){\r\n            // 成立\r\n            // console.log(\"translate\")\r\n            try{\r\n                this.props.translate(e)\r\n            }catch(e){\r\n                console.warn(\"word: props.translate is not function!\", e);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    handleMouseMove(e){\r\n        // console.log('handleMouseMove', this.touchMoving);\r\n        if(this.touchMoving){\r\n            // console.log('handleMouseMove', e)\r\n        }\r\n    }\r\n\r\n    handleMouseDown(e){\r\n        this.touchMoving = true;\r\n    }\r\n\r\n    handleMouseUp(e){\r\n        this.touchMoving = false;\r\n    }\r\n\r\n    handleDoubleClick(e){\r\n        console.log('double click')\r\n        try{\r\n            this.props.translate(e)\r\n        }catch(e){\r\n            console.warn(\"word: props.translate is not function!\", e);\r\n        }\r\n    }\r\n\r\n    handleTest(w, e){\r\n        console.log(\"click e->\", e, e.clientX, e.clientY)\r\n        this.setState({\r\n            style:{\r\n                \"backgroundColor\":\"#fff\",\r\n                \"borderRadius\":\"5px\"\r\n            }\r\n        })\r\n    }\r\n\r\n    render(){\r\n        let key = getMyKeys()\r\n        return (\r\n            <span\r\n                key={key}\r\n                id={key}\r\n                className=\"@w\"\r\n                // onTouchMove={(e)=>this.handleTouchMove(e)}\r\n                // onMouseDown={(e)=>this.handleMouseDown(e)}\r\n                // onMouseMove={(e)=>this.handleMouseMove(e)}\r\n                // onMouseUp={(e)=>this.handleMouseUp(e)}\r\n                // style={this.state.style}\r\n            >{this.props.content}</span>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default word;","import React from 'react';\r\n\r\nclass Switch extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            status:false,\r\n        };\r\n        this.hasInit = false;\r\n        this.switchStyle = {\r\n            boxSizing :\"border-box\",\r\n            width :'2.5em',\r\n            height :'1.2em',\r\n            backgroundColor:\"#ccc\",\r\n            // border:\"1px solid #888\",\r\n            borderRadius:'0.6em',\r\n            display:\"inline-flex\",\r\n            alignItems:\"center\",\r\n            padding:\"0 0.1em\",\r\n            color:'#fff',\r\n            transition:'all 0.3s',\r\n            verticalAlign:'middle',\r\n            marginLeft:'0.5em',\r\n\r\n        };\r\n        this.dotStyle = {\r\n            boxSizing :\"border-box\",\r\n            width:\"0px\",\r\n            height:\"0px\",\r\n            border:\"0.5em solid\",\r\n            borderRadius:'50%'\r\n        };\r\n        this.onStyle = {\r\n            backgroundColor:'#0f0',\r\n            color:\"#fff\",\r\n            justifyContent:'flex-end'\r\n        };\r\n        this.offStyle = {\r\n            backgroundColor:'#ccc',\r\n            color:\"#fff\",\r\n            justifyContent:'flex-start'\r\n        };\r\n    }\r\n\r\n    handleClick(){\r\n        let status = !this.state.status;\r\n        this.setState({\r\n            status:status\r\n        });\r\n        try{\r\n            this.props.switchChange(status);\r\n        }catch(e){\r\n            console.warn('Switch component no incoming \"props.switchChange\" function.', e);\r\n        }\r\n    }\r\n\r\n    init(props){\r\n        if(props.initStatus != this.state.status && this.hasInit == false){\r\n            this.hasInit = true;\r\n            this.setState({\r\n                status:props.initStatus\r\n            });\r\n        }\r\n        if(props.onStyle){\r\n            let onStyle = Object.assign({}, this.onStyle);\r\n            Object.assign(onStyle, this.props.onStyle);\r\n            this.onStyle = onStyle;\r\n        };\r\n        if(props.offStyle){\r\n            let offStyle = Object.assign({}, this.offStyle);\r\n            Object.assign(offStyle, this.props.offStyle);\r\n            this.offStyle = offStyle;\r\n        };\r\n        if(props.switchStyle){\r\n            let switchStyle = Object.assign({}, this.switchStyle);\r\n            Object.assign(switchStyle, this.props.switchStyle);\r\n            this.switchStyle = switchStyle;\r\n        };\r\n\r\n        if(props.status != undefined && props.status != this.state.status){\r\n            this.setState({\r\n                status:props.status\r\n            })\r\n        }\r\n    }\r\n\r\n    render(){\r\n\r\n        this.init(this.props);\r\n\r\n        let style = Object.assign({},this.switchStyle);\r\n        // console.log('style ', style, Object.isExtensible(style), Object.isFrozen(style))\r\n        switch(this.state.status){\r\n            case true:\r\n                style = Object.assign(style, this.onStyle);\r\n                break\r\n            case false:\r\n                style = Object.assign(style, this.offStyle);\r\n                break\r\n        }\r\n\r\n        return (\r\n            <div style={style} onClick={()=>this.handleClick()}>\r\n                <div style={this.dotStyle}></div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default Switch;  ","import React from \"react\";\r\nimport './readPanel.css';\r\n\r\nimport Switch from './switch.js';\r\n\r\nclass ReadPanel extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            menuPosition:{\r\n                top:0,\r\n                left:0,\r\n                opacity:0,\r\n                pointerEvents:'none',\r\n            },\r\n\r\n        }\r\n        this.touchStartDate = 0;\r\n        this.rpMenu = {w:60,h:200};\r\n        this.touchTarget = null;\r\n\r\n        this.touchMoving = false;\r\n        this.movingRecord = {\r\n            sumX:0,\r\n            sumY:0,\r\n            lastX:0,\r\n            lastY:0\r\n        }\r\n    }\r\n\r\n    handleClick(e){\r\n        // console.log(\"click e->\", e,e.pageX,e.pageY, e.clientX, e.clientY)\r\n\r\n        // console.log('e ->', e,e.target, e.currentTarget,e.detail, window.getSelection())\r\n\r\n        // console.log('window', window.getSelection())\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        let anchorNode = window.getSelection().anchorNode && window.getSelection().anchorNode.parentElement;\r\n        if(anchorNode == e.target){\r\n            try{\r\n                this.props.handleClick(e);\r\n            }catch(e){\r\n                console.warn(\"readPanel.js need props.hanleClick function!\", e)\r\n            }\r\n        }else{\r\n            try{\r\n                console.log('readPanel hiddenSomeone')\r\n                this.props.hiddenSomeone('explainPanel linkDialog');\r\n            }catch(e){\r\n                console.warn(\"readPanel.js need props.hiddenSomeone function!\", e)\r\n            }\r\n        }\r\n        \r\n        \r\n        // e.stopPropagation()\r\n    }\r\n\r\n    handleTouchStart(e){\r\n        this.touchStartDate = new Date();\r\n        // console.log('touchstart',e,e.target)\r\n        // 记录初始化\r\n        this.movingRecord = {\r\n            sumX:0,\r\n            sumY:0,\r\n            lastX:e.touches[0].pageX,\r\n            lastY:e.touches[0].clientY\r\n        }\r\n    }\r\n\r\n    handleTouchEnd(e){\r\n        this.touchMoving = false;\r\n        // 滑动 判断\r\n        if(Math.abs(this.movingRecord.sumX) > 50 && Math.abs(this.movingRecord.sumY) < 15){\r\n            // 成立\r\n            try{\r\n                this.props.translate(e)\r\n            }catch(e){\r\n                console.warn(\"word: props.translate is not function!\", e);\r\n            }\r\n        }\r\n\r\n        let touchTime = (new Date()) - this.touchStartDate;\r\n        console.log('record', this.movingRecord.sumX,this.movingRecord.sumY )\r\n        let touchMove = Math.abs(this.movingRecord.sumX) < 15 && Math.abs(this.movingRecord.sumY) < 15;\r\n        if(touchTime > 300 && touchTime < 2000 && touchMove){\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n\r\n            console.log('Touch', e, e.changedTouches, e.targetTouches, e.view, e.touches, e.target)\r\n            let x = e.changedTouches[0].clientX;\r\n            let y = e.changedTouches[0].clientY;\r\n            let vw = window.screen.availWidth;\r\n            let vh = window.screen.availHeight;\r\n            let marg = 8;\r\n            let position = Object.assign({},this.state.menuPosition);\r\n\r\n            if((x + this.rpMenu.w) > vw) x = vw - this.rpMenu.w - marg;\r\n            if((y + this.rpMenu.h) > vh) y = vh - this.rpMenu.h - marg;\r\n\r\n            position.top = y;\r\n            position.left = x;\r\n            position.opacity = '1';\r\n            position.pointerEvents = 'all';\r\n\r\n            this.setState({\r\n                menuPosition:position\r\n            })\r\n            this.touchTarget = e.target;\r\n        }\r\n    }\r\n\r\n    handleTouchMove(e){\r\n        // console.log('touchMove',e,e.touches,e.targetTouches)\r\n        // console.log(e.touches[0].pageX, e.touches[0].pageY, this.touchMoving)\r\n        if(!this.touchMoving){\r\n            // 触摸开始\r\n            this.touchMoving = true;\r\n            let self = this;\r\n            // setTimeout(()=>{\r\n            //     self.touchMoving = false;\r\n            //     // console.log('time up', this.touchMoving)\r\n            // }, 100, this);\r\n            // 记录初始化\r\n            this.movingRecord = {\r\n                sumX:0,\r\n                sumY:0,\r\n                lastX:e.touches[0].pageX,\r\n                lastY:e.touches[0].clientY\r\n            }\r\n        }else{\r\n            // 滑动中 记录\r\n            this.movingRecord.sumX = this.movingRecord.sumX + e.touches[0].pageX - this.movingRecord.lastX;\r\n            this.movingRecord.sumY = this.movingRecord.sumY + e.touches[0].clientY - this.movingRecord.lastY;\r\n            this.movingRecord.lastX = e.touches[0].pageX;\r\n            this.movingRecord.lastY = e.touches[0].clientY;\r\n        }\r\n    }\r\n\r\n    handleCloseRpMenu(){\r\n        let position = Object.assign({},this.state.menuPosition);\r\n        position.opacity = '0';\r\n        position.pointerEvents = 'none';\r\n\r\n        this.setState({\r\n            menuPosition:position\r\n        })\r\n    }\r\n\r\n    handleRpHidden(){\r\n        if(!this.touchTarget) return;\r\n        if(this.touchTarget.className.split(' ').includes('wrp-read-panel')) return;\r\n        this.touchTarget.classList.add('wrp-rp-hidden');\r\n        this.handleCloseRpMenu();\r\n    }\r\n\r\n    handleRpRemove(){\r\n        if(!this.touchTarget) return;\r\n        if(this.touchTarget.className.split(' ').includes('wrp-read-panel')) return;\r\n        this.touchTarget.classList.add('wrp-rp-remove');\r\n        this.handleCloseRpMenu();\r\n    }\r\n\r\n    handleRpShow(){\r\n        let hiddenList = document.getElementsByClassName('wrp-rp-hidden');\r\n        console.log('hiddenList', hiddenList.length)\r\n        for(let i = hiddenList.length - 1; i >= 0; i--){\r\n            console.log('show ->',i,hiddenList.length)\r\n            let element = hiddenList[i];\r\n            element.classList.remove('wrp-rp-hidden');\r\n            // break;\r\n        }\r\n        this.handleCloseRpMenu();\r\n    }\r\n\r\n    componentDidMount(){\r\n        let rm = document.getElementById('wrp-rp-menu');\r\n        this.rpMenu.w = rm.offsetWidth;\r\n        this.rpMenu.h = rm.offsetHeight;\r\n    }\r\n\r\n    render(){\r\n\r\n        let style = {};\r\n        // if(this.props.padding) style.padding = '1em';\r\n\r\n        return (\r\n            <div \r\n                id=\"wrp-read-panel\" \r\n                style={style}\r\n                onClick={(e)=>this.handleClick(e)}\r\n                onTouchStart={(e)=>this.handleTouchStart(e)}\r\n                onTouchEnd={(e)=>this.handleTouchEnd(e)}\r\n                onTouchMove={(e)=>this.handleTouchMove(e)}\r\n\r\n            >\r\n                {this.props.content}\r\n\r\n                <div id=\"wrp-rp-menu\" style={this.state.menuPosition}>\r\n                    <div className=\"wrp-nav-item\" onClick={()=>this.handleCloseRpMenu()}>\r\n                        <svg className=\"wrp-nav-item-icon\" fill='var(--t-fore-c)' viewBox=\"0 0 1024 1024\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M877.216 491.808M575.328 510.496 946.784 140.672c17.568-17.504 17.664-45.824 0.192-63.424-17.504-17.632-45.792-17.664-63.36-0.192L512.032 446.944 143.712 77.216C126.304 59.712 97.92 59.648 80.384 77.12 62.848 94.624 62.816 123.008 80.288 140.576l368.224 369.632L77.216 879.808c-17.568 17.504-17.664 45.824-0.192 63.424 8.736 8.8 20.256 13.216 31.776 13.216 11.424 0 22.848-4.352 31.584-13.056l371.36-369.696 371.68 373.088C892.192 955.616 903.68 960 915.168 960c11.456 0 22.912-4.384 31.648-13.088 17.504-17.504 17.568-45.824 0.096-63.392L575.328 510.496 575.328 510.496zM575.328 510.496\" p-id=\"10091\"></path></svg>\r\n                        <div className=\"wrp-nav-item-title\"></div>\r\n                    </div>\r\n                    <div className=\"wrp-nav-item\" onClick={()=>this.handleRpHidden()}>\r\n                        <svg className=\"wrp-nav-item-icon\" fill='var(--t-fore-c)' viewBox=\"0 0 1024 1024\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M947.6 477.2c-85-106-175.9-177.5-272.8-214.7l60.1-122.3c8.8-17.8 1.4-39.5-16.4-48.2-17.8-8.8-39.5-1.4-48.2 16.4l-65.6 133.4c-30.4-6.4-61.3-9.6-92.7-9.6-159.3 0-304.5 81.7-435.6 245-8.3 10.2-12.4 22.6-12.4 35s4.1 24.8 12.3 35.1C161.3 653.2 252.2 724.7 349 762l-59.9 121.9c-8.8 17.8-1.4 39.5 16.4 48.2s39.5 1.3 48.2-16.4l65.3-133c30.4 6.4 61.4 9.6 93 9.6 159.3 0 304.5-81.7 435.6-245 16.4-20.5 16.4-49.7 0-70.1z m-799.1 35c112.4-140 232.8-207.8 363.5-207.8 20.1 0 39.9 1.6 59.6 4.8L544.7 364c-10.5-2.3-21.5-3.5-32.7-3.5-83.8 0-151.8 68-151.8 151.8 0 46.7 21.1 88.5 54.4 116.4L381.4 696c-81.5-30.8-159-91.7-232.9-183.8z m443.3 0c0 43.8-35.3 79.4-79 79.8l62.9-127.9c10.1 13.4 16.1 30.1 16.1 48.1z m-159.6 0c0-43.8 35.2-79.2 78.8-79.8l-62.8 127.8c-10.1-13.3-16-29.9-16-48zM512 720c-20.2 0-40.1-1.6-59.7-4.9l26.9-54.7c10.6 2.3 21.6 3.6 32.8 3.6 83.8 0 151.8-68 151.8-151.8 0-46.8-21.2-88.6-54.5-116.5l33.1-67.4C724 359.1 801.5 420 875.5 512.2 763.1 652.2 642.6 720 512 720z\" p-id=\"7888\"></path></svg>\r\n                        <div className=\"wrp-nav-item-title\">隐藏</div>\r\n                    </div>\r\n                    <div className=\"wrp-nav-item\" onClick={()=>this.handleRpRemove()}>\r\n                        <svg className=\"wrp-nav-item-icon\" fill='var(--t-fore-c)' viewBox=\"0 0 1024 1024\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M668.8 896h-320c-48.64 0-88.32-37.76-92.8-87.68L211.2 403.2c-1.92-17.28 10.88-33.28 28.16-35.2 17.28-1.92 33.28 10.88 35.2 28.16l44.16 405.76c1.28 17.28 14.08 30.08 28.8 30.08h320c14.72 0 27.52-12.8 28.8-29.44l44.16-406.4c1.92-17.28 17.92-30.08 35.2-28.16 17.28 1.92 30.08 17.92 28.16 35.2l-44.16 405.76c-2.56 49.28-42.88 87.04-90.88 87.04zM826.24 321.28H190.72c-17.92 0-32-14.08-32-32s14.08-32 32-32h636.16c17.92 0 32 14.08 32 32s-14.72 32-32.64 32z\" p-id=\"13417\"></path><path d=\"M424.96 789.12c-16.64 0-30.72-12.8-32-29.44l-27.52-347.52c-1.28-17.92 11.52-33.28 29.44-34.56 17.92-1.28 33.28 11.52 34.56 29.44l27.52 347.52c1.28 17.92-11.52 33.28-29.44 34.56h-2.56zM580.48 789.12h-2.56c-17.92-1.28-30.72-16.64-29.44-34.56L576 407.04c1.28-17.92 16.64-30.72 34.56-29.44 17.92 1.28 30.72 16.64 29.44 34.56l-27.52 347.52c-1.92 16.64-15.36 29.44-32 29.44zM581.76 244.48c-17.92 0-32-14.08-32-32 0-23.68-19.2-43.52-43.52-43.52s-43.52 19.2-43.52 43.52c0 17.92-14.08 32-32 32s-32-14.08-32-32c0-59.52 48-107.52 107.52-107.52s107.52 48 107.52 107.52c0 17.28-14.08 32-32 32z\" p-id=\"13418\"></path></svg>\r\n                        <div className=\"wrp-nav-item-title\">移除</div>\r\n                    </div>\r\n                    <div className=\"wrp-nav-item\" \r\n                        onClick={()=>this.handleRpShow()}\r\n                    >\r\n                        <svg className=\"wrp-nav-item-icon\" fill='var(--t-fore-c)' viewBox=\"0 0 1024 1024\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M512.14 819c-136.83 0-253.2-59.32-326.73-109.08C97.84 650.6 35.29 581.25 12.15 538.82a56.53 56.53 0 0 1 0-54.35c23.14-42.44 85.69-111.79 173.26-171 73.53-49.77 189.9-109.09 326.73-109.09 137.53 0 253.1 57.92 325.84 106.51 40.4 27 78.56 58.49 110.35 91.12 28.79 29.53 51.46 59.18 63.84 83.48a57.94 57.94 0 0 1 0 52.4c-12.38 24.3-35 53.95-63.84 83.48-31.79 32.63-70 64.14-110.35 91.13C765.24 761 649.67 819 512.14 819zM67 511.64c10 17.43 28.73 40.66 51.89 64.2a672.78 672.78 0 0 0 100.8 83.41c66.45 45 171.14 98.59 292.48 98.59 122.21 0 226.18-52.32 291.89-96.21 78.53-52.46 133.92-114.07 152.88-150-19-35.92-74.35-97.53-152.88-150-65.71-43.89-169.68-96.21-291.89-96.21-121.34 0-226 53.61-292.48 98.59a672.23 672.23 0 0 0-100.8 83.42C95.7 471 76.93 494.21 67 511.64z\" fill=\"#333333\" p-id=\"8662\"></path><path d=\"M511.81 682.86c-94.41 0-171.22-76.81-171.22-171.22s76.81-171.22 171.22-171.22S683 417.23 683 511.64s-76.78 171.22-171.19 171.22z m0-278.44A107.22 107.22 0 1 0 619 511.64a107.34 107.34 0 0 0-107.19-107.22z\" fill=\"#333333\" p-id=\"8663\"></path></svg>\r\n                        <div className=\"wrp-nav-item-title\">显示</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ReadPanel;","import React from 'react'\r\n\r\nimport Switch from './switch.js';\r\n\r\nimport './explanation.css';\r\n\r\nimport arrow_icon from \"./res/explainBoxArrow.svg\";\r\nimport audio_icon from \"./res/audio.svg\";\r\nimport star_icon from \"./res/star.svg\";\r\nimport menu_icon from \"./res/more.svg\";\r\nimport open_icon from './res/open.svg';\r\nimport arrowShadow_icon from './res/arrowShadow.png'\r\n\r\nconst calcFontSize = (size,maxNumber,text) => {\r\n    /**size:初始字符大小, maxNumber:初始字符大小下可以显示的最大字符, text：当前字符 */\r\n    if(!text) return size;\r\n    if(text.length <= maxNumber) return size;\r\n    return size*maxNumber/text.length;\r\n}\r\n\r\nconst calcPosition = (coordinate, zoom=0) => {\r\n    const ew = 17;                  // em explanation width 宽度\r\n    const eh = 8;                   // em explanation height 高度\r\n    const aw = 2.8;                 // em arrow width 三角箭头宽度\r\n    const ah = 2.8;                 // em arrow height 三角箭头高度\r\n    const topDistance = 12;         // em 顶部距离小于topDistance时,expainPanel显示在单词下方\r\n    const wordDistance = 3;         // em expainPanel距离单词的距离\r\n    const edgeDistance = 1;         // em 最小左右边距\r\n    const arrowOverlapping = 0.1;   // 箭头和框的重叠距离\r\n    const remRatioPx = 14;          // 1 rem = 16 px\r\n\r\n    let position = {};\r\n    let arrowPosition = {};\r\n    if(!coordinate) return { position, arrowPosition }\r\n    if(typeof(zoom) !== 'number') zoom = 0;\r\n    let x = coordinate.x, y= coordinate.y, clientY = coordinate.clientY;\r\n    let vw = window.innerWidth, vh= window.innerHeight;\r\n\r\n    let ratio = remRatioPx + remRatioPx * zoom;\r\n\r\n    //纵向位置 Vertical position\r\n    if(clientY >= topDistance * ratio){\r\n        // expainPanel显示在单词上方\r\n        position.top = `calc(${y}px - ${eh}em - ${wordDistance}em)`;\r\n        // arrowStyle.transform = 'rotate(180deg)'\r\n        arrowPosition.top = `${eh - ah / 2 - arrowOverlapping}em`\r\n    }else{\r\n        // expainPanel显示在单词下方\r\n        position.top = `calc(${y}px + ${wordDistance}em)`;\r\n        arrowPosition.top = `-${ah / 2 - arrowOverlapping}em`;\r\n        // arrowStyle.transform = 'rotate(0deg)';\r\n    }\r\n\r\n    // 横向位置 Horizontal position\r\n    if(x >= vw - (ew / 2 + edgeDistance) * ratio){\r\n        // 单词位置靠右边框\r\n        position.left = `calc(${vw}px - ${ew}em - ${edgeDistance}em)`;\r\n        // 太偏右 调整\r\n        if( (vw - x) < (edgeDistance * ratio + aw / 2 * ratio)) x = vw - (edgeDistance * ratio + aw / 2 * ratio);\r\n        arrowPosition.left = `calc(${x - vw}px + ${ew + edgeDistance - aw / 2}em)`;\r\n    }else if(x <= (ew / 2 + edgeDistance) * ratio){\r\n        // 单词位置靠左边框\r\n        position.left = `${edgeDistance}em`;\r\n        // 太偏左 调整\r\n        if(x < (edgeDistance * ratio + aw / 2 * ratio)) x = edgeDistance * ratio + aw / 2 * ratio;\r\n        arrowPosition.left = `calc(${x}px - ${edgeDistance + aw / 2}em)`;\r\n    }else{\r\n        // 中间\r\n        position.left = `calc(${x}px - ${ew / 2}em)`;\r\n        arrowPosition.left = `${ew / 2 - aw / 2}em`;\r\n    }\r\n\r\n    return {position,arrowPosition};\r\n}\r\n\r\nconst playingWhich = (data, value, auto) => {\r\n    let autoPlay = [false,false,false];\r\n    if(auto === false) return autoPlay;\r\n    // debugger\r\n    switch (value){\r\n        case 'us':\r\n            if(data.audioUS) autoPlay[0] = true; break;\r\n            if(data.audioUK) autoPlay[1] = true; break;\r\n            if(data.audio) autoPlay[2] = true; break; \r\n        case 'uk':\r\n            if(data.audioUK) autoPlay[1] = true; break;\r\n            if(data.audioUS) autoPlay[0] = true; break;\r\n            if(data.audio) autoPlay[2] = true; break;\r\n        case 'tts':\r\n            if(data.audio) autoPlay[2] = true; break;\r\n            if(data.audioUS) autoPlay[0] = true; break;\r\n            if(data.audioUK) autoPlay[1] = true; break;\r\n        default:\r\n            if(data.audioUS) {\r\n                autoPlay[0] = true; \r\n                break;\r\n            }\r\n            if(data.audioUK) {\r\n                autoPlay[1] = true;\r\n                break;\r\n            }\r\n            if(data.audio) {\r\n                autoPlay[2] = true; \r\n                break;\r\n            }\r\n    }\r\n    return autoPlay;\r\n}\r\n\r\nconst answerFormat = answer => {\r\n    // answer = [[\"n.\", \"开关\"],[\"vt.\", \"转变\"]]\r\n    if(!answer) return '';\r\n    return answer.map( value => (<dt><b>{value[0]}</b>{value[1]}</dt>))\r\n}\r\n \r\nconst Explanation = ({ expl, setSetting, setMoreFold, tapWord, setZoom }) =>{\r\n\r\n    const Loading = (\r\n        <div className=\"wrp-ep-loading\">\r\n            <div className=\"wrp-icon\">\r\n                <div className=\"wrp-loading-icon\">\r\n                    <div/> <div/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const renderMore = (moreList, unfold) => {\r\n        let list = [];\r\n        if ( ! Array.isArray(moreList) ) return list;\r\n        if ( unfold ) {\r\n            // 展开状态\r\n            list = moreList.map( word => {\r\n                return (<span onClick={()=>tapWord(word)}>{word}</span>)\r\n            })\r\n            list.push(<span \r\n                className=\"unfold-button\"\r\n                onClick={()=>setMoreFold()}            \r\n                >{`<`}</span>)\r\n        } else {\r\n            // 折叠状态\r\n            if (moreList.length >=1 ){\r\n                list.push(<span onClick={()=>tapWord(moreList[0])}>{moreList[0]}</span>)\r\n            }\r\n            if(moreList.length > 1){\r\n                list.push(<span \r\n                    className=\"unfold-button\"\r\n                    onClick={()=>setMoreFold()}            \r\n                    >{`<`}</span>)\r\n            }\r\n        }\r\n        return list;\r\n    }\r\n\r\n    let { position, arrowPosition } = calcPosition(expl.coordinate, expl.zoom)\r\n    let data = expl.data || {}\r\n    let setting = expl.setting || {}\r\n    let autoPlay = playingWhich(data, setting.playWhich, setting.autoPlay)\r\n    let more = expl.more || [];\r\n    let zoom = {fontSize:`${14  + expl.zoom}px`}\r\n    return (\r\n        <div\r\n            id=\"wrp-ep\"\r\n            className={`explain-panel ${expl.show ? '' : 'explain-hidden'}`} \r\n            style={{...position, ...zoom }}\r\n        >\r\n            <div \r\n                className=\"wrp-ep-arrow-container\" \r\n                style={ arrowPosition }\r\n            >\r\n                <div className=\"wrp-ep-arrow\"></div>\r\n            </div>\r\n            <div className=\"wrp-explain-content\">\r\n                <div className=\"wrp-ep-title\">\r\n                    <div className=\"wrp-title-left\">\r\n                        <h3 className=\"wrp-title-word\" \r\n                            style={ {fontSize: `${calcFontSize(1.2, 11, data.word || expl.word)}em`} }>\r\n                            { data.word || expl.word }\r\n                        </h3>\r\n                        {\r\n                            data.audioUS ? (\r\n                            <div className=\"title-tts\"  onClick={()=>document.getElementById(\"a-us\").play()}>\r\n                                <div className=\"\" >US</div>\r\n                                <svg \r\n                                    className=\"title-audio\"\r\n                                    // style={autoPlay[0]?playingStyle:{}}\r\n                                    fill=\"var(--t-fore-c)\"\r\n                                    viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M541.2 132.3c-7.2-3.3-15.2-5-23.3-5-13.9 0-26.8 5.1-36.5 14.4L280.6 312.4h-158c-11.5 0-23.9 3.9-33.6 10.4h-4l-8.7 9.2c-7.5 7.9-12.2 20.8-12.2 33.8v290.7c0 15 6.7 31.4 16.9 41.6 10.2 10.3 26.6 16.9 41.6 16.9h158.2l200.7 165.6c8.4 7.9 23.3 16 35.6 16 5.6 0 16.5 0 27.1-8 10-4.2 17.8-10.4 23.1-18.6 5.7-8.6 8.4-19.1 8.4-32V184c0-12.9-2.8-23.4-8.4-32-5.8-9-14.6-15.6-26.1-19.7z m-24.8 57.4v642.9L310.2 662.5l-8.2-6.8v0.1H123.3V371.7h179l214.1-182zM899.3 300c-20.9-32.7-46.5-61.1-75.9-84.2l-0.1-0.1c-1.3-1.1-2.2-1.8-2.9-2.4-4.5-2.8-9.6-4.3-15.1-4.3-10.3 0-21.6 5.3-31.1 14.5l-0.1 0.1c-8.4 13.5-3.9 35.9 9 45.2l0.1 0.1c6.1 2.5 14.7 9.7 20.8 15.4 9.4 8.7 23.6 23.7 38.1 45.6 24.3 36.8 53.3 99.7 53.3 190.8 0 91-27.4 153.9-50.3 190.6-13.7 22-27.2 36.9-36.1 45.6-8.6 8.3-15.3 13.5-20.1 15.5l-0.1 0.1c-13.9 9.8-17.2 28.6-8.1 46.7 3.8 7.7 17.2 12.9 27.3 12.9 3.8 0 13.9 0 17.4-3.5 0.7-0.7 1.5-1.4 3.3-2.8 28.1-22.9 52.6-51 72.7-83.8 38.8-63.2 58.5-137.6 58.5-221.4 0-83.4-20.4-157.6-60.6-220.6z\" p-id=\"778\"></path><path d=\"M752.7 376.7c-23.8-27.4-48.4-40.2-53.7-42.1h-1.6l-1.9-1.3c-3.2-2.2-7.4-3.3-12-3.3-11.9 0-24.9 7.6-27.8 16.4l-0.3 1-0.6 0.9c-3.8 5.8-4.3 14.2-1.4 22.7 2.9 8.4 8.6 15.1 14.6 17.1l0.6 0.2 0.6 0.3c0.7 0.4 17.2 9.5 33.6 29.7 15.1 18.5 33.1 50.3 33.1 96.7 0 96.6-54.4 128.5-60.7 131.9-13.8 9.4-23 27.9-14.6 40.4l0.3 0.4 0.2 0.5c4.3 8.7 18.9 18.6 27.3 18.6 5.5 0 8.4-0.1 11.7-3.8l2.2-2.2H704.7c6.2-2.3 28.7-15.6 50.6-44.2 20.6-26.9 45.1-74.4 45.1-147.4 0-64.2-25.9-107.5-47.7-132.5z\" p-id=\"779\"></path></svg>\r\n                                <audio id=\"a-us\" key={data.audioUS} src={data.audioUS} autoPlay={autoPlay[0]} ></audio>\r\n                            </div>)\r\n                            :\r\n                            ''\r\n                        }\r\n                        {\r\n                            data.audioUK ? (\r\n                            <div className=\"title-tts\" onClick={()=>document.getElementById(\"a-uk\").play()}>\r\n                                <div className=\"\" >UK</div>\r\n                                <svg \r\n                                    className=\"title-audio\" \r\n                                    // style={autoPlay[1]?playingStyle:{}}\r\n                                    fill=\"var(--t-fore-c)\"\r\n                                    viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M541.2 132.3c-7.2-3.3-15.2-5-23.3-5-13.9 0-26.8 5.1-36.5 14.4L280.6 312.4h-158c-11.5 0-23.9 3.9-33.6 10.4h-4l-8.7 9.2c-7.5 7.9-12.2 20.8-12.2 33.8v290.7c0 15 6.7 31.4 16.9 41.6 10.2 10.3 26.6 16.9 41.6 16.9h158.2l200.7 165.6c8.4 7.9 23.3 16 35.6 16 5.6 0 16.5 0 27.1-8 10-4.2 17.8-10.4 23.1-18.6 5.7-8.6 8.4-19.1 8.4-32V184c0-12.9-2.8-23.4-8.4-32-5.8-9-14.6-15.6-26.1-19.7z m-24.8 57.4v642.9L310.2 662.5l-8.2-6.8v0.1H123.3V371.7h179l214.1-182zM899.3 300c-20.9-32.7-46.5-61.1-75.9-84.2l-0.1-0.1c-1.3-1.1-2.2-1.8-2.9-2.4-4.5-2.8-9.6-4.3-15.1-4.3-10.3 0-21.6 5.3-31.1 14.5l-0.1 0.1c-8.4 13.5-3.9 35.9 9 45.2l0.1 0.1c6.1 2.5 14.7 9.7 20.8 15.4 9.4 8.7 23.6 23.7 38.1 45.6 24.3 36.8 53.3 99.7 53.3 190.8 0 91-27.4 153.9-50.3 190.6-13.7 22-27.2 36.9-36.1 45.6-8.6 8.3-15.3 13.5-20.1 15.5l-0.1 0.1c-13.9 9.8-17.2 28.6-8.1 46.7 3.8 7.7 17.2 12.9 27.3 12.9 3.8 0 13.9 0 17.4-3.5 0.7-0.7 1.5-1.4 3.3-2.8 28.1-22.9 52.6-51 72.7-83.8 38.8-63.2 58.5-137.6 58.5-221.4 0-83.4-20.4-157.6-60.6-220.6z\" p-id=\"778\"></path><path d=\"M752.7 376.7c-23.8-27.4-48.4-40.2-53.7-42.1h-1.6l-1.9-1.3c-3.2-2.2-7.4-3.3-12-3.3-11.9 0-24.9 7.6-27.8 16.4l-0.3 1-0.6 0.9c-3.8 5.8-4.3 14.2-1.4 22.7 2.9 8.4 8.6 15.1 14.6 17.1l0.6 0.2 0.6 0.3c0.7 0.4 17.2 9.5 33.6 29.7 15.1 18.5 33.1 50.3 33.1 96.7 0 96.6-54.4 128.5-60.7 131.9-13.8 9.4-23 27.9-14.6 40.4l0.3 0.4 0.2 0.5c4.3 8.7 18.9 18.6 27.3 18.6 5.5 0 8.4-0.1 11.7-3.8l2.2-2.2H704.7c6.2-2.3 28.7-15.6 50.6-44.2 20.6-26.9 45.1-74.4 45.1-147.4 0-64.2-25.9-107.5-47.7-132.5z\" p-id=\"779\"></path></svg>\r\n                                <audio id=\"a-uk\" key={data.audioUK} src={data.audioUK} autoPlay={autoPlay[1]} ></audio>\r\n                            </div>)\r\n                            :\r\n                            \"\"\r\n                        }\r\n                        {\r\n                            (!data.audioUK || !data.audioUS && data.audio) ? (\r\n                            <div className=\"title-tts\"  onClick={()=>document.getElementById(\"a-tts\").play()}>\r\n                                <svg\r\n                                    className=\"title-audio\" \r\n                                    // style={autoPlay[2]?playingStyle:{}}\r\n                                    fill=\"var(--t-fore-c)\" \r\n                                    viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M541.2 132.3c-7.2-3.3-15.2-5-23.3-5-13.9 0-26.8 5.1-36.5 14.4L280.6 312.4h-158c-11.5 0-23.9 3.9-33.6 10.4h-4l-8.7 9.2c-7.5 7.9-12.2 20.8-12.2 33.8v290.7c0 15 6.7 31.4 16.9 41.6 10.2 10.3 26.6 16.9 41.6 16.9h158.2l200.7 165.6c8.4 7.9 23.3 16 35.6 16 5.6 0 16.5 0 27.1-8 10-4.2 17.8-10.4 23.1-18.6 5.7-8.6 8.4-19.1 8.4-32V184c0-12.9-2.8-23.4-8.4-32-5.8-9-14.6-15.6-26.1-19.7z m-24.8 57.4v642.9L310.2 662.5l-8.2-6.8v0.1H123.3V371.7h179l214.1-182zM899.3 300c-20.9-32.7-46.5-61.1-75.9-84.2l-0.1-0.1c-1.3-1.1-2.2-1.8-2.9-2.4-4.5-2.8-9.6-4.3-15.1-4.3-10.3 0-21.6 5.3-31.1 14.5l-0.1 0.1c-8.4 13.5-3.9 35.9 9 45.2l0.1 0.1c6.1 2.5 14.7 9.7 20.8 15.4 9.4 8.7 23.6 23.7 38.1 45.6 24.3 36.8 53.3 99.7 53.3 190.8 0 91-27.4 153.9-50.3 190.6-13.7 22-27.2 36.9-36.1 45.6-8.6 8.3-15.3 13.5-20.1 15.5l-0.1 0.1c-13.9 9.8-17.2 28.6-8.1 46.7 3.8 7.7 17.2 12.9 27.3 12.9 3.8 0 13.9 0 17.4-3.5 0.7-0.7 1.5-1.4 3.3-2.8 28.1-22.9 52.6-51 72.7-83.8 38.8-63.2 58.5-137.6 58.5-221.4 0-83.4-20.4-157.6-60.6-220.6z\" p-id=\"778\"></path><path d=\"M752.7 376.7c-23.8-27.4-48.4-40.2-53.7-42.1h-1.6l-1.9-1.3c-3.2-2.2-7.4-3.3-12-3.3-11.9 0-24.9 7.6-27.8 16.4l-0.3 1-0.6 0.9c-3.8 5.8-4.3 14.2-1.4 22.7 2.9 8.4 8.6 15.1 14.6 17.1l0.6 0.2 0.6 0.3c0.7 0.4 17.2 9.5 33.6 29.7 15.1 18.5 33.1 50.3 33.1 96.7 0 96.6-54.4 128.5-60.7 131.9-13.8 9.4-23 27.9-14.6 40.4l0.3 0.4 0.2 0.5c4.3 8.7 18.9 18.6 27.3 18.6 5.5 0 8.4-0.1 11.7-3.8l2.2-2.2H704.7c6.2-2.3 28.7-15.6 50.6-44.2 20.6-26.9 45.1-74.4 45.1-147.4 0-64.2-25.9-107.5-47.7-132.5z\" p-id=\"779\"></path></svg>\r\n                                <audio id=\"a-tts\" key={data.audio} src={data.audio} autoPlay={autoPlay[2]}></audio>\r\n                            </div>\r\n                            )\r\n                            :\r\n                            \"\"\r\n                        }\r\n                        \r\n                    </div>\r\n                    <div>\r\n                        <svg \r\n                            className=\"wrp-title-button\" \r\n                            style={{display:'none'}} \r\n                            fill=\"var(--t-fore-c)\" \r\n                            viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\" ><defs><style type=\"text/css\"></style></defs><path d=\"M1009.562 454.103c-72.264 88.023-200.049 233.339-200.049 233.339s20.9 159.55 32.614 268.534c5.09 55.51-34.928 79.513-80.25 57.876-86.242-43.325-217.478-110.448-247-125.573-30.044 14.97-162.6 80.988-249.733 124.211-45.844 21.586-86.343-2.416-81.193-57.825 11.869-108.82 32.983-268.216 32.983-268.216S87.685 541.44 14.582 453.529c-25.836-31.928-9.247-77.311 41.697-85.657 103.885-19.64 264.909-50.944 264.909-50.944s88.074-162.335 143.8-261.755C495.657-5.325 516.874 1.66 520.5 3.441c9.452 3.256 24.371 15.022 43.848 51.783 55.091 99.574 142.172 262.124 142.172 262.124s159.13 31.304 261.806 50.995c50.33 8.397 66.765 53.832 41.237 85.76z\"  p-id=\"3336\"></path></svg>\r\n                        <svg \r\n                            className={`wrp-title-button ${ setting.show ? \"expl-menu-show\" : \"expl-menu-hidden\" }`} \r\n                            onClick={()=>{ setSetting({show:!setting.show})}} \r\n                            fill=\"var(--t-fore-c)\" \r\n                            viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M415.93 223.79c0-52.98 43.004-95.984 95.984-95.984s95.984 43.004 95.984 95.984-43.004 95.984-95.984 95.984-95.984-43.003-95.984-95.984zM415.93 511.742c0-52.98 43.004-95.984 95.984-95.984s95.984 43.004 95.984 95.984-43.004 95.984-95.984 95.984-95.984-43.004-95.984-95.984zM415.93 799.866c0-52.98 43.004-95.984 95.984-95.984s95.984 43.003 95.984 95.984-43.004 95.983-95.984 95.983-95.984-43.175-95.984-95.983z\" p-id=\"4126\"></path></svg>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"wrp-ep-content\">\r\n                    <dl style={expl.menuBgStyle}>\r\n                        { expl.status === 'completed' ? answerFormat(data.answer) : Loading }\r\n                    </dl>\r\n                    <div className={`more-word-contanier ${expl.unfoldMore ? 'more-unfold' : ''}`}>\r\n                        { renderMore(more, expl.unfoldMore) }\r\n                    </div>\r\n                    {/* MENU 更多 菜单 */}\r\n                    <div className={`wrp-ep-menu ${ setting.show ? \"wrp-expl-menu-show\" : \"\"}`} >\r\n                        <div>\r\n                            <span>Auto Speech</span>\r\n                            <Switch\r\n                                status={setting.autoPlay !== false} \r\n                                switchChange={(status)=> setSetting({autoPlay: status})}\r\n                                onStyle={{backgroundColor:'var(--sc)'}}\r\n                            ></Switch>\r\n                        </div>\r\n                        <div>\r\n                            <span>Speech US</span>\r\n                            <Switch\r\n                                status={setting.playWhich ? setting.playWhich === 'us': true} \r\n                                switchChange={(status)=> setSetting({playWhich: status ? 'us' : 'uk'})}\r\n                                onStyle={{backgroundColor:'var(--sc)'}}\r\n                            ></Switch>\r\n                        </div>  \r\n                        <svg className=\"menu-button\" onClick={()=>setZoom(1)} fill=\"var(--t-fore-c)\" viewBox=\"0 0 1024 1024\" version=\"1.1\" p-id=\"2685\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M592 400l-128 0 0-128c0-19.2-12.8-32-32-32s-32 12.8-32 32l0 128-128 0c-19.2 0-32 12.8-32 32s12.8 32 32 32l128 0 0 128c0 19.2 12.8 32 32 32s32-12.8 32-32l0-128 128 0c19.2 0 32-12.8 32-32S611.2 400 592 400z\" p-id=\"2686\"></path><path d=\"M950.4 905.6l-236.8-236.8c54.4-64 86.4-147.2 86.4-236.8C800 227.2 636.8 64 432 64 227.2 64 64 227.2 64 432 64 636.8 227.2 800 432 800c89.6 0 172.8-32 236.8-86.4l236.8 236.8c6.4 6.4 16 9.6 22.4 9.6s16-3.2 22.4-9.6C963.2 937.6 963.2 918.4 950.4 905.6zM432 736C265.6 736 128 598.4 128 432 128 265.6 265.6 128 432 128c166.4 0 304 137.6 304 304C736 598.4 598.4 736 432 736z\" p-id=\"2687\"></path></svg>\r\n                        <svg className=\"menu-button\" onClick={()=>setZoom(-1)} fill=\"var(--t-fore-c)\" viewBox=\"0 0 1024 1024\" version=\"1.1\" p-id=\"2556\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M592 400l-320 0c-19.2 0-32 12.8-32 32s12.8 32 32 32l320 0c19.2 0 32-12.8 32-32S611.2 400 592 400z\" p-id=\"2557\"></path><path d=\"M950.4 905.6l-236.8-236.8c54.4-64 86.4-147.2 86.4-236.8C800 227.2 636.8 64 432 64 227.2 64 64 227.2 64 432 64 636.8 227.2 800 432 800c89.6 0 172.8-32 236.8-86.4l236.8 236.8c6.4 6.4 16 9.6 22.4 9.6s16-3.2 22.4-9.6C963.2 937.6 963.2 918.4 950.4 905.6zM432 736C265.6 736 128 598.4 128 432 128 265.6 265.6 128 432 128c166.4 0 304 137.6 304 304C736 598.4 598.4 736 432 736z\" p-id=\"2558\"></path></svg>\r\n                    </div>\r\n                </div>  \r\n            </div>\r\n                        \r\n        </div>\r\n    )\r\n}\r\n\r\n export default Explanation","import { connect } from 'react-redux'\r\n\r\nimport * as explActions from '../actions/explanation'\r\nimport Explanation from '../components/Explanation'\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n    expl: state.explanation\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setSetting: setting => {\r\n        dispatch(explActions.setSetting(setting))\r\n    },\r\n    setMoreFold: isUnfold => {\r\n        dispatch(explActions.setMoreFold(isUnfold))\r\n    },\r\n    tapWord: (word) => {\r\n        dispatch(explActions.tapWord(word))\r\n        dispatch(explActions.loadWordData(word))\r\n        dispatch(explActions.setExplState('loading'))\r\n    },\r\n    setZoom: zoom => {\r\n        dispatch(explActions.setZoom(zoom))\r\n    }\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Explanation)\r\n","import React from 'react';\r\nimport Word from './word.js';\r\n\r\nimport { renderToString } from \"react-dom/server\";\r\n\r\nimport './translatePanel.css';\r\n\r\n// 放到TranslatePanel 哪里合适\r\nvar translateScope={\r\n    front:1,    //设定值\r\n    behind:1,   //设定值\r\n    nf:0,       //当前值\r\n    nb:0        //当前值\r\n}\r\n\r\nclass TranslatePanel extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n            showStatus:'hidden',\r\n            movingStyle:{},\r\n            // '0' 表示隐藏 \r\n            status:'0',\r\n        }\r\n        this.data = {};\r\n        this.movingRecord = {\r\n            dragY:0,\r\n            lastY:0,\r\n            moving:false,\r\n            slipY:0,\r\n            slipNum:0,\r\n        };\r\n        this.tpHeight = 550;\r\n        this.count = 0;\r\n    }\r\n\r\n    handleAdjustmentHeight(e){\r\n        // console.log(e)\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        if(this.movingRecord.moving == false) {\r\n            this.movingRecord.lastY = e.touches[0].clientY;\r\n            this.movingRecord.moving = true;\r\n            setTimeout(()=>this.movingRecord.moving = false, 200);\r\n        }else{\r\n            let dragY = this.movingRecord.dragY + e.touches[0].clientY - this.movingRecord.lastY;\r\n\r\n            this.movingRecord.lastY = e.touches[0].clientY;\r\n\r\n            if(this.state.showStatus == \"full\") {\r\n                if(dragY < 0) dragY = 0;\r\n                if(dragY > this.tpHeight - 100) dragY = this.tpHeight - 100;\r\n            }else if(this.state.showStatus == \"half\") {\r\n                // 向上偏移值限制\r\n                if(dragY < -this.tpHeight / 2) dragY = -this.tpHeight / 2;\r\n                // 向下偏移值限制\r\n                if(dragY > this.tpHeight / 5 ) dragY = this.tpHeight / 5;\r\n                if(dragY > 150 ) dragY = 150;\r\n\r\n            }\r\n\r\n            this.setTranslateY(dragY);\r\n        }\r\n    }\r\n\r\n    handleTouchSlip(e){\r\n        // console.log('touch slip')\r\n        e.stopPropagation();\r\n        if(this.movingRecord.moving == false){\r\n            this.movingRecord.lastY = e.touches[0].clientY;\r\n            this.movingRecord.slipY = 0;\r\n            this.movingRecord.moving = true;\r\n            setTimeout(()=>{\r\n                this.movingRecord.moving = false;\r\n                this.slipNum = 0;\r\n            }, 150);\r\n        }else{\r\n            this.movingRecord.slipY = this.movingRecord.slipY + e.touches[0].clientY - this.movingRecord.lastY;\r\n            \r\n            let status = 0;\r\n            if(this.state.showStatus == \"half\"){\r\n                status = 1;\r\n            }else if(this.state.showStatus == \"full\"){\r\n                status = 2;\r\n                this.setTranslateY(0);\r\n            }\r\n\r\n            if(this.movingRecord.slipY > 100 && this.slipNum == 0){\r\n                status = status - 1;\r\n                this.movingRecord.slipY = 0;\r\n                this.slipNum = 1;\r\n            }else if(this.movingRecord.slipY < -100 && this.slipNum == 0){\r\n                status = status + 1;\r\n                this.movingRecord.slipY = 0;\r\n                this.slipNum = 1;\r\n            }\r\n\r\n            if(status < 0)status = 0;\r\n            if(status > 2)status = 2;\r\n            let showStatus = ['hidden', 'half', 'full'][status];\r\n            // console.log('status', status, this.movingRecord.slipY);\r\n\r\n            if(this.state.showStatus == showStatus) return;\r\n\r\n            this.setState({\r\n                showStatus:showStatus\r\n            })\r\n\r\n            // let tp = document.getElementById(\"tp\"); \r\n            // tp.style.transform = style.transform;\r\n        }\r\n    }\r\n\r\n    setTranslateY(value){\r\n        this.movingRecord.dragY = value;\r\n        let style = {transform:`translateY(${value}px)`}\r\n        // console.log('set translate y', value);\r\n        let tp = document.getElementById(\"tp\");\r\n        if(!tp) {\r\n            console.log('tp x');\r\n            return;\r\n        };\r\n        tp.style.transform = style.transform;\r\n    }\r\n\r\n    test(e){\r\n        console.log(e)\r\n        e.preventDefault();\r\n\r\n    }\r\n\r\n    handleMouseMove(e){\r\n        console.log('mouse move ->', this.movingRecord.moving,e)\r\n        \r\n        if(this.movingRecord.moving == true){\r\n            \r\n            this.movingRecord.slipY = this.movingRecord.slipY + e.clientY - this.movingRecord.lastY;\r\n            \r\n            let status = 0;\r\n            if(this.state.showStatus == \"half\"){\r\n                status = 1;\r\n            }else if(this.state.showStatus == \"full\"){\r\n                status = 2;\r\n            }\r\n\r\n            if(this.movingRecord.slipY > 100 && this.slipNum == 0){\r\n                status = status - 1;\r\n                this.movingRecord.slipY = 0;\r\n                this.slipNum = 1;\r\n            }else if(this.movingRecord.slipY < -100 && this.slipNum == 0){\r\n                status = status + 1;\r\n                this.movingRecord.slipY = 0;\r\n                this.slipNum = 1;\r\n            }\r\n\r\n            if(status < 0)status = 0;\r\n            if(status > 2)status = 2;\r\n            let showStatus = ['hidden', 'half', 'full'][status];\r\n            // console.log('status', status, this.movingRecord.slipY);\r\n\r\n            if(this.state.showStatus == showStatus) return;\r\n\r\n            this.setState({\r\n                showStatus:showStatus\r\n            })\r\n\r\n            // let tp = document.getElementById(\"tp\"); \r\n            // tp.style.transform = style.transform;\r\n        }\r\n        \r\n    }\r\n\r\n    handleMouseDown(e){\r\n        this.movingRecord.moving = true;\r\n    }\r\n\r\n    handleMouseUp(e){\r\n        this.movingRecord.moving = false;\r\n        this.slipNum = 0;\r\n    }\r\n\r\n    handleMouseLeave(e){\r\n        this.movingRecord.moving = false;\r\n        this.slipNum = 0;\r\n    }\r\n\r\n    translate(){\r\n        // let url = \"http://192.168.1.14:8000/translate\";\r\n        // let url = \"http://47.94.145.177:8000/translate\";\r\n        let url = \"https://baotlake.ink:8001/translate\";\r\n        \r\n        var xhr = new XMLHttpRequest(false,true);\r\n        xhr.open(\"POST\", url, true );\r\n        xhr.withCredentials = false;\r\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\r\n        // xhr.onreadystatechange = ()=>{}\r\n        let self = this;\r\n        xhr.onload = function(){\r\n            let json = JSON.parse(xhr.responseText);\r\n            if(json.status == '1'){\r\n                self.data.translate = json.value;\r\n                self.setState({\r\n                    status:'1'\r\n                })\r\n                // console.log('data', self.data)\r\n            }\r\n        }\r\n\r\n        let text = this.props.translateText && this.props.translateText.text;\r\n\r\n        xhr.send(`text=${encodeURIComponent(text)}&lang=${encodeURIComponent('en')}`);\r\n\r\n    }\r\n\r\n    getTextContent(element){\r\n        \r\n    }\r\n\r\n    componentDidMount(){\r\n        let tp = document.getElementById('tp');\r\n        tp.addEventListener('touchmove', (e)=>e.preventDefault());\r\n        this.tpHeight = tp.offsetHeight;\r\n\r\n    }\r\n\r\n    render(){\r\n\r\n        let count = this.props.translateCount;\r\n        if(this.count != count){\r\n            // console.log('extract',targetId, this.targetId);\r\n            this.setState({\r\n                showStatus:'half',\r\n                status:0,\r\n            })\r\n            this.translate();\r\n            this.movingRecord.sumY = 0;\r\n            // this.setTranslateY(0);\r\n            this.count = count;\r\n\r\n        }\r\n        // if(this.state.showStatus == 'hidden') this.targetId = null;\r\n\r\n        let showStyle={\r\n            hidden:{\r\n                bottom:\"-85%\",\r\n                height:'80%',\r\n            },\r\n            half:{\r\n                bottom:\"-45%\",\r\n                height:'80%',\r\n            },\r\n            full:{\r\n                bottom:0,\r\n                height:'80%',\r\n            }\r\n        }\r\n\r\n        let panelStyle = Object.assign({}, showStyle[this.state.showStatus]);\r\n\r\n        return (\r\n            <div id=\"tp\" className=\"wrp-translate-panel\" style={panelStyle}\r\n                onTouchMove={(e)=>this.handleTouchSlip(e)}\r\n                onMouseMove={(e)=>this.handleMouseMove(e)}\r\n                onMouseDown={(e)=>this.handleMouseDown(e)}\r\n                onMouseUp={(e)=>this.handleMouseUp(e)}\r\n                onMouseLeave={(e)=>this.handleMouseLeave(e)}\r\n                onClick={(e)=>this.props.clickWord(e)}\r\n            >\r\n                <div className=\"wrp-tp-handle\" onTouchMove={(e)=>this.handleAdjustmentHeight(e)} onClick={()=>this.setTranslateY(0)} />\r\n\r\n                <div className=\"\">{this.props.translateText.elements}</div>\r\n                <br/>\r\n                <div className=\"\">\r\n                    {(this.state.status == '1')?this.data.translate:''}\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default TranslatePanel;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport logo from './components/res/logo.png';\r\nimport manifest from './manifest.json';\r\n\r\n\r\nfunction head(child){\r\n    let head = [];\r\n    head = head.concat(child);\r\n    ReactDOM.render(head, document.getElementById('wrp-head'));\r\n}\r\n\r\nexport default head;","import React from 'react';\r\nimport '../App.css';\r\n\r\nimport { connect } from 'react-redux'\r\nimport * as aActions from '../actions/a'\r\nimport * as _ from 'lodash'\r\n\r\n\r\nfunction A(props){\r\n\r\n    const handleClick = (e)=>{\r\n        // console.log('A handleClick', e.currentTarget,e.currentTarget.attributes[\"data-src\"]);\r\n        // // 阻止默认事件\r\n        e.preventDefault();\r\n        let url = _.get(e, 'currentTarget.attributes.data-src.value');\r\n        if ( !url ) return;\r\n        props.setSrc(url)\r\n        props.setShow(true)\r\n    }\r\n    \r\n    // let aProps = props.props\r\n    // // aProps.className = \"wrp-a \" + aProps.className;\r\n    // aProps['data-href'] = aProps.href;\r\n    // delete aProps.href;\r\n    return (\r\n        <a {...props.props}\r\n            onClick={handleClick}\r\n        >{props.children}</a>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    setShow: isShow => {\r\n        dispatch(aActions.setShow(isShow))\r\n    },\r\n    setSrc: url => {\r\n        dispatch(aActions.setSrc(url))\r\n    }\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(A);\r\n\r\n// 有的页面会js动态加载新的<a/>, 该怎么办？\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport * as actions from './actions/app';\r\nimport * as explActions from './actions/explanation';\r\nimport * as aActions from './actions/a';\r\n\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport jQuery from 'jquery';\r\nimport {\r\n    Link,\r\n    withRouter,\r\n} from 'react-router-dom'\r\n\r\nimport './App.css';\r\n\r\nimport Word from './components/word';\r\nimport ReadPanel from './components/readPanel';\r\nimport ManageExplanation from './containers/ManageExplanation';\r\n\r\nimport TranslatePanel from './components/translatePanel';\r\nimport head from './head';\r\nimport A from './components/a';\r\n\r\nvar wrp = \"wordReadingPro\";\r\n\r\n// import ReactDOMServer from 'react-dom/server';\r\n\r\n// import getText from './text.js';\r\n// import { isFulfilled } from 'q';\r\n// import { throwError } from 'rxjs';\r\n\r\nclass App extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        /**props.url */\r\n        this.state={\r\n            showExplainPanel:false,\r\n            showLinkDialog:false,\r\n            clickedWord:{},\r\n            // translateText:undefined,\r\n            translateCount:0,\r\n        };\r\n        this.htmlElements = [];\r\n        // this.headCssText = '';\r\n        // this.externalLink = '';\r\n        // this.abstract = null;\r\n        this.extractScope = {\r\n            front:1,\r\n            behind:1,\r\n            // fn, bn为断句过程中的变量\r\n            fn:0,\r\n            bn:0,\r\n        };\r\n        this.translateText = {};\r\n        this.sId = 0;\r\n        // 标识阅读界面, 页面序号\r\n        this.docId = -1;\r\n        // 链接，点击链接时显示转跳对话框\r\n        this.link = {\r\n            hash:false,\r\n            url:\"\",\r\n        };\r\n        this.config = {\r\n            splitWord:false,\r\n            splitSentence:true,\r\n            runScript:true,\r\n        };\r\n\r\n        // 移除$的控制权，避免冲突\r\n        jQuery.noConflict();\r\n        this.checkURI()\r\n    }\r\n\r\n    //提取网页内容摘要\r\n    extractAbstract(node){\r\n        if(!node) return;\r\n        let abstract = {};\r\n        // icon\r\n        let links = node.head.getElementsByTagName('link');\r\n        for(let i =0; i < links.length; i++){\r\n            let link = links[i];\r\n            if(!link.rel)continue;\r\n            if(link.rel.indexOf('icon') > 0){\r\n                abstract.icon = link.href;\r\n                break;\r\n            }\r\n        }\r\n        // title\r\n        let title = \"\";\r\n        let docTitle =  node.head.getElementsByTagName('title')\r\n        if(docTitle.length > 0){\r\n            title = docTitle[0].textContent;\r\n        }else{\r\n            let docH1 = node.body.getElementsByTagName('h1');\r\n            if(docH1.length > 0){\r\n                title = docH1[0].textContent;\r\n            }else{\r\n\r\n            }\r\n        }\r\n        abstract.title = title;\r\n        \r\n        // description\r\n        let pTags = node.getElementsByTagName('p');\r\n        let description = \"\";\r\n        for(let i = 0; i < pTags.length; i++){\r\n            description = description + pTags[i].textContent.trim().slice(0,200);\r\n            if(description.length >= 200) break;\r\n        }\r\n\r\n        let spanTags = node.getElementsByTagName(\"span\");\r\n        for(let i=0; i < spanTags.length; i++){\r\n            description = description + spanTags[i].textContent.trim().slice(0,200);\r\n            if(description.length >= 200) break;\r\n        }\r\n\r\n        if(!description) description = node.body.textContent.trim().slice(0,200);\r\n        abstract.des = description;\r\n        \r\n        // console.log('摘要 描述',pTags, description);\r\n    \r\n        abstract.url = this.props.app.url;\r\n        abstract.key = this.props.app.key;\r\n\r\n\r\n        try{\r\n            console.log('set history', abstract);\r\n            this.props.setHistory(this.props.app.history, abstract);\r\n        }catch(e){\r\n            console.warn(\"\", e);\r\n        }\r\n    }\r\n\r\n    isInline(nodeName){\r\n        const innerText = ['#text','b','i','em','s','small','u','strong','mark','span','code','a'];  // 移除'a'\r\n        if(typeof(nodeName) != \"string\"){\r\n            console.error('parameter type error, isInline() need string parameter!')\r\n            // throw \"parameter type error, isInline() need string parameter!\"\r\n            // return false\r\n        };\r\n        // console.log('toLowerCase', nodeName);\r\n        if(innerText.includes(nodeName.toLowerCase())){\r\n            return true;\r\n        }else{\r\n            return false;\r\n        };\r\n    }\r\n\r\n    frontHaveWordEnd(node){\r\n        /**判断前半部分(node)的末尾是否是单词的末尾， 即判断前半部分(node)的末尾是否有单词分割符（空格等） */\r\n        let children = node;\r\n        let deep = 0;\r\n        while(children){\r\n            let child = children; // 备份\r\n            if(!this.isInline(children.nodeName)) return false;\r\n            if(children.nodeName == \"#text\"){\r\n                let text = children.textContent;\r\n                if(/[a-zA-Z0-9_-]/.test(text[text.length -1])) return true;\r\n                return false;\r\n            }\r\n\r\n            if(!children.lastChild){\r\n                children = children.previousSibling;\r\n                // deep = deep \r\n            }else{\r\n                children = children.lastChild;\r\n                deep = deep + 1;\r\n            }\r\n\r\n            // 继续向上就不必了吧, 算了， 先写上\r\n            if(!children && deep > 0){\r\n                children = child.parentNode.previousSibling;\r\n                deep = deep - 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    behindHaveWordEnd(node){\r\n        /**判断后半部分（node）的开端是否是单词的开端， 即判断后半部分(node)的开端是否有单词分割符（空格等） */\r\n        let children = node;\r\n        let deep = 0;\r\n        while(children){\r\n            let child = children;\r\n            if(!this.isInline(children.nodeName)) return false;\r\n            if(children.nodeName == \"#text\"){\r\n                let text = children.textContent;\r\n                if(/[a-zA-Z0-9_-]/.test(text[0])) return true;\r\n                return false;\r\n            }\r\n\r\n            \r\n            if(!children.firstChild){\r\n                children = children.nextSibling;\r\n                // deep = deep \r\n            }else{\r\n                children = children.firstChild;\r\n                deep = deep + 1;\r\n            }\r\n\r\n            // 继续向上就不必了吧, 算了， 先写上\r\n            if(!children && deep > 0){\r\n                children = child.parentNode.nextSibling;\r\n                deep = deep - 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    haveCrossWord(node){\r\n        // 判断相邻两个节点之间是否含有交叉情况\r\n        let nextNode = node.nextSibling;\r\n        if(!node || !nextNode) return false;\r\n        if(!this.isInline(node.nodeName) || !this.isInline(nextNode.nodeName)) return false;\r\n        if(this.frontHaveWordEnd(node) && this.behindHaveWordEnd(nextNode)) return true;\r\n        return false;\r\n    }\r\n\r\n    handleClickWord(e){\r\n\r\n        this.extractScope.fn = 0;\r\n        this.extractScope.bn = 0;\r\n        let target = window.getSelection().anchorNode;\r\n        let offset = window.getSelection().anchorOffset;\r\n\r\n        if(!target.wholeText) return;\r\n\r\n        let clickedChar = target.wholeText.slice(offset,offset+1);\r\n        if(!/\\w/.test(clickedChar)){\r\n            this.hiddenSomeone('explainPanel');\r\n            return;\r\n        }\r\n        let part = this.extractPart(target, offset,'word');\r\n        // console.log(':part')\r\n        let word = part[0].texts.join('') + part[1].texts.join('');\r\n        console.log('check word ->',word)\r\n\r\n        let position = {x:e.pageX, y:e.pageY, clientY:e.clientY};\r\n        this.setState({\r\n            clickedWord:{word:word,position:position},\r\n            showExplainPanel:true\r\n        })\r\n        this.props.tapWord(word, position);\r\n        this.props.loadWordData(word);\r\n        console.log('handle click word')\r\n        this.props.setExplShow(true);\r\n    }\r\n\r\n    translate(e){\r\n        // console.log('translate',e, e.target, e.currentTarget,'\\ndetail',e.detail,'\\ntouches',e.touches,'\\ntargetTouches',e.targetTouches,'\\nchangedTouches',e.changedTouches,'\\neventPhase',e.eventPhase)\r\n        // console.log(window.getSelection());\r\n        this.extractScope.fn = 0;\r\n        this.extractScope.bn = 0;\r\n        let target = e.target;\r\n        let part = this.extractPart(target,null,'sentence');\r\n        let sentence = part[0].texts.join('') + part[1].texts.join('');\r\n        sentence = sentence.trim();\r\n        console.log('sentence ->:', sentence);\r\n        if(sentence.length < 3) return;\r\n        this.translateText = {\r\n            text:sentence,\r\n            elements:[...part[0].elements,...part[1].elements]\r\n        }\r\n        this.setState({\r\n            translateCount:this.state.translateCount + 1,\r\n        })\r\n\r\n    }\r\n\r\n    getWord(content){\r\n        return (\r\n            <Word\r\n                content = {content}\r\n            />\r\n            );\r\n    }\r\n\r\n    wordSplit(text){\r\n        /**just #text ; 仅文本,不含其他标签 */\r\n        if(!text) return [];\r\n        let re = /\\b/;\r\n        let wordpattern = /\\w+/;\r\n        let List = [];\r\n        let splitList = text.split(re);\r\n        for(let w of splitList){\r\n            if(wordpattern.test(w)){\r\n                List.push(this.getWord(w));\r\n            }else{\r\n                List.push(w);\r\n            }\r\n        }\r\n\r\n        return List;\r\n    }\r\n\r\n    sentenceSplit(text, node=null){\r\n        /**just #text ; 仅文本,不含其他标签 */\r\n        if(!text) return [];\r\n        let pattern = /([\\s\\S]*?[.!?。！？\\n\\v\\t]+)/;\r\n        let splitList = text.split(pattern);\r\n        let list = [];\r\n        let onlyOneChild = node && node.parentNode && node.parentNode.childElementCount;\r\n        if(splitList.length == 1 && parseInt(onlyOneChild) <= 1){\r\n            return splitList;\r\n        }\r\n        let self = this;\r\n\r\n        splitList.map((v)=>{\r\n            if(/^\\s*$/.test(v)){\r\n                list.push(v)\r\n            }else{\r\n                \r\n                list.push((<span key={'s' + self.sId}>{v}</span>));\r\n                self.sId = self.sId + 1;\r\n            }\r\n        })\r\n\r\n        return list;\r\n    }\r\n\r\n    styleFormat(cssText){\r\n        cssText.replace(/-([a-z])/,(m,g)=>g.toUpperCase());\r\n        if(cssText != \"\"){\r\n            cssText = cssText.replace(/:\\s*/g, '\":\"')\r\n            cssText = cssText.replace(/;\\s*/g, '\",\"')\r\n            cssText = '{\"' + cssText + '\"}'\r\n            cssText = cssText.replace(/,\"\"/g, '')\r\n            // 还需要对一些内容进行替换，比如 border-radius 替换为borderRadius\r\n            let style = {};\r\n            try{\r\n                style = JSON.parse(cssText)\r\n            }catch(e){\r\n\r\n            }\r\n\r\n            return style\r\n        }\r\n        return {}\r\n    }\r\n\r\n    // 待删除\r\n    attToProps_old(content){\r\n        if(!content) return {};\r\n        let props = {};\r\n        // let cssText = content.style.cssText;\r\n        if(content.style) props['style'] = this.styleFormat(content.style.cssText);\r\n        // let classList = content.classList;\r\n        // console.log('classLIst', classList)\r\n        if(content.id) props['id'] = content.id;\r\n        if(content.classList.value) props.className = content.classList.value;\r\n        if(content.hidden != null) props['hidden'] = content.hidden;\r\n        if(content.src) props['src'] = content.src;\r\n        if(content.width) props['width'] = content.width;\r\n        if(content.height) props['height'] = content.height;\r\n        if(content.nodeName == \"IMG\") props.style.maxWidth = '100%';\r\n\r\n        if(content.href) props['href'] = content.href;\r\n        if(content.href) props['rel'] = content.rel;\r\n        if(content.target) props['target'] = content.target;\r\n\r\n        if(content.type) props['type'] = content.type;\r\n\r\n\r\n        return props;\r\n    }\r\n\r\n    attToProps(node){\r\n        if(!node) return {};\r\n        if(!node.attributes) return {};\r\n        let props = {};\r\n        for(let i = 0; i < node.attributes.length; i++){\r\n            let att = node.attributes[i];\r\n            let attName =att.name;\r\n            let attValue = att.value;\r\n\r\n            switch(attName){\r\n                case \"style\":\r\n                    attValue = this.styleConvert(node.style);\r\n                    break;\r\n                case \"src\":\r\n                case \"href\":\r\n                    // 大多默认为相对路径，需补全链接\r\n                    attValue = node[attName];\r\n                    break;\r\n                case \"srcset\":\r\n                    // 如何补全相对路径呢？这是一个问题，还有在css中的background-image:url()...\r\n                    attValue = '';\r\n                    break;\r\n                case \"class\":\r\n                    attName = \"className\";\r\n                    break;\r\n                // default:\r\n                //     continue;\r\n                // case \"async\":\r\n                //     console.log('async', att.value);\r\n                //     attName = \"\"\r\n                //     attValue = \"\";\r\n                //     break;\r\n                case \"for\":\r\n                    attName = \"htmlFor\";\r\n                    break;\r\n                case \"tabindex\":\r\n                    attName = \"tabIndex\";\r\n                    break;\r\n                case \"itemprop\":\r\n                    attName = \"itemProp\";\r\n                    break;\r\n                case \"itemscope\":\r\n                    attName = \"itemScope\";\r\n                    break;\r\n                case \"itemtype\":\r\n                    attName = \"itemType\";\r\n                    break;\r\n                case \"xml:space\":\r\n                    attName = \"xmlSpace\";\r\n                    break;\r\n                case \"fill-rule\":\r\n                    attName = \"fillRule\";\r\n                    break\r\n                case \"clip-rule\":\r\n                    attName = \"clipRule\";\r\n                    break\r\n                case \"autocapitalize\":\r\n                    attName = \"autoCapitalize\"\r\n                    break;\r\n                case \"acceptcharset\":\r\n                    attName = \"acceptCharset\";\r\n                    break;\r\n                case \"autocomplete\":\r\n                    attName = \"autoComplete\";\r\n                    break;\r\n                case \"stroke-linecap\":\r\n                    attName = \"strokeLinecap\"\r\n                    break;\r\n                case \"stroke-miterlimit\":\r\n                    attName = \"strokeMiterlimit\";\r\n                    break;\r\n                case \"stroke-width\":\r\n                    attName = \"strokeWidth\";\r\n                    break;\r\n                case \"stroke-linejoin\":\r\n                    attName = \"strokeLinejoin\";\r\n                    break;\r\n                case \"crossorigin\":\r\n                    attName = \"crossOrigin\";\r\n                    break;\r\n\r\n            }\r\n            // attName = attName.replace(/-([a-z])/g,(m,g)=>g.toUpperCase());\r\n            props[attName] = attValue;\r\n        }\r\n        return props;\r\n    }\r\n\r\n    styleConvert(style){\r\n        // style = element.style;\r\n        let styleObj = {};\r\n        for(let i=0; i < style.length; i++){\r\n            let styleKey = style[i].replace(/-([a-z])/g,(m,g)=>g.toUpperCase())\r\n            styleObj[styleKey] = style[style[i]];\r\n        }\r\n        // console.log(\"App.js: styleConvert() style:\", style, \"obj:\", styleObj);\r\n        return styleObj;\r\n    }\r\n\r\n    extractFront(node,alterNode){\r\n        // 提取单词前半部分, 在标签尾部，\r\n        let getCross = false;\r\n                \r\n        if(node.nodeName == \"#text\"){\r\n            // 文本 | 直接分割 返回\r\n\r\n            let text = node.textContent;\r\n            let cross, other;\r\n\r\n            let splitList = text.split(/(\\w*$)/); \r\n            // splitList = [Hello ','World']\r\n            other = splitList[0] ? splitList[0] : '';\r\n            cross = splitList[1] ? splitList[1] : '';\r\n            if(/[\\W]/.test(other[other.length - 1])) getCross = true;\r\n\r\n            if(alterNode){ //alterNode == \r\n                // 将交叉部分移出xmlDoc\r\n                // let newNode = doc.createTextNode(other)\r\n                // node.parentNode.replaceChild(newNode, node)\r\n            }\r\n            \r\n            let otherWord = this.wordSplit(other);\r\n            // console.log('return, cross, otherWord', ReactDOMServer.renderToString(cross),ReactDOMServer.renderToString(otherWord))\r\n            return [cross,otherWord]\r\n                        \r\n        }else{\r\n            // 标签 | 遍历 分割 返回\r\n            let c  = node.lastChild;\r\n            let crossChildren = [];\r\n            let otherChildren = [];\r\n\r\n            while(c){\r\n                if(getCross){\r\n                    // 已提取交叉情况，并移出xmlDoc\r\n                    console.log('app-196-traversal');\r\n                    otherChildren.push(this.htmlTraversal(c))\r\n                }else{\r\n                    // 继续迭代\r\n                    let [cross, other] = this.extractFront(c,alterNode)\r\n                    crossChildren.push(cross);\r\n                    otherChildren.push(other)\r\n                }\r\n                c = c.previousSibling;  // previousSibling\r\n            }\r\n            let type = node.nodeName.toLowerCase(); //.replace('body','div')\r\n            let props = this.attToProps(node);\r\n            let crossElement = this.createElement(type,props,crossChildren);\r\n\r\n            let otherElement = this.createElement(type,props,otherChildren);\r\n            // console.log('return, crossElement, otherElement', ReactDOMServer.renderToString(crossElement),ReactDOMServer.renderToString(otherElement))\r\n            return [crossElement, otherElement]\r\n        }\r\n    }\r\n\r\n    // translatePanel.js 需要，考虑共享\r\n    createElement(type,props,children){\r\n        type = type.toLowerCase();\r\n        let element;  \r\n\r\n        switch(type){\r\n            case \"div\":\r\n            case \"span\":\r\n            case \"p\":\r\n                element = React.createElement(type,props,children);\r\n                return element;\r\n            case \"a\":\r\n                props['data-src'] = props.href;\r\n                delete props.href;\r\n                element = (<A\r\n                    props = {props} \r\n                    clickLink={(link,status)=>this.clickLink(link, status)}\r\n                    clickWord={(e)=>this.handleClickWord(e)}\r\n                >{children}</A>);\r\n                return element;\r\n            // 以下为 empty elements (no children) 的标签\r\n            case \"input\":\r\n                // 存在value属性导致无法输入\r\n                delete props.value;\r\n            case \"img\":\r\n            case \"hr\":\r\n            case \"br\":\r\n            case \"link\":\r\n            case \"wbr\":\r\n            case \"area\":\r\n            case \"base\":\r\n            case \"embed\":\r\n            case \"keygen\":\r\n            case \"meta\":\r\n            case \"param\":\r\n            case \"source\":\r\n            case \"track\":\r\n                element = React.createElement(type,props);\r\n                return element;\r\n            // 以下为忽略的标签\r\n            case \"#comment\":\r\n            case \"#document\":\r\n            case \"script\":\r\n                // return '';\r\n                if(!this.config.runScript) return '';\r\n                if(props.src) props[\"data-href\"] = props.src;\r\n                delete props.src;\r\n                element = React.createElement(type, props, children);\r\n                return element;\r\n            // 特殊处理\r\n            case \"svg\":\r\n                element = React.createElement(type, props, children);\r\n                // element.dangerouslySetInnerHTML()\r\n                return element;\r\n            case \"body\":\r\n                element = React.createElement('div',props, children);\r\n                return element;\r\n            case \"col\":\r\n                return (<col {...props}></col>);\r\n            case \"textarea\":\r\n                if(children.length > 1) console.warn('React.reactElememt() Error! <textarea> tag only requests one children.')\r\n                // element = React.createElement('div',props, children[0]);\r\n                element = React.createElement('textarea',props, children[0]);\r\n                return element;\r\n            default:\r\n                try{\r\n                    element = React.createElement(type,props,children);\r\n                    return element;\r\n                }catch(e){\r\n                    console.log('React.createElement() Error on create \"', type, '\" tag!')\r\n                }\r\n                \r\n        }\r\n    }\r\n\r\n    extractBehind(node){\r\n        // 提取单词后半部分, 在标签首部，\r\n        let getCross = false;\r\n                \r\n        if(node.nodeName == \"#text\"){\r\n            // 文本 | 直接分割 返回\r\n\r\n            let text = node.textContent;\r\n            let cross, other;\r\n\r\n            let splitList = text.split(/(^\\w*)(.+$)/); \r\n            // splitList = ['','Hello',' World!','']\r\n            cross = splitList[1] ? splitList[1] : '';\r\n            other = splitList[2] ? splitList[2] : '';\r\n            if(/[\\W]/.test(other[0])) getCross = true;\r\n            \r\n            \r\n\r\n            let otherWord = this.wordSplit(other);\r\n            console.log('return, cross, otherWord', cross,other)\r\n            return [cross,otherWord]\r\n                        \r\n        }else{\r\n            // 标签 | 遍历 分割 返回\r\n            let c  = node.firstChild;\r\n            let crossChildren = [];\r\n            let otherChildren = [];\r\n\r\n            while(c){\r\n                if(getCross){\r\n                    // 已提取交叉情况，并移出xmlDoc\r\n                    console.log('app-262-traversal');\r\n                    otherChildren.push(this.htmlTraversal(c))\r\n                }else{\r\n                    // 继续迭代\r\n                    let [cross, other] = this.extractBehind(c)\r\n                    crossChildren.push(cross);\r\n                    otherChildren.push(other)\r\n                }\r\n                c = c.nextSibling;  // previousSibling\r\n            }\r\n            let type = node.nodeName.toLowerCase(); //.replace('body','div')\r\n            let props = this.attToProps(node);\r\n            let crossElement = this.createElement(type,props,crossChildren);\r\n\r\n            let otherElement = this.createElement(type,props,otherChildren);\r\n            // console.log('return, crossElement, otherElement', ReactDOMServer.renderToString(crossElement),\" | \",ReactDOMServer.renderToString(otherElement))\r\n            return [crossElement, otherElement]\r\n        }\r\n    }\r\n\r\n    extractBothEnds(node){\r\n        // console.log('extractBothEnds');\r\n        let alterNode = true\r\n        let frontCross = this.extractFront(node,alterNode)[0];\r\n        let [behindCross,behindOther] = this.extractBehind(node);\r\n        // console.log('behindCross',behindCross,'behindOther',behindOther,'frontCross', frontCross);\r\n        return [behindCross,behindOther,frontCross]\r\n    }\r\n    \r\n    // 未使用 \r\n    findCrossIndex(node){\r\n        /** node为父标签，判断子标签的交叉情况\r\n         *  index 表示该标签的*前*半部分 上个标签的后部分 有交叉情况\r\n         *  返回值为列表\r\n         */\r\n        let t1 = Date.now()\r\n        let indexList = [];\r\n        let childNodes = node.childNodes;\r\n        if( childNodes.length <= 1 || !node) return indexList;\r\n        for(let i = 1; i < childNodes.length; i++){\r\n            this.isInline(childNodes[i].nodeName)\r\n            this.isInline(childNodes[i - 1].nodeName)\r\n            if(this.isInline(childNodes[i].nodeName) && this.isInline(childNodes[i - 1].nodeName)){\r\n                let nodeChar = childNodes[i].textContent[0];\r\n                let lastNodeChar = childNodes[i - 1].textContent[childNodes[i - 1].textContent.length - 1];\r\n                let re = /[a-zA-Z0-9_-]/;\r\n                if(re.test(nodeChar) && re.test(lastNodeChar)){\r\n                    indexList.push(i);\r\n                }\r\n            }\r\n        }\r\n        let t2 = Date.now()\r\n        console.log('FindCrossIndex runing time', t2 - t1)\r\n        return indexList;\r\n    }\r\n\r\n    htmlTraversal(node){\r\n        if(!node) return [];\r\n        // console.log('htmlTraversal',node,node.nodeName)\r\n        // let ignoreTag = [\"script\",'meta','link','#comment','#document','iframe'];\r\n        // let mostCommon = [\"DIV\",\"P\",\"SPAN\"]\r\n        let type, props, element;\r\n        switch(node.nodeName){\r\n            case \"DIV\":\r\n            case \"P\":\r\n            case \"SPAN\":\r\n            case \"A\":\r\n            default:\r\n                let childrenList = [];\r\n                let frontCross, frontOther;\r\n                let haveCross = false;\r\n                if(this.config.splitWord){\r\n                    for(let i = 0; i < node.childNodes.length; i++){\r\n                        let children = node.childNodes[i];\r\n                        let haveCross2 = this.haveCrossWord(children, children.nextSibling);\r\n    \r\n                        // console.log('Cross Cross2', children, children.nextSibling, haveCross, haveCross2);\r\n                        if(!haveCross && !haveCross2){\r\n                            // console.log('app-362-traversal',children, children.length);\r\n                            childrenList = childrenList.concat(this.htmlTraversal(children));\r\n                            children = children.nextSibling;\r\n                        }else if(haveCross && haveCross2){\r\n                            // i all  前后都存在交叉情况\r\n                            let [behindCross, middle, newFrontCross] = this.extractBothEnds(children);\r\n                            console.log(\"middle\", middle);\r\n                            if(middle.props.children.length == 0){\r\n                                frontCross = [frontCross].concat(newFrontCross);\r\n                            }else if(middle.props.children[0].length < 1){\r\n                                // 三交叉 behindCross is ''\r\n                                // console.log('三交叉');\r\n                                frontCross = [frontCross].concat(newFrontCross);\r\n                            }else if(middle.props.children[0].length >= 1){\r\n                                let word = this.getWord([frontCross,behindCross]);\r\n                                childrenList = childrenList.concat(word).concat(middle);\r\n                                frontCross = newFrontCross;\r\n                                // frontCross = []\r\n                            };\r\n                        }else if(haveCross2){\r\n                            // i - 1 front 暂存\r\n                            [frontCross,frontOther] = this.extractFront(children);\r\n                            childrenList = childrenList.concat(frontOther);\r\n                        }else if(haveCross){\r\n                            // i behind\r\n                            let [behindCross,behindOther] = this.extractBehind(children);\r\n                            let word = this.getWord([frontCross,behindCross]);;\r\n                            childrenList = childrenList.concat(word).concat(behindOther);\r\n                        };\r\n                        haveCross = haveCross2;\r\n                        children = null;\r\n                    }\r\n                }else{\r\n                    for(let i = 0; i < node.childNodes.length; i++){\r\n                        let children = node.childNodes[i];\r\n                        childrenList = childrenList.concat(this.htmlTraversal(children));\r\n                    }\r\n                }\r\n                \r\n                type = node.nodeName.toLowerCase();\r\n    \r\n                props = this.attToProps(node);\r\n                element = this.createElement(type,props,childrenList);\r\n                return element;\r\n            case \"#text\":\r\n                if(this.config.splitWord){\r\n                    return this.wordSplit(node.textContent);\r\n                }else if(this.config.splitSentence){\r\n                    return this.sentenceSplit(node.textContent, node);\r\n                }else{\r\n                    return node.textContent;\r\n                }\r\n            case \"#comment\":\r\n            case \"#document\":\r\n            case \"IFRAME\":\r\n                // 忽略\r\n                return [];\r\n            case \"STYLE\":\r\n                // console.log('style tag->',node, node.innerText, node.scoped);\r\n                type = node.nodeName.toLowerCase();\r\n    \r\n                props = this.attToProps(node);\r\n                element = this.createElement(type,props,node.innerText);\r\n                return element;\r\n            case \"SCRIPT\":\r\n                type = node.nodeName.toLowerCase();\r\n    \r\n                props = this.attToProps(node);\r\n                element = this.createElement(type,props,node.innerText);\r\n                return element;\r\n        }\r\n    }\r\n\r\n    // 未使用\r\n    getHeadCssText(head){\r\n        if(!head) return '';\r\n        let cssText = '';\r\n        let styles = head.getElementsByTagName(\"style\");\r\n        for(let i=0; i < styles.length; i++){\r\n            cssText = cssText + styles[i].innerText;\r\n        }\r\n        return cssText;\r\n    }\r\n\r\n    // 未使用\r\n    insertHead(head){\r\n        /**提取head中的有用部分（link, style, ...）\r\n         * DOM操作插入document.head中\r\n         * 随着加载的文档越来越多， head中插入的也越来越多，干扰后续的阅读体验\r\n         * 所以需要插入，也需要移除\r\n         */\r\n        for(let i=0; i < head.childNodes.length; i++){\r\n            let node = head.childNodes[i]\r\n            let type = node.nodeName;\r\n            // console.log('nodeName', node, node.nodeName)\r\n            // console.log('node src ->', node.href)\r\n\r\n            // 相对链接转换为绝对\r\n            if(node.href) node.href = node.href;\r\n            if(node.src) node.src = node.src;\r\n\r\n            switch(type){\r\n                case \"LINK\":\r\n                    // 黑名单\r\n                    if([/manifest/,/icon/].findIndex((value)=>value.test(node.rel)) != -1) break;\r\n\r\n                    //白名单\r\n                    // if(![/stylesheet/,/preload/].findIndex((value)=>value.test(node.rel))) break;\r\n                case \"STYLE\":\r\n                    document.head.insertBefore(node, document.head.lastChild);\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n    extractHead(head){\r\n        /** 提取head中的有用部分，复制，返回列表 */\r\n        let list = [];\r\n        if(!head)return list;\r\n        let base = false;\r\n        for(let i=0; i < head.childNodes.length; i++){\r\n            let node = head.childNodes[i]\r\n            let type = node.nodeName;\r\n            // console.log('nodeName', node, node.nodeName)\r\n            // console.log('node src ->', node.href)\r\n\r\n            if(type === 'BASE'){\r\n                base = true\r\n            };\r\n\r\n            // 相对链接转换为绝对\r\n            if(node.href) node.href = node.href;\r\n            if(node.src) node.src = node.src;\r\n\r\n            switch(type){\r\n                case \"LINK\":\r\n                    // 黑名单\r\n                    if([/manifest/,/icon/].findIndex((value)=>value.test(node.rel)) != -1) break;\r\n\r\n                    //白名单\r\n                    // if(![/stylesheet/,/preload/].findIndex((value)=>value.test(node.rel))) break;\r\n\r\n                    list.push(this.createElement(type, this.attToProps(node), node.innerText));\r\n                    break;\r\n                case \"STYLE\":\r\n\r\n                    // list.push(this.createElement(type, this.attToProps(node), node.innerText));\r\n                    list.push(<style>{node.innerText}</style>);\r\n                    break;\r\n\r\n                case \"SCRIPT\":\r\n                    // list.push(<script >{node.innerText}</script>);\r\n                    list.push( this.createElement('script',this.attToProps(node), node.innerText) );\r\n                    break;\r\n\r\n                case \"TITLE\":\r\n                // 忽略\r\n                case \"#text\":\r\n                // case \"SCRIPT\":\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n        \r\n        // if(!base)list.push(this.createBaseTag());\r\n        return list;\r\n    }\r\n\r\n    createBaseTag(){\r\n        let url = this.props.url;\r\n        if(url){\r\n            if(/^https?:\\/\\/(.+\\.\\w+.*)|(localhost.*)/.test(url)){\r\n                // let origin = url.match(/^(https?:\\/\\/[\\w\\.]+)\\/?.*$/)[1];\r\n                return (<base href={url} />);\r\n            }\r\n        }\r\n        return '';\r\n    }\r\n\r\n    hiddenSomeone(name){\r\n        let names = name.split(' ');\r\n        names.map((name)=>{\r\n            switch(name){\r\n                case \"explainPanel\":\r\n                    this.props.setExplShow(false);\r\n                    break;\r\n                case \"linkDialog\":\r\n                    this.props.setAShow(false)\r\n                    break;\r\n            }\r\n        })\r\n    }\r\n\r\n    clickLink(link, status){\r\n        console.log(\"click Link\", link)\r\n        if(!link) return;\r\n\r\n        this.link.url = link;\r\n        this.link.hash = false;\r\n\r\n        let url = new URL(link);\r\n        let docUrl = new URL(this.props.url)\r\n        if((url.origin + url.pathname)==(docUrl.origin + docUrl.pathname)){\r\n            if(url.hash != \"\"){\r\n                // # hash 页面内标识符\r\n                this.link.hash = true;\r\n                this.link.url = url.hash;\r\n            }\r\n        }\r\n\r\n        // this.externalLink = link;\r\n\r\n        if(this.state.showLinkDialog == status) return;\r\n        if(typeof(status) != 'boolean') return;\r\n        this.setState({\r\n            showLinkDialog:status\r\n        });\r\n    }\r\n\r\n    // 寻找分割的断点位置\r\n    findSubPart(text,direction,pattern){\r\n        /**front 单词模板pattern /^[\\s\\S]*\\W(\\w*?)$/\r\n         * behind 单词模板pattern /^(\\w*?)\\W[\\s\\S]*$/\r\n         */\r\n        let subPart;\r\n        if(direction == 'front'){\r\n            // let pattern = /^[\\s\\S]*\\W(\\w*?)$/;\r\n            subPart = text.match(pattern);\r\n            // console.log('match', subPart);\r\n            if(subPart != null){\r\n                this.extractScope.fn += 1;\r\n                subPart = subPart[1];\r\n            }else{\r\n                subPart = text;\r\n            }\r\n        }else{\r\n            // behind\r\n            // let pattern = /^(\\w*?)\\W[\\s\\S]*$/;\r\n            subPart = text.match(pattern);\r\n            // console.log('match', subPart, pattern);\r\n\r\n            if(subPart != null){\r\n                this.extractScope.bn += 1;\r\n                subPart = subPart[1];\r\n            }else{\r\n                subPart = text;\r\n            }\r\n        }\r\n        // console.log('subPart', subPart)\r\n        // const end = /[.。!！?？]/\r\n        return subPart;\r\n    }\r\n\r\n    frontFind(target, offset, testParent=true,pattern){\r\n        // 向前遍历节点 查找翻译起点\r\n        // console.log('f')\r\n        let result = {\r\n            texts:[],\r\n            elements:[],\r\n            break:false\r\n        }\r\n        if(!target) return result;\r\n        while(target){\r\n            // console.log(\"front, while\", target,result.texts);\r\n            if(target.nodeName == \"#text\"){\r\n                let text\r\n                if(offset){\r\n                    text = target.textContent.slice(0,offset);\r\n                }else{\r\n                    text = target.textContent;\r\n                }\r\n                // console.log('front text', text, target)\r\n                let subPart = this.findSubPart(text,'front',pattern);\r\n                // console.log('subPart', subPart)\r\n                if(this.extractScope.front == this.extractScope.fn){\r\n                    result.texts.unshift(subPart);\r\n                    result.elements.unshift(subPart);\r\n                    // console.log('break')\r\n                    result.break = true;\r\n                    break;\r\n                }else{\r\n                    subPart = text;\r\n                    result.texts.unshift(subPart);\r\n                    result.elements.unshift(subPart);\r\n                }\r\n            }else if(target.nodeName == \"SPAN\"){\r\n                if(target.classList[0] == \"@w\"){\r\n                    // Word\r\n                    result.texts.unshift(target.textContent);\r\n                    result.elements.unshift(this.copyWord(target));\r\n                }else{\r\n                    // 需要遍历子节点\r\n                    let children = this.frontFind(target.lastChild,null,false,pattern);\r\n                    result.texts.unshift(...children.texts);\r\n                    result.elements.unshift(this.copy(target,children.elements));\r\n                    result.break = children.break;\r\n                    if(children.break) break;\r\n                }\r\n            }else if( !this.isInline(target.nodeName)){\r\n                break;\r\n            }else{\r\n                // 其他标签， 遍历子节点\r\n                let children = this.frontFind(target.lastChild,null,false,pattern);\r\n                // console.log(\"front children\", children)\r\n                result.texts.unshift(...children.texts);\r\n                result.elements.unshift(this.copy(target,children.elements));\r\n                result.break = children.break;\r\n                if(children.break) break;\r\n            }\r\n\r\n            // 偶尔因target.parentName undefined 出错;\r\n            if(!target.previousSibling && this.isInline(target.parentNode.nodeName) && testParent){\r\n                target = target.parentNode.previousSibling;\r\n            }else{\r\n                target = target.previousSibling;\r\n            }\r\n            offset = null;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    behindFind(target,offset, testParent=true,pattern,driectTarget=false){\r\n        // 向后遍历节点  查找翻译终点 \r\n        // console.log('behindFind -start,',target)\r\n        let result = {\r\n            texts:[],\r\n            elements:[],\r\n            break:false,\r\n        }\r\n        if(!target) return result;\r\n        if(!offset) offset = 0;\r\n        while(target){\r\n            console.log(\"next, while\", target);\r\n            if(target.nodeName == \"#text\"){\r\n                let text = target.textContent.slice(offset);\r\n                console.log('behind text', text,target,offset,target.textContent)\r\n\r\n                let subPart = this.findSubPart(text,'behind',pattern);\r\n                if(this.extractScope.behind == this.extractScope.bn){\r\n                    result.texts.push(subPart);\r\n                    result.elements.push(subPart);\r\n                    result.break = true;\r\n                    console.log('break')\r\n                    break;\r\n                }else{\r\n                    subPart = text;\r\n                    result.texts.push(subPart);\r\n                    result.elements.push(subPart);\r\n                }\r\n            }else if(target.nodeName == \"SPAN\"){\r\n                if(target.classList[0] == \"@w\"){\r\n                    // Word\r\n                    result.texts.push(target.textContent);\r\n                    result.elements.push(this.copyWord(target));\r\n                }else{\r\n                    // 需要遍历子节点\r\n                    let children = this.behindFind(target.firstChild,0,false,pattern);\r\n                    result.texts.push(...children.texts);\r\n                    result.elements.push(this.copy(target,children.elements));\r\n                    result.break = children.break;\r\n                    if(children.break) break;\r\n                }\r\n            }else if( !this.isInline(target.nodeName) && !driectTarget){\r\n                break;\r\n            }else{\r\n                // 其他标签， 遍历子节点\r\n                let children = this.behindFind(target.firstChild,0,false,pattern);\r\n                result.texts.push(...children.texts);\r\n                result.elements.push(this.copy(target,children.elements));\r\n                result.break = children.break;\r\n                if(children.break) break;\r\n            }\r\n\r\n            if(!target.nextSibling && this.isInline(target.parentNode.nodeName) && testParent){\r\n                target = target.parentNode.nextSibling;\r\n            }else{\r\n                target = target.nextSibling;\r\n            }\r\n            offset = 0;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    // 从html中提取部分文字区域， 例如：单词，句子\r\n    extractPart(target, offset, type='word'){\r\n        if(!target) return['',''];\r\n        // console.log('translate test',target);\r\n        let frontPattern;\r\n        let behindPattern;\r\n        if(type == 'word'){\r\n            frontPattern = /^[\\s\\S]*\\W(\\w*?)$/;\r\n            behindPattern = /^(\\w*?)\\W[\\s\\S]*$/;\r\n        }else if(type=='sentence'){\r\n            frontPattern = /^[\\s\\S]*[.!?。！？\\v\\t]([\\s\\S]*?)$/;\r\n            behindPattern = /^([\\s\\S]*?[.!?。！？\\v\\t])[\\s\\S]*$/;\r\n        }\r\n        let frontTarget = target;\r\n        if(offset == null){\r\n            frontTarget = target.previousSibling;\r\n            if(!this.isInline(target.nodeName)){\r\n                frontTarget = null;\r\n            }\r\n        }\r\n        // console.log('a',frontTarget,offset)\r\n        let front = this.frontFind(frontTarget,offset,true,frontPattern);\r\n        // console.log('go -1 front',front,'go -2');\r\n        let behind = this.behindFind(target,offset,true,behindPattern,true);\r\n        // console.log('go -2 behind',behind,'go -end');\r\n      \r\n        return [front, behind];\r\n    }\r\n\r\n    copy(content,children){\r\n        // Element、Children 为React Element\r\n        let type = content.nodeName.toLowerCase();\r\n        let props = this.attToProps(content);\r\n        let element = React.createElement(type,props,...children);\r\n        return element;\r\n    }\r\n\r\n    deepCopy(node,returnChilren=false){\r\n        \r\n        if(node.nodeName == '#text') return node.textContent;\r\n\r\n        let children = node.firstChild;\r\n        let childrenList = [];\r\n        while(children){\r\n            childrenList = childrenList.concat(this.deepCopy(children));\r\n            children = children.nextSibling;\r\n        }\r\n\r\n\r\n        if(returnChilren){\r\n            return childrenList;\r\n        }else{\r\n\r\n            let type = node.nodeName.toLowerCase();\r\n            const ignoreTag = ['#comment'];\r\n\r\n            if(ignoreTag.includes(type)){\r\n                return '';\r\n            }\r\n\r\n            let props = this.attToProps(node);\r\n            const noChildren = ['img','hr','br','input','link','wbr'];\r\n\r\n            if(noChildren.includes(type)){\r\n                let element = React.createElement(type,props);\r\n                return element;\r\n            }\r\n            \r\n            let element = React.createElement(type,props,childrenList);\r\n            return element;\r\n        }\r\n        \r\n    }\r\n\r\n    copyWord(word){\r\n        // copy Word, 由Word渲染后的span便签copy Word\r\n        // word可能含有子标签，需要遍历复制\r\n        let childrenList = this.deepCopy(word,true);\r\n        return(\r\n            <Word\r\n                content={childrenList}\r\n                handleClick={(e,w)=>{this.props.clickWord(e,w)}}\r\n                translate={()=>{}}\r\n            />\r\n        )\r\n    }\r\n\r\n    readNewPage(){\r\n        // console.log(\"App.js readNewPage()\", this.link.url);\r\n\r\n        // // this.props.history.push(`/r?url=${encodeURIComponent(this.link.url)}`);\r\n        // this.props.setInput(this.link.url, true);\r\n\r\n        // // 关闭对话框\r\n        // if(this.state.showExplainPanel){\r\n        //     this.setState({\r\n        //         showExplainPanel:false\r\n        //     });\r\n        //     console.log('readNewPage')\r\n        //     this.props.setExplShow(false)\r\n        // };\r\n\r\n        // if(this.state.showLinkDialog){\r\n        //     this.setState({\r\n        //         showLinkDialog:false\r\n        //     });\r\n        // };\r\n    }\r\n\r\n    docParser(doc){\r\n        // console.log('app-traversal');\r\n        \r\n        let t1 = Date.now()\r\n        let node = (new DOMParser()).parseFromString(doc, 'text/html')\r\n        let base = node.createElement('base');\r\n        console.log('base app.url', this.props.app.url)\r\n        base.href = new URL(this.props.app.url).origin; \r\n        node.head.insertBefore(base, node.head.firstChild);\r\n\r\n        let htmlElements = this.htmlTraversal(node.body);\r\n        let t2 = Date.now()\r\n        console.log(\"traversal Runing time \", t2 - t1)\r\n\r\n        this.htmlElements = htmlElements;\r\n        this.abstract = null;\r\n\r\n        // 提取head， 渲染head\r\n        let headChildList = this.extractHead(node.head);\r\n        head(headChildList);\r\n        this.extractAbstract(node);\r\n        window.scrollTo(0, 0);\r\n\r\n\r\n        try{\r\n            console.log('setStatus ->', 'completed');\r\n            this.props.setStatus('completed');\r\n        }catch(e){\r\n            console.error(e);\r\n        }\r\n\r\n        return htmlElements;\r\n    }\r\n    \r\n    render() {\r\n        let htmlElements = this.htmlElements;\r\n        console.log('App.js: render()  status = ', this.props.app.status)\r\n        if(this.props.app.status == 'parsing'){\r\n            htmlElements = this.docParser(this.props.app.xmlDoc);\r\n        }\r\n\r\n        console.log(`html elements: ${this.htmlElements}`)\r\n\r\n        return(\r\n            <div id=\"wrp-app\" >\r\n                <ReadPanel\r\n                    padding={!this.props.url}\r\n                    content={htmlElements}\r\n                    hiddenSomeone = {(name)=>this.hiddenSomeone(name)}\r\n                    handleClick={(e)=>{this.handleClickWord(e)}}\r\n                    translate={(e)=>this.translate(e)}\r\n                />\r\n\r\n                <ManageExplanation/>\r\n                <div className=\"wrp-view\">\r\n                    <TranslatePanel \r\n                        // translateTarget={this.state.translateTarget}\r\n                        translateText = {this.translateText}\r\n                        translateCount ={this.state.translateCount}\r\n                        clickWord={(e)=>this.handleClickWord(e)}\r\n                    />\r\n                    <div className={'wrp-link-dialog-box '.concat(this.props.a.show ? 'link-dialog-show' : '')} >\r\n                        <div>\r\n                            {(this.link.hash)?\r\n                            <a href={this.link.url}>\r\n                                <div className=\"wrp-nav-item wrp-ld-button\">\r\n                                    <svg className=\"wrp-nav-item-icon \" viewBox=\"0 0 1024 1024\" version=\"1.1\" fill=\"var(--c-dark)\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"4385\"><defs><style type=\"text/css\"></style></defs><path d=\"M250.016 416.992l319.008 43.008 40 310.016 236-591.008zM120.992 464q-11.008-0.992-18.496-8.512t-8.992-19.008 4-20.512 15.488-12.992l778.016-311.008q8.992-4 18.016-2.016t16 8.992 8.992 16-2.016 18.016l-310.016 776q-4 10.016-13.504 15.488t-20.512 4-18.496-8.992-8.512-18.496l-48.992-384z\" p-id=\"4386\"></path></svg>\r\n                                    <div className=\"wrp-nav-item-title\" >转跳至此处</div>\r\n                                </div>\r\n                            </a>\r\n                            :\r\n                            <Link \r\n                                className=\"wrp-nav-item wrp-ld-button\" \r\n                                to={`/wrp-read?url=${encodeURIComponent(this.props.a.url)}`} \r\n                                // onClick={()=>this.readNewPage()}\r\n                            >\r\n                                <svg className=\"wrp-nav-item-icon \" viewBox=\"0 0 1024 1024\" version=\"1.1\"  fill=\"var(--c-dark)\"><path  d=\"M863 942H500.3L309.7 822.6c-33.8-21.2-54.9-60.7-54.9-103V162.5c0-30.4 14.5-57.6 38.7-72.9 24.4-15.4 53.6-15.4 78-0.1L507 174.3h356c52.9 0 96 46.9 96 104.6v558.4c0 57.8-43.1 104.7-96 104.7z m-345.6-69.8H863c17.6 0 32-15.6 32-34.9V278.9c0-19.2-14.4-34.9-32-34.9H489.9l-150.3-94.1c-6.4-4-12-1.3-14.1 0-2.5 1.6-6.7 5.3-6.7 12.6v557.1c0 17.5 8.7 33.8 22.8 42.5l175.8 110.1z\" fill=\"#595959\" p-id=\"4277\"></path><path d=\"M508.8 942H161c-52.9 0-96-46.9-96-104.6V278.9c0-57.7 43.1-104.6 96-104.6h125.8v69.8H161c-17.6 0-32 15.6-32 34.9v558.4c0 19.2 14.4 34.9 32 34.9h347.8V942zM497.5 174.3h1v69.8h-1z\" p-id=\"4278\"></path><path d=\"M480 209.2h64v697.2h-64z\" p-id=\"4279\"></path></svg>\r\n                                <div className=\"wrp-nav-item-title\">阅读新页面</div>\r\n                            </Link>\r\n                            }\r\n                        </div>\r\n                        <a href={this.externalLink} target=\"_blank\" href={this.props.a.url}>\r\n                            <div className=\"wrp-nav-item wrp-ld-button\">\r\n                                <svg className=\"wrp-nav-item-icon \" version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 200 200\" ><path fill=\"var(--c-dark)\" d=\"M168.8,123.3c0-3.2,2.8-5.8,6.3-5.8s6.3,2.6,6.3,5.8V164c0,6.4-5.6,11.6-12.5,11.6H31.2\tc-6.9,0-12.5-5.2-12.5-11.6V36c0-6.4,5.6-11.6,12.5-11.6H75c3.5,0,6.3,2.6,6.3,5.8s-2.8,5.8-6.3,5.8H37.5c-3.4,0-6.2,2.6-6.3,5.8\tc0,0,0,0,0,0.1v116.2c0,3.2,2.8,5.8,6.2,5.8c0,0,0,0,0.1,0h125c3.4,0,6.2-2.6,6.3-5.8c0,0,0,0,0-0.1V123.3z M74,132.8\tc-2.4,2.3-6.4,2.3-8.8,0c0,0,0,0,0,0c-2.4-2.2-2.5-5.9-0.1-8.2c0,0,0,0,0,0l94-87.4l-34.4,0.1c-3.4,0-6.1-2.5-6.2-5.7\tc0,0,0-0.1,0-0.1c0-3.2,2.8-5.8,6.2-5.8l49.8-0.2c3.4,0,6.1,2.5,6.2,5.7c0,0,0,0.1,0,0.1l-0.2,46.4c-0.1,3.2-2.8,5.8-6.3,5.8\tc-3.4,0-6.2-2.5-6.2-5.6c0,0,0-0.1,0-0.1l0.1-32.6L74,132.8z\"/></svg>\r\n                                <div className=\"wrp-nav-item-title\">新窗口打开</div>\r\n                            </div>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    checkURI(){\r\n        console.log('webApp.js: checkURI()');\r\n\r\n        let urlParams = (new URL(window.location.href)).searchParams;\r\n        let url = urlParams.get('url');\r\n        let key = urlParams.get('key');\r\n\r\n        if(key){\r\n            let doc = localStorage.getItem(key);\r\n            this.props.setXmlDoc(doc)\r\n            this.props.setStatus('parsing')\r\n        }\r\n\r\n        if (url === this.props.app.url && this.htmlElements.length !== 0) {\r\n            \r\n        }\r\n\r\n        if (url === this.props.app.url && this.htmlElements.length === 0) {\r\n            this.props.setStatus('parsing')\r\n            // this.props.setLocation('/wrp-read')\r\n        }\r\n\r\n        if (url !== this.props.app.url) {\r\n            this.inputIsURL = true;\r\n            if(this.input == url) return;\r\n            this.props.setUrl(url)\r\n            this.props.setStatus('loading')\r\n            this.props.loadXmlDoc(url)\r\n        }\r\n        this.props.setAShow(false)\r\n        this.props.setExplShow(false)\r\n\r\n    }\r\n\r\n    // 生命周期函数\r\n    componentDidMount(){\r\n        console.log('componentDidMount')\r\n        let self = this;\r\n        // 窗口滚动事件\r\n        let windowScroll = function(e){\r\n            if(!self.state.showExplainPanel) return;\r\n\r\n            console.log('window scroll')\r\n            self.props.setExplShow(false)\r\n\r\n            if(!self.state.showLinkDialog) return;\r\n            self.props.setAShow(false)\r\n        }\r\n        window.addEventListener('scroll', windowScroll);\r\n        // 路由监听\r\n        this.props.history.listen(location => {\r\n            console.log('history.listen',location, window.location)\r\n            let url = new URLSearchParams(window.location.search).get('url')\r\n            if (this.props.app.status !== 'loading') {\r\n                // this.props.setStatus('loading')\r\n                // this.props.loadXmlDoc(url)\r\n                this.checkURI()\r\n            }\r\n        })\r\n    }\r\n\r\n    async componentDidUpdate(){\r\n\r\n        console.log('App.js componentDidUpdate')\r\n        console.log('this.docId', this.docId, \"this.props.docId\",this.props.docId);\r\n\r\n        if(this.docId != this.props.docId && this.props.status === \"completed\"){\r\n\r\n            this.docId = this.props.docId;\r\n            \r\n            // 加载Script\r\n            if(this.config.runScript){\r\n                let wrpReadPanel = jQuery(\"#wrp-read-panel\")[0];\r\n                let scriptList = wrpReadPanel.getElementsByTagName('script');\r\n\r\n                let fakeHead = jQuery(\"#wrp-head\")[0];\r\n                let headScriptList= fakeHead.getElementsByTagName('script');\r\n                scriptList = [...scriptList, ...headScriptList];\r\n                \r\n                let wrpApp = jQuery(\"#wrp-app\")[0];\r\n                for(let s of scriptList){\r\n                    let script = document.createElement('script');\r\n                    if(s.hasAttribute('type')) script.type = s.type;\r\n                    if(s.hasAttribute('data-href')) script.src = s.getAttribute('data-href');\r\n                    if(s.hasAttribute('async')) script.async = s.async;\r\n                    if(s.hasAttribute(\"data-src\")) script.setAttribute(\"data-src\", s.getAttribute(\"data-src\"));\r\n                    if(s.innerText) script.innerText = s.innerText;\r\n                    // if(s.hasAttribute('integrity')) script.integrity = s.integrity;\r\n                    wrpApp.appendChild(script);\r\n                    // await new Promise((resolve,reject)=>{setTimeout(()=>{resolve()}, 500)});\r\n                }\r\n\r\n                // 手动触发 DOMContentLoaded\r\n                var DOMContentLoaded_event = document.createEvent(\"Event\");\r\n                DOMContentLoaded_event.initEvent(\"DOMContentLoaded\", true, true);\r\n                window.document.dispatchEvent(DOMContentLoaded_event)\r\n\r\n                // 监控DOM更新\r\n\r\n\r\n            }\r\n            \r\n\r\n\r\n\r\n        }\r\n\r\n        console.log(\"PATH\", this.props.input);\r\n\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        console.log(\"App.js() componentWillUnmout() \");\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    app: state.app,\r\n    a: state.a\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    setStatus: (status) => {\r\n        dispatch(actions.setStatus(status))\r\n    },\r\n    setHistory: (historyList, item) => {\r\n        dispatch(actions.setHistory(historyList, item))\r\n    },\r\n    tapWord: (word, coordinate) => {\r\n        dispatch(explActions.tapWord(word, coordinate))\r\n    },\r\n    loadWordData: word => {\r\n        dispatch(explActions.loadWordData(word))\r\n    },\r\n    setExplShow: show => {\r\n        dispatch(explActions.setShow(show))\r\n        dispatch(explActions.setSetting({show:false}))\r\n        dispatch(explActions.setMore([]))\r\n        dispatch(explActions.setMoreFold(false))\r\n    },\r\n    setAShow: isShow => {\r\n        dispatch(aActions.setShow(isShow))\r\n    },\r\n    setASrc: src => {\r\n        dispatch(aActions.setSrc(src))\r\n    },\r\n    loadXmlDoc: url => {\r\n        console.log(`mapDispatchToProps: input: ${url}`)\r\n        dispatch(actions.loadXmlDoc(url))\r\n    },\r\n    setUrl: url => {\r\n        dispatch(actions.setUrl(url))\r\n    },\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(App));\r\n\r\n// let AppWithRouter = withRouter(WrpApp);\r\n// export { AppWithRouter }; ","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link,\r\n    useLocation,\r\n    useRouteMatch,\r\n    useParams,\r\n    useHistory,\r\n    withRouter,\r\n} from 'react-router-dom';\r\n\r\nimport * as actions from './actions/app'\r\n\r\nimport './home.css';\r\n\r\nimport logo from './components/res/logo.png';\r\n\r\n// 未使用\r\nfunction itemCard(data){\r\n    if(!data) return '';\r\n    return (\r\n        <div className=\"wrp-card-wrapper wrp-cp\" onClick={()=>{}}>\r\n            <div className=\"wrp-image-wrapper wrp-card-image\">\r\n                <img className=\"wrp-image\" src={data.icon}></img>\r\n            </div>\r\n            <div className=\"wrp-card-text-wrapper\">\r\n                <div className=\"wrp-ellipsis wrp-ct\">{data.title}</div>\r\n                <div className=\"wrp-cs\">{data.des}</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction ItemCard(props){\r\n    /**props.data = {icon:'src',title:'title',des:'description'} */\r\n    let data = props.data;\r\n    if(!data) data = {};\r\n    return (\r\n        <Link\r\n            to={`/wrp-read`}\r\n            className=\"wrp-card-wrapper wrp-cp\"\r\n            onClick={props.onClick}\r\n            data-url={data.url}\r\n            data-key={data.key}\r\n        >\r\n            <div className=\"wrp-image-wrapper wrp-card-image\">\r\n                <img className=\"wrp-image\" src={data.icon}></img>\r\n            </div>\r\n            <div className=\"wrp-card-text-wrapper\">\r\n                <div className=\"wrp-ellipsis wrp-ct\">{data.title}</div>\r\n                <div className=\"wrp-cs\">{data.des}</div>\r\n            </div>\r\n        </Link>\r\n    )\r\n}\r\n\r\n\r\nclass Home extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            // ReactRouter_DeclarativeRoutingForReact.js.html\r\n            // https://github.com/reactjs/react-router-tutorial/tree/master/lessons/08-index-routes \r\n            // 点击Next: Index Links 中的非文字部分，不弹出转跳框\r\n            input: 'https://',  //  paste.html   Golden_swallow-Wiki.html   wikipedia-1.html\r\n            typing: false,\r\n\r\n        };\r\n        this.urlPattern = /^https?:\\/\\/(.+\\.\\w+.*)|(localhost.*)/;\r\n        this.jumpChange = 0;\r\n    }\r\n\r\n    handleChange(e){\r\n        if(this.jumpChange >= 1){\r\n            // console.log('change jump', e, e.currentTarget.value);\r\n            this.jumpChange -= 1;\r\n            return '';\r\n        };\r\n        // console.log('change', e, e.currentTarget.value);\r\n        let input = e.currentTarget.value;\r\n        if(this.state.input != input){\r\n            // console.log('setState')\r\n            this.setState({\r\n                input:input\r\n            })\r\n        }\r\n    }\r\n\r\n    handlePaste(e){\r\n        console.log('paste', e.clipboardData.getData('text/plain'),e.clipboardData.getData('text/html'));\r\n        let pasteText = e.clipboardData.getData('text/plain');\r\n        if(this.urlPattern.test(pasteText)){\r\n            // 粘贴的为url, 不进行操作\r\n        }else{\r\n            // 如果粘贴的不是url, 则尝试获取富文本\r\n            let pasteHtml = e.clipboardData.getData('text/html');\r\n            let input = this.state.input;\r\n            if(pasteHtml != '' && input == ''){\r\n                console.log('获取html', input + pasteHtml);\r\n                if(this.state.input != pasteHtml){\r\n                    this.jumpChange += 1;\r\n                    this.setState({\r\n                        input:input + pasteHtml\r\n                    })\r\n                }\r\n                // e.currentTarget.value = pasteHtml;\r\n                // this.input = pasteHtml;\r\n            }\r\n        }\r\n    }\r\n\r\n    goRead() {\r\n        console.log(`home.js goRead: ${this.state.input} url: ${this.props.app.url}`)\r\n\r\n        let input = this.state.input\r\n\r\n        let a = /^(?=^.{3,255}$)[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+$/\r\n\r\n        let urlPattern = /^http(s)?:\\/\\/\\w{0,62}(\\.?\\w{0,62})+\\.\\w{1,62}([:\\/].*)*$/\r\n        let isUrl = input.length < 10000 ? urlPattern.test(input) : false\r\n\r\n        if(isUrl){\r\n            this.readFromUrl(input)\r\n        }else{\r\n            const getHash = (s) => {\r\n                return s.split(\"\").reduce(function(a,b){a=((a<<5)-a)+b.charCodeAt(0);return a&a},0);              \r\n            }\r\n            const t1 = new Date()\r\n            let key = String(getHash(input))\r\n            const t2 = new Date()\r\n            console.log('getHash: time', t2-t1, key)\r\n            localStorage.setItem(key, input)\r\n            this.readFromText(key, input)\r\n        }\r\n\r\n    }\r\n\r\n    readFromUrl(url) {\r\n        if(url === this.props.app.url){\r\n            this.props.setStatus('parsing')\r\n            this.props.setLocation('/wrp-read')\r\n        }else{\r\n            this.props.setUrl(url)\r\n            this.props.setKey('')\r\n            this.props.setStatus('loading')\r\n            this.props.loadXmlDoc(url)\r\n            this.props.setLocation('/wrp-read')\r\n        }\r\n        // 转跳至 /wrp-read\r\n        this.props.history.push({\r\n            pathname: '/wrp-read',\r\n            search: `?url=${url}`\r\n        })\r\n    }\r\n\r\n    readFromText(key, value = '') {\r\n        if( !value) value = localStorage.getItem(key)\r\n        this.props.setKey(key)\r\n        this.props.setXmlDoc( value )\r\n        this.props.setUrl('')\r\n        this.props.setStatus('parsing')\r\n        this.props.setLocation('/wrp-read')\r\n\r\n        // 转跳至 /wrp-read\r\n        this.props.history.push({\r\n            pathname: '/wrp-read',\r\n            search: `?key=${key}`\r\n        })\r\n    }\r\n\r\n    onClickCard (e) {\r\n        e.preventDefault()\r\n        console.log(`e : ${e}`, e,e.currentTarget.dataset.input)\r\n        let url = e.currentTarget.dataset.url\r\n        let key = e.currentTarget.dataset.key\r\n        if( key ) this.readFromText(key)\r\n        if( url ) this.readFromUrl(url)\r\n\r\n    }\r\n\r\n    handleKeyUp(e){\r\n        console.log('handleKeyUp',e)\r\n        if(e.key == \"Enter\"){\r\n            this.goRead();\r\n        }\r\n    }\r\n\r\n    setTyping(value){\r\n        if(this.state.typing == value) return;\r\n        this.setState({\r\n            typing:value\r\n        })\r\n    }\r\n\r\n    setInput(value,focus){\r\n        console.log('setInput', value,focus)\r\n        if(focus){\r\n            document.getElementById('whinput').focus();\r\n        }\r\n        if(typeof(value) !== 'string') return;\r\n        if(this.state.input == value) return;\r\n        this.setState({\r\n            input:value,\r\n        })\r\n    }\r\n\r\n    createHistory(){\r\n        let readHistory = this.props.readHistory;\r\n        // console.log('createHistory', readHistory);\r\n        if(!readHistory) return [];\r\n        let history = [];\r\n        for(let i in readHistory){\r\n            // console.log('i loog',i);\r\n            history.unshift(<ItemCard\r\n                data={readHistory[i]} \r\n                onClick={(e) => this.onClickCard(e)}\r\n            ></ItemCard>)\r\n        }\r\n        // console.log('createHistory - a', history);\r\n        this.history = this.props.readHistory;\r\n        return history;\r\n    }\r\n\r\n    render(){\r\n        let typing = this.state.typing;\r\n        let history = this.createHistory();\r\n\r\n        return(<div className=\"wrp-page\">\r\n                    <div className=\"wrp-app-logo-container\">\r\n                        <img className=\"wrp-app-logo\" src={logo} />\r\n                        {/*<h1 class=\"wrp-app-logo-title\">Word Reading Pro</h1>*/}\r\n                    </div>\r\n                    <div className={\"wrp-input-container \".concat(typing ? \"typing\":\"\")}>\r\n                        <div className=\"wrp-input-bar\">\r\n                            {typing ? (<div className=\"wrp-input-bar-button\" onClick={()=>this.setTyping(false)}>\r\n                                <svg viewBox=\"0 0 1118 1024\" version=\"1.1\" width=\"218.359375\" height=\"200\" fill=\"var(--c-dark)\"><defs><style type=\"text/css\"></style></defs><path d=\"M229.42 558.545h841.125c25.707 0 46.546-20.839 46.546-46.545 0-25.706-20.84-46.545-46.546-46.545H229.42L544.913 149.96c18.177-18.177 18.177-47.648 0-65.825-18.178-18.177-47.648-18.177-65.826 0L84.137 479.087c-9.09 9.089-13.634 21.001-13.634 32.913 0 11.912 4.545 23.824 13.633 32.913l394.951 394.95c18.178 18.178 47.648 18.178 65.826 0 18.177-18.176 18.177-47.647 0-65.824L229.419 558.545z\" p-id=\"5564\"></path></svg>\r\n                            </div>):''}\r\n                            <input\r\n                                className={\"wrp-input \".concat(typing ? \"wrp-input-typing\":\"\")}\r\n                                id=\"whinput\"\r\n                                autoComplete=\"on\"\r\n                                contentEditable=\"true\" \r\n                                onChange={(e)=>this.handleChange(e)}\r\n                                onKeyUp={(e)=>this.handleKeyUp(e)}\r\n                                onPaste={(e)=>{this.handlePaste(e);}}\r\n                                onFocus={()=>this.setTyping(true)}\r\n                                type=\"text\"\r\n                                placeholder=\"输入文章或链接\"\r\n                                value={this.state.input}\r\n                            ></input>\r\n                            {typing ? (<div className=\"wrp-input-bar-button wb-clearinput\" onClick={()=>{this.setInput('', true)}}> \r\n                                <svg viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\" fill=\"var(--c-dark)\"><defs><style type=\"text/css\"></style></defs><path d=\"M512 0a512 512 0 0 0-512 512 512 512 0 0 0 512 512 512 512 0 0 0 512-512 512 512 0 0 0-512-512z m241.005714 703.268571a32.182857 32.182857 0 0 1 0.512 45.348572 32.182857 32.182857 0 0 1-45.348571 0.512L512 556.763429 315.830857 748.982857a31.963429 31.963429 0 1 1-44.836571-45.787428L466.285714 512l-195.291428-191.268571a32.182857 32.182857 0 0 1-0.512-45.348572 32.182857 32.182857 0 0 1 45.348571-0.512L512 467.236571 708.169143 275.017143a31.963429 31.963429 0 1 1 44.836571 45.787428L557.714286 512l195.291428 191.268571z\" p-id=\"10064\"></path></svg>\r\n                            </div>):''}\r\n                            <div className=\"wrp-input-bar-go\" onClick={()=>{this.goRead()}}> \r\n                                <svg viewBox=\"0 0 218.36 200\"><path fill=\"var(--c-light)\" d=\"M187.14,109.09l-61.62,61.62a9.09,9.09,0,0,0,12.86,12.86l77.14-77.14a9.1,9.1,0,0,0,0-12.86L138.38,16.43a9.09,9.09,0,1,0-12.86,12.86l61.62,61.62H22.86a9.09,9.09,0,1,0,0,18.18Z\"/></svg>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    <div>\r\n                        {history}\r\n                    </div>\r\n                    <div>\r\n                        {/**推荐文章 */}\r\n                    </div>\r\n                </div>\r\n            );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    readHistory: state.app.history,\r\n    app: state.app\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    goRead: (input, currentUrl) => {\r\n        dispatch(actions.goRead(input, currentUrl))\r\n    },\r\n    setUrl: url => {\r\n        dispatch(actions.setUrl(url))\r\n    },\r\n    setKey: key => {\r\n        dispatch(actions.setKey(key))\r\n    },\r\n    loadXmlDoc: (url) => {\r\n        dispatch(actions.loadXmlDoc(url))\r\n    },\r\n    setStatus: status => {\r\n        dispatch(actions.setStatus(status))\r\n    },\r\n    setLocation: location => {\r\n        dispatch(actions.setLocation(location))\r\n    },\r\n    setXmlDoc: xmlDoc => {\r\n        dispatch(actions.setXmlDoc(xmlDoc))\r\n    }\r\n})\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Home));\r\nexport {ItemCard}","import React from \"react\";\r\nimport { connect } from 'react-redux'\r\nimport * as actions from './actions/app'\r\n\r\n\r\nfunction Status(props){\r\n    // props.status,\r\n    console.log('Status', props.status)\r\n\r\n    const handleClick = ()=>{\r\n        // 回退，将状态重置为completed\r\n        if(props.status == 'completed') return;\r\n        if(props.status == 'loading') return;\r\n        if(props.status == 'parsing') return;\r\n\r\n        try{\r\n            props.setStatus('completed')\r\n        }catch(e){\r\n            console.error('status.js: need props.setStatus() ', e);\r\n        }\r\n\r\n    }\r\n\r\n    const wrapper = (content)=>{\r\n        return (\r\n            <div \r\n                className=\"wrp-show-status\"\r\n                onClick = {handleClick}\r\n            >\r\n                {content}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const errorIcon = (\r\n        <div className=\"wrp-icon\">\r\n            <svg className=\"wrp-icon-svg\" viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\" fill=\"rgb(var(--t-c-e))\"><defs><style type=\"text/css\"></style></defs><path d=\"M512 0a512 512 0 0 0-512 512 512 512 0 0 0 512 512 512 512 0 0 0 512-512 512 512 0 0 0-512-512z m241.005714 703.268571a32.182857 32.182857 0 0 1 0.512 45.348572 32.182857 32.182857 0 0 1-45.348571 0.512L512 556.763429 315.830857 748.982857a31.963429 31.963429 0 1 1-44.836571-45.787428L466.285714 512l-195.291428-191.268571a32.182857 32.182857 0 0 1-0.512-45.348572 32.182857 32.182857 0 0 1 45.348571-0.512L512 467.236571 708.169143 275.017143a31.963429 31.963429 0 1 1 44.836571 45.787428L557.714286 512l195.291428 191.268571z\" p-id=\"10064\"></path></svg>\r\n        </div>\r\n    );\r\n\r\n    const button = (\r\n        <div>\r\n            <button>重试</button>\r\n            <button>返回</button>\r\n        </div>\r\n    );\r\n\r\n    var statusContent = '';\r\n    switch(props.status){\r\n        case \"loading\":\r\n        case \"parsing\":\r\n        default:\r\n            if(props.status == \"loading\" || props.status == \"parsing\"){\r\n                statusContent = wrapper(\r\n                    <>\r\n                        <div className=\"wrp-icon\">\r\n                            <div className=\"wrp-loading-icon\">\r\n                                <div/> <div/>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"wrp-status-tip\">{props.status==\"loading\"?\"加载中...\":\"解析中...\"}</div>\r\n                    </>\r\n                )\r\n            }\r\n            break;\r\n        case \"failed\":\r\n        case \"timeout\":\r\n            statusContent = wrapper(\r\n                <>\r\n                    {errorIcon}\r\n                    <div className=\"wrp-text\">{props.status==\"failed\"?\"加载失败\":\"加载超时\"}</div>\r\n                    <div className=\"wrp-text wrp-status-des\">\r\n                        加载此网址：\r\n                        <span className=\"wrp-warning\">{props.url}</span>\r\n                        <br/>发生问题，请检查网址!\r\n                    </div>\r\n                </>\r\n            )\r\n            break;\r\n        case \"typeError\":\r\n            statusContent = wrapper(\r\n                <>\r\n                    {errorIcon}\r\n                    <div className=\"wrp-text\">返回类型错误</div>\r\n                    <div className=\"wrp-text wrp-status-des\">\r\n                        此网址：\r\n                        <span className=\"wrp-warning\">{props.url}</span>\r\n                        <br/>返回不受支持的内容，请检查网址!\r\n                    </div>\r\n                </>\r\n            )\r\n            break;\r\n        case \"completed\":\r\n            statusContent = ''\r\n            break;\r\n    }\r\n\r\n    return statusContent\r\n            \r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    status: state.app.status\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setStatus: status => {\r\n        dispatch(actions.setStatus(status))\r\n    }\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Status);","import React, { useState } from 'react';\r\n\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link,\r\n    useLocation,\r\n    useRouteMatch,\r\n    useParams,\r\n    useHistory,\r\n    withRouter,\r\n} from 'react-router-dom';\r\n\r\nimport './navBar.css';\r\n\r\nfunction fixCurrentIndex(currentIndex, setCurrentIndex){\r\n    let navList = [/\\/home(\\/.*)?$/, /\\/find(\\/.*)?$/, /\\/word(\\/.*)?$/, /\\/about(\\/.*)?$/];\r\n    let pathName =  (new URL(window.location.href)).pathname;\r\n    let current = navList.findIndex((re)=>re.test(pathName));\r\n    if(setCurrentIndex && currentIndex == current) return current;\r\n    setCurrentIndex(current);\r\n    return current;\r\n}\r\n\r\nfunction NavBar(){\r\n    const [currentIndex, setCurrentIndex] = useState(0);\r\n    fixCurrentIndex(currentIndex, setCurrentIndex);\r\n    var c = \"var(--t-fore-c)\";\r\n    var c2 = \"var(--sc)\";\r\n\r\n    var colors = [c,c,c,c];\r\n    colors = colors.map((v,i)=>{return i==currentIndex?c2:c}); \r\n    \r\n    return(\r\n        <div className=\"wrp-nav\">\r\n            <div className=\"wrp-nav-item-container\">\r\n                <Link to=\"/wrp-home\" onClick={()=>setCurrentIndex(0)}>\r\n                    <div className=\"wrp-nav-item\" style={{color:colors[0]}}>\r\n                        <svg className=\"wrp-nav-item-icon\" fill={colors[0]} viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\"><path d=\"M854.08768 503.1168l0 342.08768c0 44.450816-36.040704 80.490496-80.49152 80.490496L612.614144 925.694976 612.614144 664.09984c0-44.450816-36.03968-80.490496-80.490496-80.490496l-40.245248 0c-44.450816 0-80.49152 36.03968-80.49152 80.490496L411.38688 925.696 250.40384 925.696c-44.450816 0-80.490496-36.03968-80.490496-80.490496l0-342.08768L49.175552 503.117824 512 60.416l462.824448 442.701824L854.08768 503.117824z\" p-id=\"13773\"></path></svg>\r\n                        <div className=\"wrp-nav-item-title\">首页</div>\r\n                    </div>\r\n                </Link>\r\n                <Link to=\"/wrp-find\" onClick={()=>setCurrentIndex(1)}>\r\n                    <div className=\"wrp-nav-item\" style={{color:colors[1]}}>\r\n                        <svg className=\"wrp-nav-item-icon\" fill={colors[1]} viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\"><path d=\"M534.378667 574.549333c31.338667 0 58.410667-17.130667 73.152-42.346667 0.149333 0.149333 0.256 0.256 0.405333 0.405333 32.341333-55.658667 57.045333-127.168 74.176-190.869333-57.472 15.466667-121.024 36.949333-173.717333 64.725333-1.365333 0.725333-2.730667 1.450667-4.096 2.176-9.557333 5.141333-12.8 7.445333-13.952 8.405333-24.490667 14.933333-41.024 41.642667-41.024 72.448C449.322667 536.469333 487.402667 574.549333 534.378667 574.549333z\" p-id=\"14571\"></path><path d=\"M512.021333 64C264.554667 64 64 264.554667 64 511.978667 64 759.445333 264.554667 960 512.021333 960 759.381333 960 960 759.445333 960 511.978667 960 264.512 759.381333 64 512.021333 64zM603.989333 603.989333c-90.986667 90.944-304.149333 120.213333-304.149333 120.213333s29.269333-213.205333 120.213333-304.149333 304.149333-120.213333 304.149333-120.213333S694.976 513.045333 603.989333 603.989333z\" p-id=\"14572\"></path></svg>\r\n                        <div className=\"wrp-nav-item-title\">发现</div>\r\n                    </div>\r\n                </Link>\r\n                <Link to=\"/wrp-word\" onClick={()=>setCurrentIndex(2)}>\r\n                    <div className=\"wrp-nav-item\" style={{color:colors[2]}}>\r\n                        <svg className=\"wrp-nav-item-icon\" fill={colors[2]} version=\"1.1\" viewBox=\"0 0 200 200\"><path  d=\"M78.6,96.4h42.8c10.8,0,19.6-8.8,19.6-19.6V34.1c0-10.8-8.8-19.6-19.6-19.6H78.6C67.8,14.5,59,23.3,59,34.1v42.8\tC59,87.7,67.8,96.4,78.6,96.4z M84,44.8c0-8.9,7.2-16,16-16s16,7.2,16,16v32.1c0,3-2.4,5.3-5.3,5.3s-5.3-2.4-5.3-5.3V64.4\tc0-2-1.6-3.6-3.6-3.6h-3.6c-2,0-3.6,1.6-3.6,3.6v0v12.5c0,3-2.4,5.3-5.3,5.3S84,79.8,84,76.8V44.8z M98.2,50.1h3.6\tc2,0,3.6-1.6,3.6-3.6v-1.8c0-3-2.4-5.3-5.3-5.3s-5.3,2.4-5.3,5.3v1.8C94.7,48.5,96.3,50.1,98.2,50.1L98.2,50.1z M76.8,103.6H34.1\tc-10.8,0-19.6,8.8-19.6,19.6v42.8c0,10.8,8.8,19.6,19.6,19.6h42.8c10.8,0,19.6-8.8,19.6-19.6v-42.8\tC96.4,112.3,87.7,103.6,76.8,103.6L76.8,103.6z M68.9,146.5c4.8,7.4,2.7,17.3-4.7,22.2c-2.6,1.7-5.7,2.6-8.8,2.6H44.8\tc-3,0-5.3-2.4-5.3-5.3v-42.8c0-3,2.4-5.3,5.3-5.3h10.7c8.8,0,16,7.1,16,16c0,3.1-0.9,6.2-2.6,8.8C68.1,143.8,68.1,145.3,68.9,146.5\tL68.9,146.5z M55.5,149.9h-1.8c-2,0-3.6,1.6-3.6,3.6v3.6c0,2,1.6,3.6,3.6,3.6h1.8c3,0,5.3-2.4,5.3-5.3\tC60.8,152.3,58.4,149.9,55.5,149.9L55.5,149.9z M55.5,128.5h-1.8c-2,0-3.6,1.6-3.6,3.6v3.6c0,2,1.6,3.6,3.6,3.6h1.8\tc3,0,5.3-2.4,5.3-5.3C60.8,130.9,58.4,128.5,55.5,128.5L55.5,128.5z M165.9,103.6h-42.8c-10.8,0-19.6,8.8-19.6,19.6v42.8\tc0,10.8,8.8,19.6,19.6,19.6h42.8c10.8,0,19.6-8.8,19.6-19.6v-42.8C185.5,112.3,176.7,103.6,165.9,103.6L165.9,103.6z M151.7,160.6\tc3,0,5.3,2.4,5.3,5.3s-2.4,5.3-5.3,5.3c-14.8,0-26.7-12-26.7-26.7c0-14.8,12-26.7,26.7-26.7c3,0,5.3,2.4,5.3,5.3\tc0,3-2.4,5.3-5.3,5.3c-8.9,0-16,7.2-16,16S142.8,160.6,151.7,160.6z\"/></svg>\r\n                        <div className=\"wrp-nav-item-title\">单词</div>\r\n                    </div>\r\n                </Link>\r\n                <Link to=\"/about\" onClick={()=>setCurrentIndex(3)}>\r\n                    <div className=\"wrp-nav-item\" style={{color:colors[3]}}>\r\n                        <svg className=\"wrp-nav-item-icon\" fill={colors[3]} version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 200 200\"><path  d=\"M100,10c-49.7,0-90,40.3-90,90c0,49.7,40.3,90,90,90c49.7,0,90-40.3,90-90C190,50.3,149.7,10,100,10z M97.2,156.3\tc-4.3,0-7.8-4.2-7.8-9.3l0-56.7c0-5.1,3.5-9.3,7.8-9.3c4.3,0,7.8,4.2,7.8,9.3l0,56.7C105,152.1,101.5,156.3,97.2,156.3z M97.2,64\tc-4.6,0-8.4-4.5-8.4-10l0-0.3c0-5.5,3.8-10,8.4-10c4.6,0,8.4,4.5,8.4,10l0,0.3C105.6,59.6,101.9,64,97.2,64z\"/></svg>\r\n                        <div className=\"wrp-nav-item-title\">关于</div>\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport {NavBar};","import React from 'react';\r\n\r\nimport './findPage.css';\r\nimport { withRouter } from 'react-router';\r\n\r\nimport {ItemCard} from '../Home.js';\r\n\r\n\r\nfunction itemCard(){\r\n\r\n    return (\r\n        <div className=\"wrp-card-wrapper wrp-cp\" onClick={()=>{}}>\r\n            <div className=\"wrp-image-wrapper wrp-card-image\">\r\n                {/*<img className=\"wrp-image\" src=\"https://lh6.googleusercontent.com/proxy/GICqS-kiP8lyGI9A7Qq-JJvzZl5HTfMjebIFUmD3k8rE4hMW2f7fBPpusTyl2KYNEF47lNVtuF5YFvfiXWTHqRghBA\"></img>*/}\r\n                <svg className=\"wrp-image \" height=\"32\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"32\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z\"></path></svg>\r\n            </div>\r\n            <div className=\"wrp-card-text-wrapper\">\r\n                <div className=\"wrp-ellipsis wrp-ct\">GitHub-Built for developers</div>\r\n                <div className=\"wrp-cs\">GitHub is a development platform inspired by the way you work. From open source to business, you can host and review code, manage projects, and build software alongside 40 million developers.</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction itemIcon(){\r\n\r\n    return (\r\n        <div className=\"wrp-nav-item wrp-item-icon\" onClick={()=>{}}>\r\n            <svg className=\"wrp-nav-item-icon \" height=\"32\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"32\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z\"></path></svg>\r\n            <div className=\"wrp-nav-item-title wrp-ellipsis\" >GitHub-Built for developers</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction FindPage(){\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className=\"wrp-card-container\">\r\n                <ItemCard data={{src:'',title:'a',des:'b'}} ></ItemCard>\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n                {itemCard()}\r\n            </div>\r\n            <div className=\"wrp-card-container\">\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n                {itemIcon()}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\n// export {FindPage};\r\n// let withRouterFindPage = withRouter(FindPage);\r\n// export {FindPage};\r\nexport default withRouter(FindPage);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link,\r\n    useLocation,\r\n    useRouteMatch,\r\n    useParams,\r\n    useHistory,\r\n    withRouter,\r\n\r\n} from 'react-router-dom';\r\nimport './webApp.css';\r\n\r\nimport App from './App';\r\n// import {AppWithRouter as App} from './App';\r\nimport Home from './Home';\r\nimport Status from './Status';\r\nimport './common.css';\r\n\r\nimport {NavBar} from './components/navBar';\r\nimport FindPage from './components/findPage';\r\n\r\nimport { store } from './index'\r\nimport * as actions from './actions/app'\r\nimport { connect } from 'react-redux'\r\n\r\nclass WebApp extends React.Component{\r\n    constructor(props){\r\n        console.log(`store: ${JSON.stringify(store)}`)\r\n        super(props);\r\n        this.input = \"\";\r\n        this.urlPattern = /^https?:\\/\\/(.+\\.\\w+.*)|(localhost.*)/;\r\n        this.docId = 0;\r\n        /** history = {icon,title,des,input,isURL} */\r\n\r\n        let historyStr = localStorage.getItem('read_history');\r\n        let history = JSON.parse(historyStr);\r\n        console.log(`通过localStorage获取的 history: ${historyStr}`)\r\n        if(Array.isArray(history)){\r\n            console.log(`初始化 history : ${JSON.stringify(history)}`)\r\n            this.props.setHistory(history, null)\r\n        }\r\n\r\n        // this.checkURI()\r\n    }\r\n\r\n    go(input, isUri){\r\n        console.log(\"webApp.js: go() \", input, isUri);\r\n\r\n        // 当前网页\r\n        if(input == this.input){\r\n            console.log('input = this.input 跳过加载')\r\n            this.props.setStatus('parsing')\r\n            //当前阅读的页面，跳过加载，直接渲染\r\n            return ;\r\n        }\r\n\r\n        // 复制粘贴富文本\r\n        if(! isUri) {\r\n            this.props.setXmlDoc( input );\r\n            this.props.setStatus('parsing')\r\n            return ;\r\n        }\r\n\r\n        // 新网页，加载\r\n        this.input = input;\r\n        this.inputIsURL = isUri;\r\n\r\n        this.props.setStatus('loading')\r\n        this.props.loadXmlDoc(input)\r\n    }\r\n\r\n    checkURI(){\r\n        console.log('webApp.js: checkURI()');\r\n\r\n        let urlParams = (new URL(window.location.href)).searchParams;\r\n        let url = urlParams.get('url');\r\n        let key = urlParams.get('key');\r\n\r\n        if(key){\r\n            let doc = localStorage.getItem(key);\r\n            this.props.setXmlDoc(doc)\r\n            this.props.setStatus('parsing')\r\n        }\r\n\r\n        if(url){\r\n            this.inputIsURL = true;\r\n            if(this.input == url) return;\r\n            this.input = url;\r\n            this.props.setStatus('loading')\r\n            this.props.loadXmlDoc(url)\r\n        }\r\n    }\r\n\r\n    componentWillUnmount(){\r\n\r\n    }\r\n\r\n    componentDidMount(){\r\n        console.log('webApp.js: componentWillMount');\r\n        console.log(`store: ${JSON.stringify(store)}`)\r\n        this.componentDidUpdate();\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        console.log('webApp.js: componentDidUpdate', window.location);\r\n        \r\n        // 对页面内js控制的转跳进行重定向\r\n        let location = window.location;\r\n        let dir = location.pathname.split(\"/\")[1]; // 没有的话返回\"\"\r\n        switch(dir){\r\n            case \"\":\r\n                this.props.history.push('/wrp-home');\r\n                break\r\n            case \"wrp-read\":\r\n            case \"wrp-home\":\r\n            case \"wrp-find\":\r\n            case \"wrp-word\":\r\n            case \"wrp-about\":\r\n            case \"wrp-test\":\r\n                break;\r\n            default:\r\n                console.log(\"pathname 为 其他路径\", dir);\r\n                // js转跳 或是 用户输入的路径\r\n                let newSearch = `?url=${encodeURIComponent(this.input + location.pathname + location.search)}`;\r\n                let origin;\r\n                let history = this.props.app.history\r\n                if(! history ) break\r\n                if(history[history.length - 1]){\r\n                    origin = new URL(history[history.length - 1].input).origin;\r\n                    let href = `${location.origin}/wrp-read?url=${encodeURIComponent(origin + location.pathname + location.search)}`;\r\n                    console.log('转跳目标 ->', origin + location.pathname + location.search)\r\n                    window.location.href = href;\r\n\r\n                }else{\r\n                    origin = window.location.origin + \"/wrp-home\";\r\n                    console.log('转跳目标', origin);\r\n                    window.location.href = origin;\r\n                }\r\n                \r\n                // alert('转跳！');\r\n                // window.location.pathname = '/wrp-read';\r\n                // window.location.search = `?url=${encodeURIComponent(\"https://qq.com\")}`\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    render(){\r\n        console.log('webApp.js: render()');\r\n        console.log(`store: ${JSON.stringify(store)}`)\r\n\r\n        if (this.props.app.location ) {\r\n            // this.props.history.push({\r\n            //     path: this.props.app.location.path,\r\n            //     search: this.props.app.location.search\r\n            // })\r\n        }\r\n\r\n        let Page = (\r\n                    <>\r\n                        <Switch>\r\n                            <Route path=\"/\" >\r\n                                <Switch>\r\n                                    <Route exact path=\"/wrp-home\">\r\n                                        <Home\r\n                                            setInput={(input, type)=>this.go(input, type)}\r\n                                        ></Home>\r\n                                    </Route>\r\n                                    <Route path=\"/wrp-find\" >\r\n                                        <FindPage></FindPage>\r\n                                    </Route>\r\n                                    <Route path=\"/wrp-word\" >\r\n                                        <div>\r\n                                            <h1>a {JSON.stringify({...this.props.a})}</h1>\r\n                                            <h2>APP: {JSON.stringify({})}</h2>\r\n                                            <button \r\n                                                onClick={ this.props.testAction }>action</button>\r\n                                        </div>\r\n                                    </Route>\r\n                                    <Route\r\n                                        path=\"/wrp-word/:id\"\r\n                                    >\r\n                                        <div>\r\n                                            <input type=\"text\" className=\"form-control input-sm header-search-input  js-site-search-focus \" data-hotkey=\"s,/\" name=\"q\" placeholder=\"Search GitHub\" data-unscoped-placeholder=\"Search GitHub\" data-scoped-placeholder=\"Search\" autocapitalize=\"off\" aria-label=\"Search GitHub\"></input>\r\n\r\n                                            <input style={{\"border\":\"1px solid #000\"}} onInput={()=>{console.log('test entering')}}></input>\r\n\r\n                                            <input style={{\"border\":\"1px solid #000\"}} ></input>\r\n                                        </div>\r\n                                    </Route>\r\n                                    <Route path=\"/:name\">\r\n                                        <App\r\n                                            docId={this.docId}\r\n                                            setInput={(input, type)=>this.go(input, type)}\r\n                                        ></App>\r\n                                        {\r\n                                            // this.showStatus()\r\n                                        }\r\n                                        <Status\r\n                                            url={this.input}\r\n                                        />\r\n                                    </Route>\r\n                                </Switch>\r\n                                <NavBar path={this.props.path}/>\r\n                            </Route>\r\n                        </Switch>                      \r\n                    </>\r\n                );\r\n\r\n        return Page;\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n    \"app\": state.app,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    setStatus: (status) => {\r\n        dispatch(actions.setStatus(status))\r\n    },\r\n\r\n    loadXmlDoc: url => {\r\n        console.log(`mapDispatchToProps: input: ${url}`)\r\n        dispatch(actions.loadXmlDoc(url))\r\n    },\r\n\r\n    setXmlDoc: doc => {\r\n        dispatch(actions.setXmlDoc(doc))\r\n    },\r\n\r\n    setHistory: (historyList, item) => {\r\n        dispatch(actions.setHistory(historyList, item))\r\n    }\r\n})\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(WebApp));\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport rootReducer from './reducers'; \r\nimport thunk from 'redux-thunk';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link,\r\n    useLocation,\r\n    useRouteMatch,\r\n    useParams,\r\n    useHistory,\r\n    withRouter,\r\n\r\n} from 'react-router-dom';\r\n\r\n\r\n// import ReactDOMServer from 'react-dom/server';\r\n// import ReactHtmlParser from 'react-html-parser';\r\n\r\nimport './index.css';\r\nimport WebApp from './webApp';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nconst traget = document.getElementById('wrp-root')\r\nconst store = createStore( rootReducer, applyMiddleware(thunk))\r\n\r\nrender(\r\n    <Provider store={store}>\r\n        <Router>\r\n            <WebApp/>\r\n        </Router>\r\n    </Provider>\r\n    , traget);\r\n\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n\r\nexport { store }","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/explainBoxArrow.cd1bf698.svg\";","module.exports = __webpack_public_path__ + \"static/media/audio.4030fa08.svg\";","module.exports = __webpack_public_path__ + \"static/media/star.e07fbbc9.svg\";","module.exports = __webpack_public_path__ + \"static/media/more.26f6d80d.svg\";","module.exports = __webpack_public_path__ + \"static/media/open.4645967c.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIcAAACPCAMAAADnajhVAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAADwUExURQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP39/fX19bW1tfr6+uvr64aGhv7+/tra2tzc3Ozs7Pj4+Pb29re3t/v7+/z8/PHx8eXl5fv7++Tk5IuLi9fX1729vff398LCwvr6+vr6+vPz88LCwtfX1+jo6Obm5vLy8szMzO/v7/j4+Lm5ufv7+/39/b+/v/n5+fHx8fb29o+Pj5KSksTExI2Njezs7CrMGcQAAABQdFJOUwAHCAkEBQYBAgMKCwwNDw4REBMSFRQXFhkaGBwbHR4fIAIIGAUNHAIUEg0HCBgDBAkPBBEaBhUGCgMECAUDDA0JCAcFFwIBFAQIBhgXEhkJC8EEWQAABhpJREFUeNrNnOdy2zoQRteWrxVfyypUoVok05HCOHac3nvvyfu/zUUjCQggRRIL6O5M/Edg5sxZgPioEQhQu5p6gfdq5tX/g8IrSXNbece4JpdnEDPEBop/iiNenklUiiO1VBIPHDLFAS+dxBOGxHAgsXgByTASin+ykkncgigYAuIwKYHiA0TFEBB7vASKCuIcg8kQEPu0BIpQ4hQk7UqKwRkatDiLDOKsMzJGQkER/qXFWRKSDMQLBmM4Pj6OyT/G4gNE4mAYRAaFaLVaH+Ej+UtRqBIG4o5D0UExiAxKcXJyQj4lfxkJVUJAHAoxYRCITqf9g3z6o93pEBQTiMuu7LGetChFu8c+77UpSYv1Zs9hZxQdKUa71+t+Z59/7/Z6bQnEkRChQ2BQjuMWddHt92M2IO73u9QJbQ1dNQIEW4jWFYpBKILgjRjxJggoiQBROuNKh4QxHMRiSDwYqiAuhEg6SFfYShEYb9MxbwUIWzWsM+hCNB1kihKM4SAcRemgaBQOhgSETFZXQhQdtCtkpXCM39Ko3xyErJqkM8hCMh18krKu9INBOB1fScOuxtNwEPRZZ6SpiidkUwfrCsP4qoz7ykDkzqAK2dDB1ko3GIaj8eRKGXg1GY/CYdBlawZfiK6DdGU4IBhPNkY+ISBkitDO4AvRdPCujKaT2eXG0MvZZDrincEXYtBB1ko4ncz/aGP/zCfTkK4ZfCEb9w6mg6yV0Xh+/UwbfHZ9TjpD1kwiBO8eYtIRUB2zR4bRj2ZUSIAvxKiDrhWTDiGEdAZdiDRLMx2sKwvj+AXvzIYQa44cHaQri9vGC24vWGewheTrWOZcsXQipKqOQiE+dbgRkixaXcf93GvuG4RYLt0CHVHuRRG+kE0drVTHecFV56mQFo6QWjocCFF1NErqUIU07IXIOg5VHXcLL7yrCjm0FGLSEQyojhtbrrxBhbBtF0GIkn+y3EF1rLZcuqJCshxil4c2Nnyqg7alhA4uhAezREjt7V+Ng/SZhabSUjoyISSp0oc7GyG6jnZpHZmQtq2QHB1TouOsxOVnRMgUQ0iOjvFscbPU9TcXszGCkDwdk3I6mJAJghBbHUhC1DjYyDb8sjokIR0hpE5A1HY4oWO+OC39f5wu5omQurtdfjperktzrJfWiTl3w6+gQxJSe/vH0FEoxDb/nFa6B51a5qHcdLx8WInj4dIqMRfoiCpxRHZC8tPxrYp75S2bxIymw1JIfjquqkMVUjEgFqTjB5U5HtRPzPXTMWpitkjHqInZJh0jJmardIyYmO3SMVpitkzHaInZPg6iBETrdIyUmF3oqCEEIR2jJGaMdIyQmJs4cdA6MeOkY/vE7EpHxcSMlY5tE3N+Ol5bc6zLJ2bEOGgVEPHSsVVidqqjghDMdGyRmAvScYTCEZVLzLjpuHZiRk7HtRMzdjqumZjR03HNxIyfjmsl5oJ0fIHIcbEtMbuJg5UDopN0XCMx+9KxRYijdFw5MbtKx1UTs7s4WC0gOkvH1RIzeNRRJATcpeNKiRny4uDaCcc6LyCCtuGj5p9teSi9l4Fhw9/+U4L6dc7zkLb9Q84OFzniiHJ2O2gab+mudDAhhpt7E8zPcJEzjsj8bAfGRXsH3NUd49IFYyxdOeRYGYMqmNriUgcRYmoMmNqycsqxMjUG9NUy/wRu69NcXzFgaMuFY44LQ2NACmIil/4E1/VTzal00wX9B9CXzjku9Z9TgzZNf4H7+qVNVNCm6VMPHE+1iQrSdw2cA3zUBseBxhHe88JxLyzmGIbgp5IDGWaO/vCdJ4537MiOkYPdP8BXDaUTOzIHP0/y0hvHS/l8iszBDpTE3jhifjwl4ziSzsT9BX/1VzprJ+5jyQTpxB454o58oAuks4onH8BnfTiRzkCCfFgx9soRy0cgQTq8+Qz81jPpSCikz/r7jW+eOb6x89z8mR+SA+h7++/Bd73nOjhHerr3hXeOF9mJYUhP5D8G//U4Pe0P6asBnu+A43n60gFIXl/xCnZRr5IXZIjvP44OPu+E47PA4N/DEJDXsJt6Ld7SAeKVHl92xPFFvCwExLtFYFcl3lnyHxBWPMa6+jxoAAAAAElFTkSuQmCC\""],"sourceRoot":""}