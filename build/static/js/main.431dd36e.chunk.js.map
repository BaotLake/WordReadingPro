{"version":3,"sources":["components/res/logo.png","components/res/explainBoxArrow.svg","components/res/audio.svg","components/res/star.svg","components/res/more.svg","components/res/open.svg","components/res/arrowShadow.png","reducers/webApp.js","reducers/app.js","reducers/explanation.js","reducers/a.js","reducers/translate.js","reducers/index.js","reducers/readPanel.js","actions/a.js","components/a.js","utils/core.js","actions/explanation.js","actions/translate.js","actions/readPanel.js","components/switch.js","components/explanation.js","containers/ManageExplanation.js","components/translatePanel.js","utils/touch.js","containers/ManageTranslatePanel.js","components/readPanel.js","App.js","utils/config.js","actions/webApp.js","home.js","status.js","components/trayBar.js","assets/explore.js","components/explore.js","head.js","webApp.js","serviceWorker.js","index.js"],"names":["module","exports","webApp","state","action","type","status","xmlDoc","url","history","location","key","elements","heads","app","explanation","count","word","coordinate","show","data","audio","zoom","Number","isNaN","more","Array","isArray","concat","moreObj","map","w","Object","keys","setting","isUnfold","unfoldMore","a","href","translate","value","original","translation","console","log","combineReducers","readPanel","menuStyle","style","target","setShow","setHref","connect","dispatch","isShow","aActions","props","onClick","e","preventDefault","_","children","AModal","className","data-wrp-action-block","test","viewBox","version","fill","xmlns","p-id","d","to","encodeURIComponent","x","y","config","extractScope","front","behind","fn","bn","isInline","nodeName","window","getComputedStyle","getPropertyValue","search","comparePosition","breakPoints","length","middle","Math","round","textContent","getSelection","removeAllRanges","range","Range","setStart","setEnd","addRange","domRect","getClientRects","height","slice","calcOffset","text","points","push","getBreakPoints","firstChild","p","obj","result","point","nextSibling","getTargetAndBreakPoint","extractPart","offset","frontPattern","behindPattern","frontTarget","previousSibling","frontFind","behindFind","findSubPart","orientation","pattern","subPart","match","index","indexOf","lastIndexOf","sentenceEndingJudge","testParent","texts","startTarget","startOffset","break","unshift","lastChild","copy","parentNode","endTarget","endOffset","max","some","re","content","toLowerCase","attToProps","React","createElement","extractHead","head","list","i","node","childNodes","src","findIndex","rel","innerText","extractAbstract","abstract","links","getElementsByTagName","link","icon","title","docTitle","docH1","body","pTags","description","trim","spanTags","des","warn","styleConvert","styleObj","replace","m","g","toUpperCase","attributes","att","attName","name","attValue","Function","error","integrity","htmlTraversal","childrenList","targetActionFilter","path","deep","j","blockAttr","split","includes","getPath","scrollToTop","document","querySelector","scrollTop","setData","loadWordData","Promise","resolve","axios","method","timeout","res","get","answer","join","addMore","setExplState","Error","filter","tapWord","event","anchorNode","wholeText","anchorOffset","clickedChar","part","position","pageX","pageY","clientY","setWord","setMore","setStatus","slideTranslate","sentence","start","end","selectedText","setOriginal","formData","URLSearchParams","append","Data","Translated","setMenuStyle","updateShow","hiddenMenu","Switch","useState","defaultValue","onChange","Explanation","size","maxNumber","setSetting","setMoreFold","setZoom","Loading","nothing","t","width","ew","eh","aw","ah","topDistance","wordDistance","edgeDistance","arrowOverlapping","remRatioPx","arrowPosition","vw","innerWidth","ratio","innerHeight","top","left","calcPosition","autoPlay","auto","audioUS","audioUK","playingWhich","playWhich","fontSize","id","getElementById","play","display","menuBgStyle","moreList","unfold","renderMore","explActions","TranslatePanel","panelStyle","assign","hidden","bottom","half","full","maxHeight","onTouchStart","onSlipStart","onTouchMove","onSlipMove","onTouchEnd","onSlipEnd","onMouseMove","onMouseDown","onMouseUp","onMouseLeave","onContextMenu","handleClick","handleDrag","setTranslateY","ref","handleEl","class","Touch","options","this","bind","move","onEnd","setOnEnd","onMoving","setOnMoving","onStart","setOnStart","sumX","sumY","startX","startY","startTime","duration","touches","clientX","clear","Date","now","getCoordinate","call","callback","Tap","tapList","effectiveInterval","interval","effectiveOffset","effectiveCount","timeStamp","repeatedDetect","abs","MouseMove","button","moving","TouchOrMouse","ownProps","translateActions","useRef","slipTouch","useMemo","showStatusMap","0","1","2","touch","stopPropagation","showStatus","diff","current","transform","background","transition","setTimeout","mapStateToProps","mapDispatchToProps","actions","ToolMenu","opacity","pointerEvents","classList","add","remove","setHistory","item","setXmlDoc","events","setExplShow","setAShow","tapA","loadXmlDoc","setUrl","transActions","showToolMenu","screen","availWidth","vh","availHeight","setTarget","rpActions","hiddenToolMenu","useHistory","useEffect","tap","linkIntercept","mouseMove","preventContextMenu","scrolling","timestamp","scrollOffset","onScroll","documentElement","addEventListener","capture","passive","removeEventListener","ManageExplanation","proxyHostList","setLocation","undefined","historyList","JSON","parse","localStorage","getItem","v","shift","removeItem","historyStr","stringify","setItem","setHeads","input","encode","url2","inputObj","URL","host","reject","docParser","setElements","doc","baseUrl","t1","dom","DOMParser","parseFromString","base","origin","insertBefore","htmlElements","t2","ItemCard","data-url","data-key","History","List","readHistory","withRouter","goRead","currentUrl","isUrl","setKey","focused","setFocused","setInput","urlPattern","go","readFromUrl","String","reduce","b","charCodeAt","readFromText","pathname","logo","autoComplete","contentEditable","currentTarget","onKeyUp","onPaste","copiedText","clipboardData","getData","copiedRichText","onFocus","placeholder","Component","wrapper","errorIcon","statusContent","TrayBar","home","explore","reading","about","trayData","c","setIsShow","currentIndex","setCurrentIndex","useLocation","colors","pathList","pathName","fixCurrentIndex","exploreData","NavigationBar","scrollView","onWheel","scroll","scrollLeft","deltaY","behavior","seleted","setIndex","ExploreApp","navigationList","color","navigationData","navigationIndex","seletedKey","checkURI","urlParams","searchParams","listen","attr","scriptList","querySelectorAll","forEach","s","newScript","appendChild","replaceScript","dir","exact","data-hotkey","data-unscoped-placeholder","data-scoped-placeholder","autocapitalize","aria-label","onInput","Boolean","hostname","traget","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","rootReducer","applyMiddleware","thunk","render","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.431dd36e.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAYAAADnRuK4AAAACXBIWXMAAAGYAAABmAEFfeMbAAAUYElEQVR4nO1da2wc13X+7uwuSYnkrsRI4kPUwy5iSZRE27EdSXacqnUsOUWL2InVFO2PxrHb5kfRNG6LAi3QpEB/pE1hI82/1EqLADWS2FScAgH08I+kthTZkgFbD+qVWLL4EFdPcvkQyd2dW9x57Nx57c5zd9a8n72anbOXM3dmzpzvnHPPnSGZnxYoBAQCQhInTiAM0hD2RyAEhAUSCIU0EedPIAQEhQmEQhoQNkggOIQPJBAKgsIEQkFYIIFQEFGYQCgIChMIBUFhAqEgFEggFASFCYSCsEACoSCiMIFQEEMZAqEgfCCBUBA+kEAoCAUSCAVBYQKhICyQQCiIMF4gFASFCYSCoDCBUBAKJBAKgsIEQkEMZQiEgojCBEJBUJhAKAgnWiAUhAIJhIKgMIFQEBZIIBREFCYQCoLCBEJBUJhAKAgFEgiFNGh9vKBtOSDbQpHLEGxbQUFAkMsA21dq+yeksli/nGB9BwGpyAhGZimuzmlNYcj/Ly8DlCpM/Jb2/fQkxdRiMhVjsEtSjntDBztG9f5d0QIMrgx2LyvHr+H0bRmTi6pP8hYnjxOk/YdzkXpBuRaCwZUE23NlfG6NjEdXq3JeGbwuvbalTIEcPm9fZ4pEcfoOxdEbwNVZYGQu/pOq3xiPd0uKomzsTGGwiyCbqX/I8ramSK9cLCF/l+LqLMVHM9FdctIRsQKxk/YP92ewQlrEhrZiIMVBRArk9GEKdewGcOwmUT5np8Jf1K05isdWA59ZQ7BtJcGGDknpmyQZy0bjSqGEA+99iLGZMr4/uTGy3sQShb01IWNhsYy/2Rz9tsMimwH29lLs6ZEVhSowhbpJcGgihUMTEgrF2gqVzVDs7WHWleLzvRS5Vl1RiM7EicOr7+fx8+FbeLArBTp9G6SjK5IuppN5uPVDZwaKMj3ZXcZ3BimGpwh+cDmNw9fTJmXKpin2dJewp6esKCBvYZoCVK5YdXpnHGR5DpBSoXu+5BXIii1ZGf82uIB/pfMYGkvj5Og0HlrbqSgP8+9UhWnG4JULVuQS6FQeZGVf6K1GT2HUsmxifLGviJW/OYndfY9pitPseXtSWdLCTaAtC9LWEWqLIg9UA5lmoShP0Cyo9qGT10JvUShQDRTpx2SshxDzklmj4gJo4XqozaZJxOdH2R4VldZJBNH/o5wyTd8CWbYCSLcE6rGwQEsIpohR/04p5Kl84JMgFGjJgKMuzg9SMD8DOj8d6EREPxamb0+UiSQQur0g2vUxrj2dvA6yut13bkhYoKUEbnjIlBdin3IRdOaW75MhFGjJgI/CLBSmh/Wzd4DivK8TIrGoKcoPYCwFauO194GzE/GfKKJHYdSy1GVUXdLJvC99EBaoQTh0Hhj4NvDiz4CXflGnPvAUZqIyTlZaAJ2b9LzJphwLe+HHBAXN0r64G9i5odE98o9sGzC9oP7Z4QvA6CTQvyLOPVp8HjiE9Hp5zAzLDWUBUtu+SNASf5F+EF8UNjyhnvDjH6kfRgGxIqbj2LXRrPj1sULEYclFZFSLomWqUJkXnWg6Ctv/rjntcPA8Ktao2fCHD6gdZoq0tx61U9WiMIuMLs4Bi3drbrLpKOzQebMCMRo4dAF4drBhXQqMfQ8AAz3A1p467MzN56nILO0IgTx9A1JXf1Uqa6qxsNc+IBW/gcf+4wTPDiYj9PuPt9P43tH478uf/KlKg57B6EZL8hIblcFOb+x0lsvAXAFkubtz1lQUxnwfHWtzxvfhvOobCdQAIYby1LRImkPNIjK55LpdyWgcxyc6sCjl8AVjmy/upujnlIhZJ4EqMCUQJe1aa0u2XkXGaqjd9KNpKhIPXzQUpLMV2He/qlQv/1KVMQX6pz3R7jMI/uozJfz1Z+XQszJYVKYf255NwP4/CtszztJQi8Xhx8V4mR7WFxeUAVfSaq9ebBoK2/+O0VU9YtGjGGjO9OsJtkJM2V98A/jVFW/t+fTEU1FFaF4SifrS4mDTuSmlMN+KplCg4TzB2JSx/vwO1byxxBu7O3UcupBMBfrWQWDXd5mV9JbvYcozqh0vs7aRhvguYbtjxSL/O5UdM9RS8r0fZn2MLTLnmQ97+bvzyEWC0QgmCkYNXgFY8rOaFWI5rW8eNNZf2KlmrcNC9W6IMSamfyfckvC/8zJNsjAHUlowXefoM9GIwf/hLItufXSwXAq7S3UkkcasWWdGZW5gFkpPVbDjYgoUDZxCeIcsNLXILO3lmTvNlYl+/ZRkyv3s3WTXzn0PmNsnES8/bXSK0ZMTlbFR+f3vGOtRWZ8KrONgpnWLzI3qGJXNFyqbTLwC8dZnzybqOOC4735DqZivdPyj5Fkh1u9v/LaxziIsvoyDUdcLPzLWB7rVgeJIUcVJ9uQHaTLKhjjksrKW6MFU5s8cucgrkHM75hNt6TbWhxJqhZhF4XNXPJV94w3DcWZ46WlEDKKNEPDUxCkKL7NSmdW7ZYOtSlSWcAvEWx819+OulbxvNHRaSuQAK6MjXjFYBp1R2SvHzVn2b+6NaXzMkZqq0FUVi0RZCWxxPtkK9PopM31Vg9U3OnIxmYfGHOrndxjrjMr++ZCxzqxsdI6zGTYHGv7zQebZHNNsMDVaf4FQ3VSGA8v9nMsbW7l4g+DLP3TbqnrwbFLBjVlV8l8nUvji9nKkxxYVvvWUGsoPW6ZjMb/n5cipSwdfzsopgVMWGlV+42REGcpIKKx+zGmf07jPXVcVcPOaZBZo//0TwFdeNVxFlpD77jMRR10muFESzLJqv3EyPaOdWAqLIhwfOh3++TdxgEVffzlkjjNkCnz9pzEXx1WGMnyE7RYZMQ2HJPTxLsx/4XM/33tGxuoO2B7mxD/iTl+yQdUhzXdiCvSPTxSDdyQGsGEKVkivoy0NzGvVEozSWDQWfuDUBZUBUmqmKWKfaOgkI7pMF9GEViTy1ufJ+yj+YKuqIIaVJaZ1pj/68xDX5iiGTqmWhynhgdMpPLPNvZ6lnrAqD4ssX/sKK4hTx8mg1Tyx8D7yMN6tnNVo4Cozz6k3f0kchTET/uYlo1u1oi8r+nMUT95njBofuZQMGmNK4aQ8LFxnysLKU3QwZXr+R3HQmfn5QLrMOZQnNrpSdcZMf4mbWMj7LewkPzvo/3nHzGrpYMo41sABVqYE+/7bsDDQoi1deXRYlYhZIvZ3USmRcW34iYQuEw31kJ9yKURu8iE/ITFxFoiPvvxaHx1M6fgB1gNnGsPULBXx1PclZQReh5Py6LAqEfOJmBJFMnM1QLKQmOjK2UolSoFY2M3Cbx1f/XTwp61/adDIAR1oQDT2g3cl/N5/SqY6JqYch75WPVR3UyI2kzU0nArKHCMtXVQ74ZiosTCevpgzPNAdnAu/tN1QvrECwbsj9VGiwgLBH/9PBv/ypnl/L33Bu2PM2rH2Olgw8MKP1cK0wKB8FOZexqGoRkUGbnwMhuJwskRZIF6Bnnsk3LsemPJt4ZKIB87UR4Gm51Xq0sEK4A7+hbnkxAtY+1e+bK51+sn7IXwiq/Wx5IOqWp0q9BfDrAxLJzzi5CjBQLeMHetl7NxghO5h8He7S8r22Ic50nMenkIfFsxyfv1xlT6ZM3/wz+XAA6OskvHw11S/iYHlh8JlqpkScQ+ZMiUGifMsDdNsDbusIRMLnd558XA/xat/UjLJw46offZeGY/fU7a8MyPUJj3huUfKigV89B5iS376BasjYn4T84F8TSR0ANFoyPSQTb3EQ1+HeUaG6Ql2DjLxpPqYwKxo+CFlA+EL6+0RF4GDcnhMLuqyhigQswRN846JjxEINzPVPkPVGml5kJEGTyzUFcltKRDDteGnN+vRlUe6cir3EBS2pODBwtSiMEt7oUBLBETzgZxnpqK2zKV99FEYwo2FCcQHfYzLXFhvib7cIjKXcg9hgZYSIrI6vEwo0JKBZnt8lbXCbpEsMvHCuSUHbmzLqYjeY3UiR2FRh8si/E4miFE/aHrmYUCnWlDY0gSx1kT7zDxbZfFQmKCvBIKjLstYmFe6sikRo7C4CEwQWbKgEBjRc0F814IlEHVnXFDYEoONwuA/IuOrJUQUtmSgVh2qc7usycLq4102xeFkdbVAx6/MKp2YuitjeGLe1OFfXZ7j+k20/7mDIZUfsb6rBetXtlT+dntvG7JtklLrs2vjsnoeUiCczRcxNa9WXJ6eYN+NAqqRyTKuTmr13C53/7buNHJt5mLSxzZkKt8fXZ+BI7zmeRwskmONFolxbvzQpTSOX0uhMD2D05euAuVF9w77DCWPaspGqmzjUUWRCHZtbEN/Lo3+XAo71nP1oTGDKcnYNMWZfBFn8yVFYc4wZVmg5v76OG79eI9e5Wfbar+/bW+/bkUK63MS1uVSGJmSud9dKKzWpEKH6xQ9hUHt3+idIj66PAp6V3+yZ+1xl44M8MkuydyO+24ugAIu3QZmFp0jiGOXVQt37IrZ0g10ZzDQ3YKBNWnsWNeCzavD10qPFWQcHyni+EgJw9dLOHudfypI7RsmmwE2r5Y0kbsy6b+NFoCxafNvTudzZFLGyCT7oazIdvXr42AuN2wNunLaV+RRGMP0zXGUJ9jrgsrKbjpaCO7tIujtIOhuB3o6JfS0q207WwlmFo3OfTBBbScMLif2qw9qJx0EnS3A9KLa7tJtqijWxCwwPgP8+rb6G2t5Ll/CuetlDGnbyLZK2LEug899sgWfXptGb2ftMzK9QPHmh0WcGCvjnZESRgv6rD1d0Y1/H14rIdsCbP4EQbaNYNMq9SJmW9kMDuO4Towb27cPN5hlz91P1GJ7QpBrAQparfeYplhsu8O31HWlb9y5IxUvobbVd6xYrAeFbc3N4m93UvR0pNDRAswWCT7IU0VRPrhOcGyU4td39Nb6AfLJLe63KjJyijq2e7BXlT3UI6G3A/izT0kVBWPKdJF9bqnLwgLFkd8UlQ/74y2rU3h6IIMn7k0pCq9jepHiZxeKeONcEedv8mZbbdPXKWHTKmDzKgmP9BGs7SAYmwUu3qQoLBKcuKYmyL59zAuFGefEuHH0Y6Su1mxgFUFnG8G6ToKda4GtD0ro74Sy/1HNYjGlMs+yMG/DkHhzK8iafy9FSmLrssDO3iLOnj2DU3nnzvmXWdZd7lIv2/1UL8F9qwg2dRE83CdhfIbivXHgvQngvXHzxXnit9L4/Z5r+OXtPrxxvmyyiJtWSXi4D3ikT0JfJzA+DVy4TXBijCrKWVh03r+jzLfv4UOmfd+6WkJ/FphaAI6P2c+nJ6vj1M+oFUiHXLgGeTrvuSPVFQfOJzbwdg0Zo9CHelVl2r2RKBbjZB74xWWK8RmjXbaV4Hc2EvzuParCnL/FFI5Rj7ldFCUT1fygMPmbqKwOL4tNgRhK+WHlfeTBToTtS2Cr4+ek93UAu+8h+MJ9qn91dJTg3hVQlOZ/LwEnx4ELpterB+xTJFYnLsXx8bdrvhOfAtGFGZRvfeitc6bfzTK/ZjVInsMpVd/bCTy7RcLQeYrxQnz70vfnpV3V4/e5DS9OsrtMW+2OUYEYyneugM5XYk57J6ooTuQH7fNujm9fzjJvliCufflTHB2xz41P5dYBUsrZhFs7Rao/goQ4yJzaOcpMv7mcvLj2ZWtPbPsiHtoFOy6zzH1fXo7VjviHMqQUpI41hkMNOHfIiyWIkUICW51GUUgDrQ6PeDLRFkjLVyk0Rovaa6RNaRTCySx3i3WQz6UmparMx+wDxzniTjL+ZFfSOv5mOnjaFxwUAjEel6OsOur2eBcp22sX1jC1lfWA5rqqLAiFVL5b9uUkq3JcnvcV8liNB9YF2Z431G00nqTbIC3vgjx3279Z922uI6aQINQZlELquS+fdOWEulCYDmn5aiW0Zy/qsB2EkgR2MNNWaoBHWRCzHnT/UVJjvfYVgK6ckDbdhXFDSiPV0YNyQc+lu9AWHC5mDLLA03wDyKrmeSKwsFHkdIKg7iWtpLUTpKUTdHGmhslFKBNeTRb1cIjnfVnbxUZXTu2iVRwddaUwHan2NSgX74JS2X7nBKErXuZGQ/yJrvZIk5AUYlOciCbwOcl8n7uQdOWExhTVpzIgy1YCzKFGRHQRyV0aRlaNGqPeV/2c5Fpo2KwMafknUF6c9Vnq6iKLzTdIHjWGuxGiR0MoTAeLyuSCqRQvYLLQQXG8Pm3Li8zDRDti6xPMF5EaLWtuNwq6su03HsRS0uoVJLMMaMuBLhivkY7SSkRWlFXF6kVeKZBgunJCwycWsuRimUVk5vENbVHtxFY/iZGURwRVnIhkSaMrJzSUwlRIkNrXQJ7J209E2OjH099WpyY7XTpc2AD9rCUz7SMhdOWERExtJpnlIOlloKX5UHdz3EVZjaErP9urPxLzrgypfZXzRVFkpKqMVHsXqBeZqb3T/i0X1m0bIWT1GPiMA2lE/NrvwCAZSK0rIc9PRUdXVoUIkNSrGv3EQVfwEy1GegUCoaFRmBWERWTFOUAueaYh/6P3daRGJ1lk0WIykLg3FkrLuhwpxCqzmXwSsCS0ioy4vag2jIzvm005k01XTkhAFGYGSbUqTrVSvegSEdnu2IjGlmxWJwa68ka/yaQrJyTyAVNS2wrI5UVlsFVFGFPvj8IipavI9pFcJPMJZURSSz64DHUy/RB/so+T4uhIHIXpIJl2kOI8IGvPwgmaGHSS1aIrp3ax0ZWbrDmQqCjMCqk1C/nurdhKMSKZSryE6MoJiX7IJkllILV0gLKyj7j9EEFXgZBYCtNB0u2gxQXlYVWB6MoiI27tGhrBNS8SlweygeViWrPudNLInI7rPohLf50sVnMjhndlRA+SagHSbaBK9WKS6crP3348kHgK06FQWbkE5Vm+YaOfOOmq5t9+vNA8T6qXUlqGWnuetHCSE4FEh/FWsOnRLEMN2fogbvsFi6uYfinTlROahsJ0SOl2yIvaA6timd5rpTqYlWcJ05UNAP4fGp8P3QyvYxMAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/explainBoxArrow.cd1bf698.svg\";","module.exports = __webpack_public_path__ + \"static/media/audio.4030fa08.svg\";","module.exports = __webpack_public_path__ + \"static/media/star.e07fbbc9.svg\";","module.exports = __webpack_public_path__ + \"static/media/more.26f6d80d.svg\";","module.exports = __webpack_public_path__ + \"static/media/open.4645967c.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIcAAACPCAMAAADnajhVAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAADwUExURQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP39/fX19bW1tfr6+uvr64aGhv7+/tra2tzc3Ozs7Pj4+Pb29re3t/v7+/z8/PHx8eXl5fv7++Tk5IuLi9fX1729vff398LCwvr6+vr6+vPz88LCwtfX1+jo6Obm5vLy8szMzO/v7/j4+Lm5ufv7+/39/b+/v/n5+fHx8fb29o+Pj5KSksTExI2Njezs7CrMGcQAAABQdFJOUwAHCAkEBQYBAgMKCwwNDw4REBMSFRQXFhkaGBwbHR4fIAIIGAUNHAIUEg0HCBgDBAkPBBEaBhUGCgMECAUDDA0JCAcFFwIBFAQIBhgXEhkJC8EEWQAABhpJREFUeNrNnOdy2zoQRteWrxVfyypUoVok05HCOHac3nvvyfu/zUUjCQggRRIL6O5M/Edg5sxZgPioEQhQu5p6gfdq5tX/g8IrSXNbece4JpdnEDPEBop/iiNenklUiiO1VBIPHDLFAS+dxBOGxHAgsXgByTASin+ykkncgigYAuIwKYHiA0TFEBB7vASKCuIcg8kQEPu0BIpQ4hQk7UqKwRkatDiLDOKsMzJGQkER/qXFWRKSDMQLBmM4Pj6OyT/G4gNE4mAYRAaFaLVaH+Ej+UtRqBIG4o5D0UExiAxKcXJyQj4lfxkJVUJAHAoxYRCITqf9g3z6o93pEBQTiMuu7LGetChFu8c+77UpSYv1Zs9hZxQdKUa71+t+Z59/7/Z6bQnEkRChQ2BQjuMWddHt92M2IO73u9QJbQ1dNQIEW4jWFYpBKILgjRjxJggoiQBROuNKh4QxHMRiSDwYqiAuhEg6SFfYShEYb9MxbwUIWzWsM+hCNB1kihKM4SAcRemgaBQOhgSETFZXQhQdtCtkpXCM39Ko3xyErJqkM8hCMh18krKu9INBOB1fScOuxtNwEPRZZ6SpiidkUwfrCsP4qoz7ykDkzqAK2dDB1ko3GIaj8eRKGXg1GY/CYdBlawZfiK6DdGU4IBhPNkY+ISBkitDO4AvRdPCujKaT2eXG0MvZZDrincEXYtBB1ko4ncz/aGP/zCfTkK4ZfCEb9w6mg6yV0Xh+/UwbfHZ9TjpD1kwiBO8eYtIRUB2zR4bRj2ZUSIAvxKiDrhWTDiGEdAZdiDRLMx2sKwvj+AXvzIYQa44cHaQri9vGC24vWGewheTrWOZcsXQipKqOQiE+dbgRkixaXcf93GvuG4RYLt0CHVHuRRG+kE0drVTHecFV56mQFo6QWjocCFF1NErqUIU07IXIOg5VHXcLL7yrCjm0FGLSEQyojhtbrrxBhbBtF0GIkn+y3EF1rLZcuqJCshxil4c2Nnyqg7alhA4uhAezREjt7V+Ng/SZhabSUjoyISSp0oc7GyG6jnZpHZmQtq2QHB1TouOsxOVnRMgUQ0iOjvFscbPU9TcXszGCkDwdk3I6mJAJghBbHUhC1DjYyDb8sjokIR0hpE5A1HY4oWO+OC39f5wu5omQurtdfjperktzrJfWiTl3w6+gQxJSe/vH0FEoxDb/nFa6B51a5qHcdLx8WInj4dIqMRfoiCpxRHZC8tPxrYp75S2bxIymw1JIfjquqkMVUjEgFqTjB5U5HtRPzPXTMWpitkjHqInZJh0jJmardIyYmO3SMVpitkzHaInZPg6iBETrdIyUmF3oqCEEIR2jJGaMdIyQmJs4cdA6MeOkY/vE7EpHxcSMlY5tE3N+Ol5bc6zLJ2bEOGgVEPHSsVVidqqjghDMdGyRmAvScYTCEZVLzLjpuHZiRk7HtRMzdjqumZjR03HNxIyfjmsl5oJ0fIHIcbEtMbuJg5UDopN0XCMx+9KxRYijdFw5MbtKx1UTs7s4WC0gOkvH1RIzeNRRJATcpeNKiRny4uDaCcc6LyCCtuGj5p9teSi9l4Fhw9/+U4L6dc7zkLb9Q84OFzniiHJ2O2gab+mudDAhhpt7E8zPcJEzjsj8bAfGRXsH3NUd49IFYyxdOeRYGYMqmNriUgcRYmoMmNqycsqxMjUG9NUy/wRu69NcXzFgaMuFY44LQ2NACmIil/4E1/VTzal00wX9B9CXzjku9Z9TgzZNf4H7+qVNVNCm6VMPHE+1iQrSdw2cA3zUBseBxhHe88JxLyzmGIbgp5IDGWaO/vCdJ4537MiOkYPdP8BXDaUTOzIHP0/y0hvHS/l8iszBDpTE3jhifjwl4ziSzsT9BX/1VzprJ+5jyQTpxB454o58oAuks4onH8BnfTiRzkCCfFgx9soRy0cgQTq8+Qz81jPpSCikz/r7jW+eOb6x89z8mR+SA+h7++/Bd73nOjhHerr3hXeOF9mJYUhP5D8G//U4Pe0P6asBnu+A43n60gFIXl/xCnZRr5IXZIjvP44OPu+E47PA4N/DEJDXsJt6Ld7SAeKVHl92xPFFvCwExLtFYFcl3lnyHxBWPMa6+jxoAAAAAElFTkSuQmCC\"","const webApp = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case \"webApp/SETSTATUS\":\r\n            return {...state, status: action.status}\r\n        case \"webApp/SETXMLDOC\":\r\n            // console.log(`reducers app/SETXMLDOC: xmlDoc: ${action.xmlDoc}`)\r\n            return {...state, xmlDoc: action.xmlDoc}\r\n        case \"webApp/SETURI\":\r\n            return {...state, url: action.url}\r\n        case \"webApp/SETHISTORY\":\r\n            return {...state, history: action.history}\r\n        case \"webApp/SETLOCATION\":\r\n            return {...state, location: action.location}\r\n        case \"webApp/SETKEY\":\r\n            return {...state, key: action.key}\r\n        case \"webApp/SETELEMENTS\":\r\n            return {...state, elements: action.elements}\r\n        case \"webApp/SETHEADS\":\r\n            return {...state, heads: action.heads}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default webApp","const app = (state = {}, action) => {\r\n    switch (action.type) {\r\n        case \"app/\":\r\n            return {...state, status: action.status}\r\n        case \"app/\":\r\n            // console.log(`reducers app/SETXMLDOC: xmlDoc: ${action.xmlDoc}`)\r\n            return {...state, xmlDoc: action.xmlDoc}\r\n        case \"app/\":\r\n            return {...state, url: action.url}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default app","const explanation = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case \"SHOW_EXPANATION\":\r\n      let count = state.count + 1 || 1;\r\n      return { ...state, word: \"WORD\", count: count };\r\n    case \"expl/SETWORD\":\r\n      if (action.coordinate == null) return { ...state, word: action.word };\r\n      return { ...state, word: action.word, coordinate: action.coordinate };\r\n    case \"expl/SETSHOW\":\r\n      if(action.show === state.show) return state;\r\n      return { ...state, show: action.show };\r\n    case \"expl/SETDATA\":\r\n      return { ...state, data: action.data };\r\n    case \"expl/SETEXPLSTATE\":\r\n      return { ...state, status: action.status };\r\n    case \"expl/SETPLAYAUDIO\":\r\n      return { ...state, audio: action.audio };\r\n    case \"expl/SETZOOM\":\r\n      let zoom = (state.zoom == null ? 0 : state.zoom) + action.zoom;\r\n      if (typeof zoom !== \"number\" || Number.isNaN(zoom)) zoom = 0;\r\n      return { ...state, zoom: zoom };\r\n    case \"expl/ADDMORE\":\r\n      let more = Array.isArray(state.more)\r\n        ? state.more.concat(action.more)\r\n        : [action.more];\r\n      let moreObj = {}\r\n      more.map(w => moreObj[w]='')\r\n      return { ...state, more: Object.keys(moreObj) };\r\n    case \"exp/SETMORE\":\r\n      return { ...state, more: action.more };\r\n    case \"expl/SETSETTING\":\r\n      let setting = { ...state.setting, ...action.setting };\r\n      return { ...state, setting: setting };\r\n    case \"expl/SETMOREFOLD\":\r\n      if (action.isUnfold == null) {\r\n        return { ...state, unfoldMore: !state.unfoldMore };\r\n      }\r\n      return { ...state, unfoldMore: action.unfoldMore };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default explanation;\r\n","const a = (state={}, action) => {\r\n    switch(action.type) {\r\n        case \"a/SETSHOW\":\r\n            if( action.status === null  ) return { ...state, show:!state.status }\r\n            return { ...state, show: action.status }\r\n        case \"a/SETHREF\":\r\n            return { ...state, href:action.href }\r\n        default:\r\n            return { ...state }\r\n    }\r\n}\r\n\r\nexport default a;","const translate = (state = {}, action) => {\r\n    switch(action.type){\r\n        case \"translate/SETSHOW\":\r\n            return { ...state, show: action.value }\r\n        case \"translate/SETORIGINAL\":\r\n            return { ...state, original: action.original }\r\n        case \"translate/SETTRANSLATION\":\r\n            return { ...state, translation: action.translation}\r\n        case \"translate/SETSTATUS\":\r\n            return { ...state, status: action.status }\r\n        // case \"\":\r\n        //     return { ...state, }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default translate","import { combineReducers } from 'redux'\r\n\r\nimport webApp from './webApp';\r\nimport app from './app';\r\nimport explanation  from './explanation';\r\nimport a from './a';\r\nimport translate from './translate';\r\nimport readPanel from './readPanel';\r\nimport other  from './other';\r\n\r\nconsole.log(`reducers.js`);\r\n\r\nexport default combineReducers({\r\n    webApp,\r\n    app,\r\n    explanation,\r\n    a,\r\n    translate,\r\n    readPanel,\r\n    // other\r\n})","\r\n\r\nexport default function (state = {}, action) {\r\n    switch (action.type) {\r\n        case \"readPanel/SETMENUSTYLE\":\r\n            return { ...state, menuStyle: action.style }\r\n            break;\r\n        case \"readPanel/SETTARGET\":\r\n            return { ...state, target: action.target }\r\n        case \"readPanel/SETSHOW\":\r\n            return { ...state, show: action.show }\r\n        default:\r\n            return state;\r\n    }\r\n}","\r\nexport const setShow = status => ({\r\n    type: 'a/SETSHOW',\r\n    status\r\n})\r\n\r\nexport const setHref = href => ({\r\n    type: 'a/SETHREF',\r\n    href\r\n})\r\n\r\n// a = <a>\r\nexport const tapA = a => {\r\n    let href = a.href;\r\n\r\n    return dispatch => {\r\n        dispatch(setHref(href))\r\n        dispatch(setShow(true))\r\n    }\r\n}","import React from 'react';\r\nimport {\r\n    Link,\r\n} from 'react-router-dom';\r\n\r\nimport '../App.scss';\r\n\r\nimport { connect } from 'react-redux'\r\nimport * as aActions from '../actions/a'\r\nimport * as _ from 'lodash'\r\n\r\n// A 组件目前弃用\r\nfunction A(props) {\r\n\r\n    const handleClick = (e) => {\r\n        e.preventDefault();\r\n        let url = _.get(e, 'currentTarget.attributes.data-src.value');\r\n        if (!url) return;\r\n        props.setHref(url)\r\n        props.setShow(true)\r\n    }\r\n\r\n    // let aProps = props.props\r\n    // // aProps.className = \"wrp-a \" + aProps.className;\r\n    // aProps['data-href'] = aProps.href;\r\n    // delete aProps.href;\r\n    return (\r\n        <a {...props.props}\r\n            onClick={handleClick}\r\n        >{props.children}</a>\r\n    );\r\n}\r\n\r\nfunction Modal(props) {\r\n\r\n    const link = {\r\n        hash: false,\r\n        url: \"\",\r\n    }\r\n\r\n    const externalLink = null;\r\n\r\n    return (\r\n        <div\r\n            className={'wrp-link-dialog-box '.concat(props.a.show ? 'link-dialog-show' : '')}\r\n            data-wrp-action-block=\"intercept\"\r\n        >\r\n            <div>\r\n                {(/^#.+/.test(props.a.href)) ?\r\n                    <a href={props.a.href}>\r\n                        <div className=\"wrp-nav-item wrp-ld-button\">\r\n                            <svg className=\"wrp-nav-item-icon \" viewBox=\"0 0 1024 1024\" version=\"1.1\" fill=\"var(--c-dark)\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"4385\"><defs><style type=\"text/css\"></style></defs><path d=\"M250.016 416.992l319.008 43.008 40 310.016 236-591.008zM120.992 464q-11.008-0.992-18.496-8.512t-8.992-19.008 4-20.512 15.488-12.992l778.016-311.008q8.992-4 18.016-2.016t16 8.992 8.992 16-2.016 18.016l-310.016 776q-4 10.016-13.504 15.488t-20.512 4-18.496-8.992-8.512-18.496l-48.992-384z\" p-id=\"4386\"></path></svg>\r\n                            <div className=\"wrp-nav-item-title\" >转跳至此处</div>\r\n                        </div>\r\n                    </a>\r\n                    :\r\n                    <Link\r\n                        className=\"wrp-nav-item wrp-ld-button\"\r\n                        to={`/wrp-read?url=${encodeURIComponent(props.a.href)}`}\r\n                    >\r\n                        <svg className=\"wrp-nav-item-icon \" viewBox=\"0 0 1024 1024\" version=\"1.1\" fill=\"var(--c-dark)\"><path d=\"M863 942H500.3L309.7 822.6c-33.8-21.2-54.9-60.7-54.9-103V162.5c0-30.4 14.5-57.6 38.7-72.9 24.4-15.4 53.6-15.4 78-0.1L507 174.3h356c52.9 0 96 46.9 96 104.6v558.4c0 57.8-43.1 104.7-96 104.7z m-345.6-69.8H863c17.6 0 32-15.6 32-34.9V278.9c0-19.2-14.4-34.9-32-34.9H489.9l-150.3-94.1c-6.4-4-12-1.3-14.1 0-2.5 1.6-6.7 5.3-6.7 12.6v557.1c0 17.5 8.7 33.8 22.8 42.5l175.8 110.1z\" fill=\"#595959\" p-id=\"4277\"></path><path d=\"M508.8 942H161c-52.9 0-96-46.9-96-104.6V278.9c0-57.7 43.1-104.6 96-104.6h125.8v69.8H161c-17.6 0-32 15.6-32 34.9v558.4c0 19.2 14.4 34.9 32 34.9h347.8V942zM497.5 174.3h1v69.8h-1z\" p-id=\"4278\"></path><path d=\"M480 209.2h64v697.2h-64z\" p-id=\"4279\"></path></svg>\r\n                        <div className=\"wrp-nav-item-title\">阅读新页面</div>\r\n                    </Link>\r\n                }\r\n            </div>\r\n            <a href={externalLink} target=\"_blank\" href={props.a.href}>\r\n                <div className=\"wrp-nav-item wrp-ld-button\">\r\n                    <svg className=\"wrp-nav-item-icon \" version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 200 200\" ><path fill=\"var(--c-dark)\" d=\"M168.8,123.3c0-3.2,2.8-5.8,6.3-5.8s6.3,2.6,6.3,5.8V164c0,6.4-5.6,11.6-12.5,11.6H31.2\tc-6.9,0-12.5-5.2-12.5-11.6V36c0-6.4,5.6-11.6,12.5-11.6H75c3.5,0,6.3,2.6,6.3,5.8s-2.8,5.8-6.3,5.8H37.5c-3.4,0-6.2,2.6-6.3,5.8\tc0,0,0,0,0,0.1v116.2c0,3.2,2.8,5.8,6.2,5.8c0,0,0,0,0.1,0h125c3.4,0,6.2-2.6,6.3-5.8c0,0,0,0,0-0.1V123.3z M74,132.8\tc-2.4,2.3-6.4,2.3-8.8,0c0,0,0,0,0,0c-2.4-2.2-2.5-5.9-0.1-8.2c0,0,0,0,0,0l94-87.4l-34.4,0.1c-3.4,0-6.1-2.5-6.2-5.7\tc0,0,0-0.1,0-0.1c0-3.2,2.8-5.8,6.2-5.8l49.8-0.2c3.4,0,6.1,2.5,6.2,5.7c0,0,0,0.1,0,0.1l-0.2,46.4c-0.1,3.2-2.8,5.8-6.3,5.8\tc-3.4,0-6.2-2.5-6.2-5.6c0,0,0-0.1,0-0.1l0.1-32.6L74,132.8z\" /></svg>\r\n                    <div className=\"wrp-nav-item-title\">新窗口打开</div>\r\n                </div>\r\n            </a>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    a: state.a,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    setShow: isShow => {\r\n        dispatch(aActions.setShow(isShow))\r\n    },\r\n    setHref: href => {\r\n        dispatch(aActions.setHref(href))\r\n    }\r\n})\r\n\r\nexport default connect(null, mapDispatchToProps)(A);\r\n\r\nexport const AModal = connect(mapStateToProps, null)(Modal)\r\n\r\n// extension 中a不可以用“/wrp-read?url=...”方式打开新页面\r\n// 怎么兼容 extension 比较好呢 ?\r\n\r\n// 另外如何区分 extension 和 网页的环境呢，是运行时区分，还是build时区分\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport A from \"../components/a\";\r\nimport { get } from \"lodash\";\r\n\r\nconst config = {\r\n  runScript: true,\r\n  keepIntegrityAttribute: false,\r\n};\r\n\r\nconst extractScope = {\r\n  front: 1,\r\n  behind: 1,\r\n  /**\r\n   * fn, bn为断句过程中的变量,\r\n   * 当fn == front, bn == behind时, 断句即结束\r\n   * 每次断句结束后, 需要重置fn, bn\r\n   */\r\n  fn: 0,\r\n  bn: 0,\r\n};\r\n\r\n\r\nfunction isInline(target) {\r\n  // console.log('isInline: ', target, typeof target, target.nodeName)\r\n  if (!target) return false;\r\n  if (target.nodeName === \"#text\") return true;\r\n\r\n  let display = window.getComputedStyle(target).getPropertyValue(\"display\");\r\n  if (display.search(\"inline\") !== -1) return true;\r\n\r\n  return false;\r\n}\r\n\r\n/**\r\n * @param {String} text \r\n */\r\nfunction getBreakPoints(text) {\r\n  let length = text.length;\r\n  let breakPoints = [];\r\n  let points = text.search(/[.?!。？！]/);\r\n  while (points !== -1) {\r\n    // console.log('=', points)\r\n    breakPoints.push(length - text.length + points)\r\n    text = text.slice(points + 1)\r\n    points = text.search(/[.?!。？！]/);\r\n  }\r\n\r\n  // console.log('breakPoints', breakPoints)\r\n  return breakPoints;\r\n}\r\n\r\n/**\r\n * 用于查找 #text 和 Element 混合节点的分句位置\r\n * 返回所有可能存在分句点的#text对象 和 分句点的相对位置\r\n * return [{target:#text, points:[]}]\r\n * @param {Node} target \r\n */\r\nfunction getTargetAndBreakPoint(target) {\r\n  target = target.firstChild;\r\n  let result = []\r\n  while (target !== null) {\r\n    console.log('--')\r\n    if (target.nodeName !== '#text') {\r\n      target = target.nextSibling;\r\n      continue;\r\n    }\r\n\r\n    let text = target.textContent\r\n    let length = text.length\r\n    let point = text.search(/[.?!。？！]/)\r\n\r\n    let p = {\r\n      points: []\r\n    }\r\n\r\n    while (point !== -1) {\r\n      p.points.push(length - text.length + point);\r\n      text = text.slice(point + 1)\r\n      point = text.search(/[.?!。？！]/)\r\n    }\r\n\r\n    if (p.points.length > 0) {\r\n      p.target = target\r\n      result.push(p)\r\n    }\r\n\r\n    target = target.nextSibling;\r\n  }\r\n  return result;\r\n}\r\n\r\nfunction comparePosition(target, breakPoints, x, y) {\r\n  if (breakPoints.length <= 0) return 0;\r\n  let middle = Math.round(breakPoints.length / 2) - 1;\r\n  // console.log('comparePosition', target, breakPoints, x, y, middle)\r\n  if (breakPoints[0] >= target.textContent.length) return false;\r\n\r\n  window.getSelection().removeAllRanges()\r\n  let range = new Range(target)\r\n  range.setStart(target, breakPoints[middle]);\r\n  range.setEnd(target, breakPoints[middle] + 1);\r\n  window.getSelection().addRange(range);\r\n  let domRect = range.getClientRects()[0]\r\n  // console.log('domRect', domRect)\r\n  // Previous\r\n  if (y < domRect.y || (y < domRect.y + domRect.height && x < domRect.x)) {\r\n    if (breakPoints.slice(0, middle) < 1) return breakPoints[0];\r\n    return comparePosition(target, breakPoints.slice(0, middle), x, y)\r\n  }\r\n\r\n  // following\r\n  if (y > domRect.y + domRect.height || (x > domRect.x && y > domRect.y)) {\r\n    if (breakPoints.slice(middle + 1) < 1)\r\n      return breakPoints.slice(middle, middle + 1)[0] + 1;\r\n    return comparePosition(target, breakPoints.slice(middle + 1), x, y)\r\n  }\r\n}\r\n\r\nexport function calcOffset(target, x, y) {\r\n\r\n  if (target.children.length === 0) {\r\n    let breakPoints = getBreakPoints(target.textContent);\r\n    target = target.firstChild;\r\n    return [target, comparePosition(target, breakPoints, x, y)]\r\n  }\r\n\r\n  // #text 和 Element 混合节点\r\n  let breakPoints = getTargetAndBreakPoint(target);\r\n  if (breakPoints.length === 0) return [target.firstChild, 0];\r\n  let p\r\n  let obj\r\n  for (obj of breakPoints) {\r\n    p = comparePosition(obj.target, obj.points, x, y)\r\n    if (p <= obj.points[obj.points.length - 1]) {\r\n      return [obj.target, p];\r\n    }\r\n  }\r\n\r\n  return [obj.target, p]\r\n}\r\n\r\n// 从html中提取部分文字区域， 例如：单词，句子\r\n/**\r\n * @param {Node} target\r\n * @param {Number} offset\r\n * @param {Enumera} type\r\n */\r\nexport function extractPart(target, offset, type = \"word\") {\r\n  if (!target) return [\"\", \"\"];\r\n  // console.log('translate test',target);\r\n  let frontPattern;\r\n  let behindPattern;\r\n  if (type === \"word\") {\r\n    frontPattern = /^[\\s\\S]*\\W(\\w*?)$/;\r\n    behindPattern = /^(\\w*?)\\W[\\s\\S]*$/;\r\n  }\r\n\r\n  if (type === \"sentence\") {\r\n    frontPattern = /^[\\s\\S]*(?:(?:[.!?](?!\\w))|[。！？\\v\\t])([\\s\\S]*?)$/;\r\n    behindPattern = /^([\\s\\S]*?([.!?](?!\\w))|[。！？\\v\\t])[\\s\\S]*$/;\r\n  }\r\n\r\n  let frontTarget = target;\r\n  if (offset == null) {\r\n    frontTarget = target.previousSibling;\r\n    if (!isInline(target)) {\r\n      frontTarget = null;\r\n    }\r\n  }\r\n  // console.log(\"frontPattern\", frontPattern, behindPattern);\r\n  // console.log('a',frontTarget,offset)\r\n  let front = frontFind(frontTarget, offset, true, frontPattern, type);\r\n  // console.log('go -1 front',front,'go -2');\r\n  let behind = behindFind(target, offset, true, behindPattern, type);\r\n  // console.log('go -2 behind',behind,'go -end');\r\n\r\n  extractScope.fn = 0;\r\n  extractScope.bn = 0;\r\n\r\n  return [front, behind];\r\n}\r\n\r\n// 寻找分割的断点位置\r\nexport function findSubPart(text, orientation, pattern, target, type) {\r\n\r\n  let subPart;\r\n  subPart = text.match(pattern);\r\n  if (subPart === null) {\r\n    return text;\r\n  }\r\n\r\n  if (orientation === 'front' && type === 'word') {\r\n    extractScope.fn += 1;\r\n    return subPart[1];\r\n  }\r\n\r\n  if (orientation === 'behind' && type === 'word') {\r\n    extractScope.bn += 1;\r\n    return subPart[1];\r\n  }\r\n\r\n  if (orientation === \"front\" && type === 'sentence') {\r\n    let index = target.textContent.indexOf(text) + text.lastIndexOf('.')\r\n    if (!sentenceEndingJudge(target, index)) {\r\n      return text;\r\n    }\r\n    extractScope.fn += 1;\r\n    subPart = subPart[1];\r\n  }\r\n\r\n  if (orientation === \"behind\" && type === 'sentence') {\r\n    let index = target.textContent.indexOf(text) + text.indexOf('.');\r\n    if (!sentenceEndingJudge(target, index)) {\r\n      return text;\r\n    }\r\n    extractScope.bn += 1;\r\n    subPart = subPart[1];\r\n  }\r\n\r\n  return subPart;\r\n}\r\n\r\nexport function frontFind(\r\n  target, offset,\r\n  testParent = true,\r\n  pattern,\r\n  type\r\n) {\r\n  // 向前遍历节点 直到找到“起点”\r\n  let result = {\r\n    texts: [],\r\n    elements: [],\r\n    startTarget: null,\r\n    startOffset: 0,\r\n    break: false,\r\n  };\r\n\r\n  if (!target) return result;\r\n\r\n  while (target) {\r\n    // console.log(\"front, while\", target,result.texts);\r\n    if (target.nodeName == \"#text\") {\r\n      let text;\r\n      if (typeof offset === 'number') {\r\n        text = target.textContent.slice(0, offset);\r\n      } else {\r\n        text = target.textContent;\r\n      }\r\n\r\n      // console.log('front text', text, target)\r\n      let subPart = findSubPart(text, \"front\", pattern, target, type);\r\n      // console.log('subPart', subPart)\r\n      if (extractScope.front <= extractScope.fn) {\r\n        result.texts.unshift(subPart);\r\n        result.elements.unshift(subPart);\r\n        result.startTarget = target;\r\n        result.startOffset = text.lastIndexOf(subPart);\r\n        // console.log('break')\r\n        result.break = true;\r\n        break;\r\n      } else {\r\n        subPart = text;\r\n        result.texts.unshift(subPart);\r\n        result.elements.unshift(subPart);\r\n        result.startTarget = target;\r\n        result.startOffset = 0;\r\n      }\r\n    } else if (isInline(target)) {\r\n      // 需要遍历子节点\r\n      let children = frontFind(target.lastChild, null, false, pattern, type);\r\n      result.texts.unshift(...children.texts);\r\n      result.elements.unshift(copy(target, children.elements));\r\n      result.startTarget = children.startTarget;\r\n      result.startOffset = children.startOffset;\r\n      result.break = children.break;\r\n      if (children.break) break;\r\n    } else {\r\n      result.startTarget = target;\r\n      result.startOffset = target.textContent.length;\r\n      break;\r\n    }\r\n\r\n    // 偶尔因target.parentName undefined 出错;\r\n    if (target.previousSibling) {\r\n      if (!isInline(target.previousSibling)) {\r\n        extractScope.fn += 1;\r\n      }\r\n      target = target.previousSibling;\r\n    } else if (testParent) {\r\n      if (\r\n        !isInline(target.parentNode) ||\r\n        !isInline(target.parentNode.previousSibling)\r\n      ) {\r\n        extractScope.fn += 1;\r\n      }\r\n      target = target.parentNode.previousSibling;\r\n    } else {\r\n      break;\r\n    }\r\n    if (extractScope.front <= extractScope.fn) break;\r\n    offset = null;\r\n  }\r\n  return result;\r\n}\r\n\r\nexport function behindFind(\r\n  target,\r\n  offset,\r\n  testParent = true,\r\n  pattern,\r\n  type\r\n) {\r\n  // 向后遍历节点  直到找到“终点” (词尾，句尾)\r\n  let result = {\r\n    texts: [],\r\n    elements: [],\r\n    endTarget: null,\r\n    endOffset: 0,\r\n    break: false,\r\n  };\r\n  if (!target) return result;\r\n  if (!offset) offset = 0;\r\n  while (target) {\r\n    // console.log(\"next, while\", target);\r\n    if (target.nodeName == \"#text\") {\r\n      let text = target.textContent.slice(offset);\r\n      // console.log(\"behind text\", text, target, offset, target.textContent);\r\n\r\n      let subPart = findSubPart(text, \"behind\", pattern, target, type);\r\n      if (extractScope.behind <= extractScope.bn) {\r\n        result.texts.push(subPart);\r\n        result.elements.push(subPart);\r\n        result.endTarget = target;\r\n        result.endOffset = offset + subPart.length;\r\n        result.break = true;\r\n        // console.log(\"break\");\r\n        break;\r\n      } else {\r\n        subPart = text;\r\n        result.texts.push(subPart);\r\n        result.elements.push(subPart);\r\n        result.endTarget = target;\r\n        result.endOffset = target.textContent.length;\r\n      }\r\n    } else if (isInline(target)) {\r\n      // 需要遍历子节点\r\n      let children = behindFind(target.firstChild, null, false, pattern);\r\n      result.texts.push(...children.texts);\r\n      result.elements.push(copy(target, children.elements));\r\n      result.endTarget = children.endTarget;\r\n      result.endOffset = children.endOffset;\r\n      result.break = children.break;\r\n      if (children.break) break;\r\n    } else {\r\n      result.endTarget = target;\r\n      result.endOffset = 0;\r\n      break;\r\n    }\r\n\r\n    if (target.nextSibling) {\r\n      if (!isInline(target.nextSibling)) {\r\n        extractScope.bn += 1;\r\n      }\r\n      target = target.nextSibling;\r\n      // offset = 0;\r\n    } else if (testParent) {\r\n      if (\r\n        !isInline(target.parentNode) ||\r\n        !isInline(target.parentNode.nextSibling)\r\n      ) {\r\n        extractScope.bn += 1;\r\n      }\r\n      target = target.parentNode.nextSibling;\r\n      // offset = 0;\r\n    } else {\r\n      break;\r\n    }\r\n\r\n    if (extractScope.behind <= extractScope.bn) break;\r\n    offset = 0;\r\n  }\r\n  return result;\r\n}\r\n/**\r\n * \r\n * @param {Object {target:#text, offset: 0}} start \r\n * @param {Object {target:#text, offset: 2}} end \r\n */\r\nexport function selectedText(start, end) {\r\n  window.getSelection().removeAllRanges();\r\n  let range = new Range();\r\n  range.setStart(start.target, start.offset);\r\n  range.setEnd(end.target, end.offset);\r\n  window.getSelection().addRange(range);\r\n}\r\n\r\n// 🦉 英文人名缩写如何判断？\r\n/**\r\n * 判断一段含“.”的文字，是否为一个句子的结尾。\r\n */\r\nexport function sentenceEndingJudge(target, index) {\r\n  let text = target.textContent.slice(Math.max(0, index - 5), index + 5);\r\n  if (index <= 1) {\r\n\r\n  }\r\n  if (index >= target.length - 1) {\r\n\r\n  }\r\n  const negateList = [\r\n    /\\d{1,4}\\.\\s?\\d{1,4}/,\r\n    /[\\s^]Inc\\.\\s[a-z]/,\r\n    /[\\s^]([A-Z]\\. ?){1,3}/,\r\n  ];\r\n  return !negateList.some(re => re.test(text))\r\n}\r\n\r\nexport function deepCopy(node, returnChilren = false) {\r\n  if (node.nodeName == \"#text\") return node.textContent;\r\n\r\n  let children = node.firstChild;\r\n  let childrenList = [];\r\n  while (children) {\r\n    childrenList = childrenList.concat(deepCopy(children));\r\n    children = children.nextSibling;\r\n  }\r\n\r\n  if (returnChilren) {\r\n    return childrenList;\r\n  } else {\r\n    let type = node.nodeName.toLowerCase();\r\n    const ignoreTag = [\"#comment\"];\r\n\r\n    if (ignoreTag.includes(type)) {\r\n      return \"\";\r\n    }\r\n\r\n    let props = attToProps(node);\r\n    const noChildren = [\"img\", \"hr\", \"br\", \"input\", \"link\", \"wbr\"];\r\n\r\n    if (noChildren.includes(type)) {\r\n      let element = React.createElement(type, props);\r\n      return element;\r\n    }\r\n\r\n    let element = React.createElement(type, props, childrenList);\r\n    return element;\r\n  }\r\n}\r\n\r\nexport function copy(content, children) {\r\n  // Element、Children 为React Element\r\n  let type = content.nodeName.toLowerCase();\r\n  let props = attToProps(content);\r\n  let element = React.createElement(type, props, ...children);\r\n  return element;\r\n}\r\n\r\nexport function extractHead(head) {\r\n  /** 提取head中的有用部分，复制，返回列表 */\r\n  let list = [];\r\n  if (!head) return list;\r\n  let base = false;\r\n  for (let i = 0; i < head.childNodes.length; i++) {\r\n    let node = head.childNodes[i];\r\n    let type = node.nodeName;\r\n    // console.log('nodeName', node, node.nodeName)\r\n    // console.log('node src ->', node.href)\r\n\r\n    if (type === \"BASE\") {\r\n      base = true;\r\n    }\r\n\r\n    // 相对链接转换为绝对\r\n    if (node.href) node.href = node.href;\r\n    if (node.src) node.src = node.src;\r\n\r\n    switch (type) {\r\n      case \"LINK\":\r\n        // 黑名单\r\n        if (\r\n          [/manifest/, /icon/].findIndex((value) => value.test(node.rel)) != -1\r\n        )\r\n          break;\r\n\r\n        //白名单\r\n        // if(![/stylesheet/,/preload/].findIndex((value)=>value.test(node.rel))) break;\r\n\r\n        list.push(createElement(type, attToProps(node), node.innerText));\r\n        break;\r\n      case \"STYLE\":\r\n        // list.push(this.createElement(type, this.attToProps(node), node.innerText));\r\n        list.push(<style>{node.innerText}</style>);\r\n        break;\r\n\r\n      case \"SCRIPT\":\r\n        // list.push(<script >{node.innerText}</script>);\r\n        list.push(createElement(\"script\", attToProps(node), node.innerText));\r\n        break;\r\n\r\n      case \"TITLE\":\r\n      // 忽略\r\n      case \"#text\":\r\n      // case \"SCRIPT\":\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  // if(!base)list.push(this.createBaseTag());\r\n  return list;\r\n}\r\n\r\n//提取网页内容摘要\r\nexport function extractAbstract(node) {\r\n  if (!node) return;\r\n  let abstract = {};\r\n  // icon\r\n  let links = node.head.getElementsByTagName(\"link\");\r\n  for (let i = 0; i < links.length; i++) {\r\n    let link = links[i];\r\n    if (!link.rel) continue;\r\n    if (link.rel.indexOf(\"icon\") > 0) {\r\n      abstract.icon = link.href;\r\n      break;\r\n    }\r\n  }\r\n  // title\r\n  let title = \"\";\r\n  let docTitle = node.head.getElementsByTagName(\"title\");\r\n  if (docTitle.length > 0) {\r\n    title = docTitle[0].textContent;\r\n  } else {\r\n    let docH1 = node.body.getElementsByTagName(\"h1\");\r\n    if (docH1.length > 0) {\r\n      title = docH1[0].textContent;\r\n    } else {\r\n    }\r\n  }\r\n  abstract.title = title;\r\n\r\n  // description\r\n  let pTags = node.getElementsByTagName(\"p\");\r\n  let description = \"\";\r\n  for (let i = 0; i < pTags.length; i++) {\r\n    description = description + pTags[i].textContent.trim().slice(0, 200);\r\n    if (description.length >= 200) break;\r\n  }\r\n\r\n  let spanTags = node.getElementsByTagName(\"span\");\r\n  for (let i = 0; i < spanTags.length; i++) {\r\n    description = description + spanTags[i].textContent.trim().slice(0, 200);\r\n    if (description.length >= 200) break;\r\n  }\r\n\r\n  if (!description) description = node.body.textContent.trim().slice(0, 200);\r\n  abstract.des = description;\r\n\r\n  // console.log('摘要 描述',pTags, description);\r\n\r\n  // abstract.url = this.props.app.url;\r\n  // abstract.key = this.props.app.key;\r\n\r\n  return abstract;\r\n}\r\n\r\nexport function createElement(type, props, children) {\r\n  type = type.toLowerCase();\r\n  let element;\r\n\r\n  switch (type) {\r\n    case \"div\":\r\n    case \"span\":\r\n    case \"p\":\r\n      element = React.createElement(type, props, children);\r\n      return element;\r\n    case \"a\":\r\n      element = React.createElement(type, props, children);\r\n      return element;\r\n    // 以下为 empty elements (no children) 的标签\r\n    case \"input\":\r\n      // 存在value属性导致无法输入\r\n      delete props.value;\r\n    case \"img\":\r\n    case \"hr\":\r\n    case \"br\":\r\n    case \"link\":\r\n    case \"wbr\":\r\n    case \"area\":\r\n    case \"base\":\r\n    case \"embed\":\r\n    case \"keygen\":\r\n    case \"meta\":\r\n    case \"param\":\r\n    case \"source\":\r\n    case \"track\":\r\n    case \"menuitem\":\r\n      element = React.createElement(type, props);\r\n      return element;\r\n    // 以下为忽略的标签\r\n    case \"#comment\":\r\n    case \"#document\":\r\n      break;\r\n    case \"script\":\r\n      // return '';\r\n      if (!config.runScript) return \"\";\r\n      // if (props.src) props[\"data-href\"] = props.src;\r\n      // delete props.src;\r\n      props['data-wrp-content-script'] = true;\r\n      element = React.createElement(type, props, children);\r\n      return element;\r\n    // 特殊处理\r\n    case \"svg\":\r\n      element = React.createElement(type, props, children);\r\n      // element.dangerouslySetInnerHTML()\r\n      return element;\r\n    case \"body\":\r\n      element = React.createElement(\"body\", props, children);\r\n      return element;\r\n    case \"col\":\r\n      return <col {...props}></col>;\r\n    case \"textarea\":\r\n      if (children.length > 1)\r\n        console.warn(\r\n          \"React.reactElememt() Error! <textarea> tag only requests one children.\"\r\n        );\r\n      // element = React.createElement('div',props, children[0]);\r\n      element = React.createElement(\"textarea\", props, children[0]);\r\n      return element;\r\n    default:\r\n      try {\r\n        if (type.match(/^\\w*$/)) {\r\n          element = React.createElement(type, props, children);\r\n          return element;\r\n        }\r\n      } catch (e) {\r\n        console.log('React.createElement() Error on create \"', type, '\" tag!');\r\n      }\r\n  }\r\n}\r\n\r\nexport function styleConvert(style) {\r\n  // style = element.style;\r\n  let styleObj = {};\r\n  for (let i = 0; i < style.length; i++) {\r\n    let styleKey = style[i].replace(/-([a-z])/g, (m, g) => g.toUpperCase());\r\n    styleObj[styleKey] = style[style[i]];\r\n  }\r\n  // console.log(\"App.js: styleConvert() style:\", style, \"obj:\", styleObj);\r\n  return styleObj;\r\n}\r\n\r\nexport function attToProps(node) {\r\n  if (!node) return {};\r\n  if (!node.attributes) return {};\r\n  let props = {};\r\n  for (let i = 0; i < node.attributes.length; i++) {\r\n    let att = node.attributes[i];\r\n    let attName = att.name;\r\n    let attValue = att.value;\r\n\r\n    // 转换\r\n    switch (attName) {\r\n      case \"style\":\r\n        attValue = styleConvert(node.style);\r\n        break;\r\n      case \"src\":\r\n      case \"href\":\r\n        // 大多默认为相对路径，需补全链接\r\n        attValue = node[attName];\r\n        break;\r\n      case \"srcset\":\r\n        // Todo scrset 相对路径补全\r\n        // 如何补全相对路径呢？这是一个问题，还有在css中的background-image:url()...\r\n        attName = \"srcSet\";\r\n        attValue = \"\";\r\n        break;\r\n      case \"class\":\r\n        attName = \"className\";\r\n        break;\r\n      case \"for\":\r\n        attName = \"htmlFor\";\r\n        break;\r\n      case \"tabindex\":\r\n        attName = \"tabIndex\";\r\n        break;\r\n      case \"itemprop\":\r\n        attName = \"itemProp\";\r\n        break;\r\n      case \"itemscope\":\r\n        attName = \"itemScope\";\r\n        break;\r\n      case \"itemtype\":\r\n        attName = \"itemType\";\r\n        break;\r\n      case \"nomodule\":\r\n        attName = 'noModule'\r\n        break;\r\n      case \"autocapitalize\":\r\n        attName = \"autoCapitalize\";\r\n        break;\r\n      case \"acceptcharset\":\r\n        attName = \"acceptCharset\";\r\n        break;\r\n      case \"autocomplete\":\r\n        attName = \"autoComplete\";\r\n        break;\r\n      case \"crossorigin\":\r\n        attName = \"crossOrigin\";\r\n        break;\r\n      case \"autocorrect\":\r\n        attName = \"autoCorrect\";\r\n        break;\r\n      case \"onkeypress\":\r\n        attName = \"onKeyPress\";\r\n        break;\r\n      case \"onclick\":\r\n        // React onClick 接受一个函数，html中的值只是文本，怎么办？\r\n        attName = \"onClick\";\r\n        try {\r\n          attValue = new Function(attValue);\r\n        } catch (e) { console.error(e) }\r\n        break;\r\n      case \"spellcheck\":\r\n        attName = \"spellCheck\";\r\n        break;\r\n      case \"playsinline\":\r\n        attName = \"playsInline\";\r\n        break;\r\n      case \"colspan\":\r\n        attName = \"colSpan\";\r\n        break;\r\n      case \"onload\":\r\n        // attName = \"onLoad\"\r\n        try {\r\n          // attValue = new Function(attValue);\r\n        } catch (e) { console.error(e) }\r\n        break;\r\n      case \"maxlength\":\r\n        attName = 'maxLength'\r\n        break\r\n      case \"hreflang\":\r\n        attName = 'hrefLang'\r\n        break;\r\n      case \"xml:space\":\r\n      case \"fill-rule\":\r\n      case \"clip-rule\":\r\n      case \"stroke-linecap\":\r\n      case \"stroke-miterlimit\":\r\n      case \"stroke-width\":\r\n      case \"stroke-linejoin\":\r\n      case \"xmlns:xlink\":\r\n      case \"enable-background\":\r\n      case \"accept-charset\":\r\n        attName = attName.replace(/\\W([a-z])/g, (m, g) => g.toUpperCase());\r\n        break;\r\n    }\r\n    // attName = attName.replace(/\\W([a-z])/g,(m,g)=>g.toUpperCase());\r\n    props[attName] = attValue;\r\n    if (!config.keepIntegrityAttribute) delete props.integrity;\r\n\r\n  }\r\n  return props;\r\n}\r\n\r\nexport function frontHaveWordEnd(node) {\r\n  /**判断前半部分(node)的末尾是否是单词的末尾， 即判断前半部分(node)的末尾是否有单词分割符（空格等） */\r\n  let children = node;\r\n  let deep = 0;\r\n  while (children) {\r\n    let child = children; // 备份\r\n    if (!this.isInline(children)) return false;\r\n    if (children.nodeName == \"#text\") {\r\n      let text = children.textContent;\r\n      if (/[a-zA-Z0-9_-]/.test(text[text.length - 1])) return true;\r\n      return false;\r\n    }\r\n\r\n    if (!children.lastChild) {\r\n      children = children.previousSibling;\r\n      // deep = deep\r\n    } else {\r\n      children = children.lastChild;\r\n      deep = deep + 1;\r\n    }\r\n\r\n    // 继续向上就不必了吧, 算了， 先写上\r\n    if (!children && deep > 0) {\r\n      children = child.parentNode.previousSibling;\r\n      deep = deep - 1;\r\n    }\r\n  }\r\n}\r\n\r\nexport function behindHaveWordEnd(node) {\r\n  /**判断后半部分（node）的开端是否是单词的开端， 即判断后半部分(node)的开端是否有单词分割符（空格等） */\r\n  let children = node;\r\n  let deep = 0;\r\n  while (children) {\r\n    let child = children;\r\n    if (!isInline(children)) return false;\r\n    if (children.nodeName == \"#text\") {\r\n      let text = children.textContent;\r\n      if (/[a-zA-Z0-9_-]/.test(text[0])) return true;\r\n      return false;\r\n    }\r\n\r\n    if (!children.firstChild) {\r\n      children = children.nextSibling;\r\n      // deep = deep\r\n    } else {\r\n      children = children.firstChild;\r\n      deep = deep + 1;\r\n    }\r\n\r\n    // 继续向上就不必了吧, 算了， 先写上\r\n    if (!children && deep > 0) {\r\n      children = child.parentNode.nextSibling;\r\n      deep = deep - 1;\r\n    }\r\n  }\r\n}\r\n\r\nexport function htmlTraversal(node) {\r\n  if (!node) return [];\r\n  // console.log('htmlTraversal',node,node.nodeName)\r\n  // let ignoreTag = [\"script\",'meta','link','#comment','#document','iframe'];\r\n  // let mostCommon = [\"DIV\",\"P\",\"SPAN\"]\r\n  let type, props, element;\r\n  switch (node.nodeName) {\r\n    case \"#text\":\r\n      return node.textContent;\r\n    case \"#comment\":\r\n    case \"#document\":\r\n    case \"IFRAME\":\r\n      // 忽略\r\n      return [];\r\n    case \"STYLE\":\r\n      // console.log('style tag->',node, node.innerText, node.scoped);\r\n      type = node.nodeName.toLowerCase();\r\n\r\n      props = attToProps(node);\r\n      element = createElement(type, props, node.innerText);\r\n      return element;\r\n    case \"SCRIPT\":\r\n      type = node.nodeName.toLowerCase();\r\n\r\n      props = attToProps(node);\r\n      element = createElement(type, props, node.innerText);\r\n      return element;\r\n    case \"DIV\":\r\n    case \"P\":\r\n    case \"SPAN\":\r\n    case \"A\":\r\n    default:\r\n      let childrenList = [];\r\n      for (let i = 0; i < node.childNodes.length; i++) {\r\n        let children = node.childNodes[i];\r\n        childrenList = childrenList.concat(htmlTraversal(children));\r\n      }\r\n\r\n      type = node.nodeName.toLowerCase();\r\n\r\n      props = attToProps(node);\r\n      element = createElement(type, props, childrenList);\r\n      return element;\r\n  }\r\n}\r\n\r\nexport function replaceScript(attr = 'data-wrp-content-script', value = true) {\r\n  let scriptList = document.querySelectorAll(`[${attr}=${value}]`);\r\n  scriptList.forEach(\r\n    s => {\r\n      let newScript = document.createElement('script');\r\n      for (let a of s.attributes) {\r\n        newScript[a.name] = a.value\r\n      }\r\n      // s.parentNode.replaceChild(newScript, s);\r\n      s.parentNode.appendChild(newScript)\r\n    }\r\n  )\r\n}\r\n\r\n/**\r\n * \r\n * @param {Array} path\r\n * @param {String} action\r\n */\r\nexport function targetActionFilter(path, action, deep = 5) {\r\n  if (!Array.isArray(path)) {\r\n    console.warn('targetActionFilter(path:Node[])')\r\n    return true;\r\n  }\r\n  path = path.slice(0, -3);\r\n  for (let i = path.length - 1, j = Math.max(path.length - deep, 0); i >= j; i--) {\r\n    let blockAttr = path[i].attributes['data-wrp-action-block'];\r\n    if (!blockAttr) continue;\r\n    if (blockAttr.value.split(' ').includes(action)) {\r\n      console.log('filter action:', action);\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\n/**\r\n * \r\n * @param {event} e event\r\n * @param {function} callback function(<a/>)\r\n */\r\nexport function linkIntercept(e, callback) {\r\n  let path = e.path || getPath(e.target);\r\n  for (let i = 0; i < path.length; i++) {\r\n    if (path[i].nodeName !== 'A') continue;\r\n    if (!targetActionFilter(path.slice(i), 'intercept')) continue;\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (callback) callback(path[i]);\r\n  }\r\n}\r\n\r\nexport function calcHash(text) {\r\n  return Math.abs(text.split(\"\").reduce(function (a, b) { a = ((a << 5) - a) + b.charCodeAt(0); return a & a }, 0));\r\n}\r\n\r\nexport function getPath(target) {\r\n  let path = [];\r\n  while (target !== null) {\r\n    path.unshift(target);\r\n    target = target.parentNode;\r\n  }\r\n  return path;\r\n}\r\n\r\nexport function scrollToTop() {\r\n  document.querySelector('html').scrollTop = 0;\r\n}\r\n\r\nexport function cleanDOM() {\r\n\r\n}\r\n","import axios from 'axios';\r\nimport { get } from 'lodash';\r\n\r\nimport { extractPart, extractHead } from '../utils/core'\r\n\r\nexport const setWord = (word, coordinate) => ({\r\n    type: \"expl/SETWORD\",\r\n    word: word,\r\n    coordinate: coordinate\r\n})\r\n\r\nexport const setShow = show => ({\r\n    type: \"expl/SETSHOW\",\r\n    show\r\n})\r\n\r\nexport const setData = data => ({\r\n    type: \"expl/SETDATA\",\r\n    data\r\n})\r\n\r\n/** \r\n * 请求接口获取单词释义\r\n *  并 setData, addMore, setExplState\r\n */\r\nexport const loadWordData = word => {\r\n    return dispatch => {\r\n        // let url = `https://1773134661611650.cn-beijing.fc.aliyuncs.com/2016-08-15/proxy/WordingReadingPro/iciba/?key=zysj&q=${word.toLowerCase()}`\r\n        let url = `https://1773134661611650.cn-shanghai.fc.aliyuncs.com/2016-08-15/proxy/wrp/wrp_server/iciba?w=${word.toLowerCase()}`;\r\n        let timeout = 10000;\r\n        let iciba2Data = (apiData) => {\r\n            let data = {};\r\n            let more = [];\r\n            if (!apiData.word_name) return data;\r\n            data.word = apiData.word_name;\r\n            if (Object.keys(apiData).includes('word_name')) {\r\n                data.audio = apiData.symbols[0].ph_tts_mp3;\r\n                data.audioUK = apiData.symbols[0].ph_en_mp3;\r\n                data.audioUS = apiData.symbols[0].ph_am_mp3;\r\n                data.answer = apiData.symbols[0].parts.map(o => [o.part, o.means.join(' ')]);\r\n                // 提取单词解释里的单词\r\n                more = apiData.symbols[0].parts.map(i => i.means.join(' ')).join(' ').match(/[a-zA-Z]{3,20}/);\r\n            }\r\n            return { data, more };\r\n        }\r\n        return new Promise(async (resolve) => {\r\n            try {\r\n                let res = await axios({ url: url, method: \"get\", timeout: timeout });\r\n                if (res.status === 200) {\r\n                    console.log('res', res, '\\n', res.data)\r\n                    let data = get(res, 'data.data') || {}\r\n                    let more = (data.answer || []).join(';').match(/[a-zA-Z]{3,30}/g) || []\r\n                    console.log('loadWordData', data, more)\r\n                    dispatch(setData(data))\r\n                    dispatch(addMore(more))\r\n                    dispatch(setExplState('completed'))\r\n                    console.log('--end--')\r\n                } else {\r\n                    console.log()\r\n                    throw new Error('request status != 200')\r\n                }\r\n            } catch (e) {\r\n                console.log('loadWordData Error', e);\r\n                dispatch(setExplState('failed'))\r\n            }\r\n            resolve()\r\n        })\r\n    }\r\n}\r\n\r\nexport const setExplState = status => ({\r\n    type: \"expl/SETEXPLSTATE\",\r\n    status\r\n})\r\n\r\nexport const setPlayAudio = audio => ({\r\n    type: \"expl/SETPLAYAUDIO\",\r\n    audio\r\n})\r\n\r\nexport const setZoom = zoom => ({\r\n    type: \"expl/SETZOOM\",\r\n    zoom\r\n})\r\n\r\nexport const addMore = more => {\r\n\r\n    more = [].concat(more)\r\n    more = more.filter(w => typeof w === 'string')\r\n    more = more.map(w => w.toLowerCase())\r\n    return {\r\n        type: \"expl/ADDMORE\",\r\n        more\r\n    }\r\n\r\n}\r\n\r\n/** & addMore */\r\nexport const setMore = more => {\r\n    more = more.filter(w => typeof w === 'string')\r\n    more = more.map(w => w.toLowerCase())\r\n    return {\r\n        type: \"exp/SETMORE\",\r\n        more\r\n    }\r\n}\r\n\r\nexport const setSetting = setting => ({\r\n    type: \"expl/SETSETTING\",\r\n    setting\r\n})\r\n\r\nexport const setMoreFold = isUnfold => ({\r\n    type: \"expl/SETMOREFOLD\",\r\n    isUnfold\r\n})\r\n\r\n\r\nexport const tapWord = (event) => {\r\n\r\n    let target = window.getSelection().anchorNode;\r\n    console.log('action tapWord: ', event, target);\r\n\r\n    if (!target) return setShow(false);\r\n    if (target.parentNode !== event.target) return setShow(false);\r\n    if (!target.wholeText) return setShow(false);\r\n\r\n    let offset = window.getSelection().anchorOffset;\r\n    let clickedChar = target.wholeText.slice(offset, offset + 1);\r\n    if (/\\W/.test(clickedChar)) return setShow(false);\r\n\r\n    let part = extractPart(target, offset, 'word');\r\n    let word = part[0].texts.join('') + part[1].texts.join('');\r\n    if (!word) return setShow(false);\r\n\r\n    // console.log('tapWord action', word, target.wholeText)\r\n\r\n    let position = { x: event.pageX, y: event.pageY, clientY: event.clientY };\r\n\r\n    return dispatch => {\r\n        dispatch(setWord(word, position))\r\n        dispatch(loadWordData(word))\r\n        dispatch(setShow(true))\r\n        /** 驼峰写法拆分 */\r\n        let more = word.match(/([A-Z]?[a-z]+)|([A-Z]{3,})/g)\r\n        if (more)\r\n            dispatch(setMore(more.length > 1 || more[0] !== word ? more : []))\r\n    }\r\n}\r\n\r\n\r\n","import axios from 'axios';\r\nimport { get } from 'lodash'\r\n\r\nimport { extractPart, calcOffset, selectedText } from '../utils/core'\r\n\r\n// \r\nexport const setShow = value => ({\r\n    type: \"translate/SETSHOW\",\r\n    value\r\n})\r\n\r\n// \r\nexport const setOriginal = original => ({\r\n    type: \"translate/SETORIGINAL\",\r\n    original\r\n})\r\n\r\n// \r\nexport const setStatus = status => ({\r\n    type: \"translate/SETSTATUS\",\r\n    status\r\n})\r\n\r\n// translation = { text:'', elements:[] }\r\nexport const setTranslation = translation => ({\r\n    type: \"translate/SETTRANSLATION\",\r\n    translation\r\n})\r\n\r\nconst nullAction = () => ({\r\n    type: \"\",\r\n})\r\n\r\nexport const slideTranslate = (target, x, y) => {\r\n    let url = \"https://1773134661611650.cn-shanghai.fc.aliyuncs.com/2016-08-15/proxy/wrp/wrp_server/alimt\";\r\n\r\n    let [textTarget, offset] = calcOffset(target, x, y);\r\n\r\n    let part = extractPart(textTarget, offset, 'sentence');\r\n    let sentence = part[0].texts.join('') + part[1].texts.join('');\r\n    sentence = sentence.trim();\r\n\r\n    if (sentence.length < 3) return nullAction();\r\n\r\n    let original = {\r\n        text: sentence,\r\n        elements: [...part[0].elements, ...part[1].elements]\r\n    }\r\n\r\n    selectedText(\r\n        { target: part[0].startTarget, offset: part[0].startOffset },\r\n        { target: part[1].endTarget, offset: part[1].endOffset }\r\n    );\r\n\r\n    return dispatch => {\r\n        dispatch(setShow('half'))\r\n        dispatch(setStatus('loading'))\r\n        dispatch(setOriginal(original))\r\n        let formData = new URLSearchParams()\r\n        formData.append('text', sentence)\r\n        return new Promise(async resolve => {\r\n            try {\r\n                let res = await axios({\r\n                    url: url,\r\n                    method: \"POST\",\r\n                    data: formData\r\n                })\r\n                if (res.status === 200) {\r\n                    console.log('slipTranslate', res)\r\n                    dispatch(setTranslation({\r\n                        text: res.data.Data.Translated,\r\n                        elements: res.data.Data.Translated\r\n                    }))\r\n                    dispatch(setStatus('completed'))\r\n                } else {\r\n                    throw new Error('request status != 200')\r\n                }\r\n            } catch (e) {\r\n                console.log('slip translate error', e)\r\n\r\n            }\r\n            resolve()\r\n        })\r\n    }\r\n}","\r\n// style: React style object\r\nexport const setMenuStyle = (style) => ({\r\n    type: \"readPanel/SETMENUSTYLE\",\r\n    style\r\n})\r\n\r\n// target: Node\r\nexport const setTarget = (target) => ({\r\n    type: \"readPanel/SETTARGET\",\r\n    target\r\n})\r\n\r\n\r\nexport const updateShow = (show) => ({\r\n    type: \"readPanel/SETSHOW\",\r\n    show\r\n})\r\n\r\nexport const showMenu = (target, x, y) => {\r\n    let vw = window.screen.availWidth;\r\n    let vh = window.screen.availHeight;\r\n    let mw = 60;\r\n    let mh = 200;\r\n    let margin = 8;\r\n\r\n    if (x + mw > vw) x = vw - mw - margin;\r\n    if (y + mh > vh) y = vh - mh - margin;\r\n\r\n    const style = {\r\n        top: y,\r\n        left: x,\r\n        opacity: 1,\r\n        pointerEvents: 'all',\r\n    }\r\n\r\n    return dispatch =>{\r\n        dispatch(setMenuStyle(style));\r\n        dispatch(setTarget(target));\r\n        dispatch(updateShow(true));\r\n    }\r\n}\r\n\r\nexport const hiddenMenu = () => {\r\n    return dispatch => {\r\n        dispatch(setMenuStyle({}))\r\n        updateShow(false);\r\n    }\r\n}","import React, { useState } from 'react';\r\n\r\n\r\nimport './switch.scss';\r\n\r\nfunction Switch(props) {\r\n    const [status, setStatus] = useState(props.defaultValue);\r\n\r\n    const onClick = () => {\r\n        if (typeof props.onChange === 'function')\r\n            props.onChange(!status)\r\n        setStatus(!status);\r\n    }\r\n    return (\r\n        <div\r\n            className={`wrp-switch ${status ? 'wrp-switch-on' : 'wrp-switch-off'}`}\r\n            onClick={onClick}\r\n        >\r\n            <div></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Switch;","import React from 'react'\r\n\r\nimport Switch from './switch.js';\r\n\r\nimport './explanation.scss';\r\n\r\nimport arrow_icon from \"./res/explainBoxArrow.svg\";\r\nimport audio_icon from \"./res/audio.svg\";\r\nimport star_icon from \"./res/star.svg\";\r\nimport menu_icon from \"./res/more.svg\";\r\nimport open_icon from './res/open.svg';\r\nimport arrowShadow_icon from './res/arrowShadow.png'\r\n\r\nconst calcFontSize = (size,maxNumber,text) => {\r\n    /**size:初始字符大小, maxNumber:初始字符大小下可以显示的最大字符, text：当前字符 */\r\n    if(!text) return size;\r\n    if(text.length <= maxNumber) return size;\r\n    return size*maxNumber/text.length;\r\n}\r\n\r\nconst calcPosition = (coordinate, zoom=0) => {\r\n    const ew = 17;                  // em explanation width 宽度\r\n    const eh = 8;                   // em explanation height 高度\r\n    const aw = 2.8;                 // em arrow width 三角箭头宽度\r\n    const ah = 2.8;                 // em arrow height 三角箭头高度\r\n    const topDistance = 12;         // em 顶部距离小于topDistance时,expainPanel显示在单词下方\r\n    const wordDistance = 3;         // em expainPanel距离单词的距离\r\n    const edgeDistance = 1;         // em 最小左右边距\r\n    const arrowOverlapping = 0.1;   // 箭头和框的重叠距离\r\n    const remRatioPx = 14;          // 1 rem = 16 px\r\n\r\n    let position = {};\r\n    let arrowPosition = {};\r\n    if(!coordinate) return { position, arrowPosition }\r\n    if(typeof(zoom) !== 'number') zoom = 0;\r\n    let x = coordinate.x, y= coordinate.y, clientY = coordinate.clientY;\r\n    let vw = window.innerWidth, vh= window.innerHeight;\r\n\r\n    let ratio = remRatioPx + remRatioPx * zoom;\r\n\r\n    //纵向位置 Vertical position\r\n    if(clientY >= topDistance * ratio){\r\n        // expainPanel显示在单词上方\r\n        position.top = `calc(${y}px - ${eh}em - ${wordDistance}em)`;\r\n        // arrowStyle.transform = 'rotate(180deg)'\r\n        arrowPosition.top = `${eh - ah / 2 - arrowOverlapping}em`\r\n    }else{\r\n        // expainPanel显示在单词下方\r\n        position.top = `calc(${y}px + ${wordDistance}em)`;\r\n        arrowPosition.top = `-${ah / 2 - arrowOverlapping}em`;\r\n        // arrowStyle.transform = 'rotate(0deg)';\r\n    }\r\n\r\n    // 横向位置 Horizontal position\r\n    if(x >= vw - (ew / 2 + edgeDistance) * ratio){\r\n        // 单词位置靠右边框\r\n        position.left = `calc(${vw}px - ${ew}em - ${edgeDistance}em)`;\r\n        // 太偏右 调整\r\n        if( (vw - x) < (edgeDistance * ratio + aw / 2 * ratio)) x = vw - (edgeDistance * ratio + aw / 2 * ratio);\r\n        arrowPosition.left = `calc(${x - vw}px + ${ew + edgeDistance - aw / 2}em)`;\r\n    }else if(x <= (ew / 2 + edgeDistance) * ratio){\r\n        // 单词位置靠左边框\r\n        position.left = `${edgeDistance}em`;\r\n        // 太偏左 调整\r\n        if(x < (edgeDistance * ratio + aw / 2 * ratio)) x = edgeDistance * ratio + aw / 2 * ratio;\r\n        arrowPosition.left = `calc(${x}px - ${edgeDistance + aw / 2}em)`;\r\n    }else{\r\n        // 中间\r\n        position.left = `calc(${x}px - ${ew / 2}em)`;\r\n        arrowPosition.left = `${ew / 2 - aw / 2}em`;\r\n    }\r\n\r\n    return {position,arrowPosition};\r\n}\r\n\r\nconst playingWhich = (data, value, auto) => {\r\n    let autoPlay = [false,false,false];\r\n    if(auto === false) return autoPlay;\r\n    // debugger\r\n    switch (value){\r\n        case 'us':\r\n            if(data.audioUS) autoPlay[0] = true; break;\r\n            if(data.audioUK) autoPlay[1] = true; break;\r\n            if(data.audio) autoPlay[2] = true; break; \r\n        case 'uk':\r\n            if(data.audioUK) autoPlay[1] = true; break;\r\n            if(data.audioUS) autoPlay[0] = true; break;\r\n            if(data.audio) autoPlay[2] = true; break;\r\n        case 'tts':\r\n            if(data.audio) autoPlay[2] = true; break;\r\n            if(data.audioUS) autoPlay[0] = true; break;\r\n            if(data.audioUK) autoPlay[1] = true; break;\r\n        default:\r\n            if(data.audioUS) {\r\n                autoPlay[0] = true; \r\n                break;\r\n            }\r\n            if(data.audioUK) {\r\n                autoPlay[1] = true;\r\n                break;\r\n            }\r\n            if(data.audio) {\r\n                autoPlay[2] = true; \r\n                break;\r\n            }\r\n    }\r\n    return autoPlay;\r\n}\r\n\r\nconst answerFormat = answer => {\r\n    // answer = [[\"n.\", \"开关\"],[\"vt.\", \"转变\"]]\r\n    if(!answer) return '';\r\n    return answer.map( value => (<dt><b>{value[0]}</b>{value[1]}</dt>))\r\n}\r\n \r\nconst Explanation = ({ explanation, setSetting, setMoreFold, loadWordData, setZoom }) =>{\r\n\r\n    const Loading = (\r\n        <div className=\"wrp-ep-other-content\">\r\n            <div className=\"wrp-icon\">\r\n                <div className=\"wrp-loading-icon\">\r\n                    <div/> <div/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const nothing = (\r\n        <div className=\"wrp-ep-other-content\">\r\n            <div className=\"wrp-icon\">\r\n                <svg t=\"1600868218467\" viewBox=\"0 0 1024 1024\" width=\"100%\" height=\"100%\"><defs><style type=\"text/css\"></style></defs><path d=\"M861.140992 694.10816c-3.49184-31.456256-17.475584-48.93184-17.475584-52.427776 0-3.49696-6.987776-3.49696-10.484736-3.49696-3.495936 3.49696-3.495936 6.992896-3.495936 13.980672 0 0 10.488832 17.475584 13.980672 45.44 3.495936 34.952192-6.987776 66.407424-31.456256 97.867776-27.96032 31.456256-69.904384 48.93184-129.324032 48.93184-20.97152 0-41.944064-3.495936-55.923712-3.495936 3.495936 0 3.495936-3.495936 6.991872-3.495936 10.483712-6.987776 17.475584-17.475584 20.967424-31.456256 6.992896-13.979648 10.488832-31.455232 10.488832-52.427776 0-48.93184 13.979648-83.888128 41.944064-101.363712 34.951168-27.96032 87.379968-10.483712 87.379968-10.483712h3.495936c-6.992896 13.979648-10.488832 27.959296-17.476608 38.447104-20.97152 34.952192-38.448128 55.924736-38.448128 59.420672-3.495936 3.49184-3.495936 10.483712 0 13.979648 3.495936 3.495936 10.484736 3.495936 13.980672 0 0 0 20.97152-24.467456 41.944064-59.419648 10.483712-20.972544 20.97152-41.944064 27.959296-62.916608 6.991872-24.46336 13.984768-48.93184 13.984768-73.399296 0-3.492864-3.495936-10.484736-10.488832-10.484736-3.495936 0-10.483712 3.495936-10.483712 10.484736 0 27.963392-6.991872 52.431872-13.983744 76.895232l-3.49184-3.495936s-13.984768-3.49184-34.952192-3.49184c-27.964416 0-48.935936 6.987776-66.412544 17.476608-31.455232 20.97152-45.44 59.419648-48.93184 115.34336 0 31.456256-10.487808 55.923712-27.963392 69.904384-10.484736 10.483712-24.46848 13.979648-24.46848 13.979648-3.49184 0-6.987776 3.495936-6.987776 6.991872 0 3.49184 3.495936 6.9888 6.987776 10.484736 0 0 38.448128 10.487808 83.888128 10.487808 27.964416 0 52.427776-3.495936 73.40032-10.487808 27.963392-10.484736 49.874944-26.417152 66.41152-45.436928C838.996992 797.696 851.456 777.728 856.832 756.992c2.866176-11.057152 7.2192-44.544 4.308992-62.88384z m-69.904384-531.279872c0-3.492864-3.495936-10.484736-6.987776-10.484736-3.495936 0-10.487808 3.495936-10.487808 6.991872-10.483712 59.416576-101.359616 171.264-199.227392 227.188736 3.495936-20.968448 0-41.939968-3.49696-55.924736-10.483712-38.444032-38.447104-66.407424-76.895232-73.399296-48.93184-10.484736-87.379968 10.487808-108.352512 48.935936-17.475584 34.952192-13.979648 73.40032 6.987776 97.867776 31.460352 34.952192 76.896256 41.939968 132.819968 24.464384 6.992896-3.495936 17.476608-6.9888 24.46848-10.484736-10.483712 31.456256-31.456256 66.408448-66.408448 94.372864-115.34336 97.867776-269.135872 118.8352-314.575872 118.8352-3.49184 0-10.483712 3.495936-10.483712 10.488832 0 6.987776 3.495936 10.483712 10.483712 10.483712 48.935936 0 206.220288-20.972544 325.060608-125.828096 45.44-38.448128 66.41152-80.392192 76.895232-118.84032 104.856576-52.427776 209.716224-174.759936 220.199936-244.667392zM553.561088 397.011968c-10.487808 6.991872-24.46848 10.483712-34.952192 13.979648-48.935936 13.980672-87.384064 6.991872-115.34336-20.97152-17.476608-17.476608-17.476608-48.93184-3.495936-76.896256 13.979648-27.96032 41.94304-41.939968 69.90336-41.939968h17.476608c31.459328 6.987776 52.431872 27.96032 62.915584 59.415552 6.991872 20.972544 6.991872 41.944064 3.495936 66.412544z m0 0\" fill=\"#999999\" p-id=\"28413\"></path></svg>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    const renderMore = (moreList, unfold) => {\r\n        let list = [];\r\n        if ( ! Array.isArray(moreList) ) return list;\r\n        if ( unfold ) {\r\n            // 展开状态\r\n            list = moreList.map( word => {\r\n                return (<span onClick={()=>loadWordData(word)}>{word}</span>)\r\n            });\r\n            list.push(\r\n                <span \r\n                    className=\"unfold-button\"\r\n                    onClick={()=>setMoreFold()}            \r\n                >{`<`}</span>\r\n            );\r\n        } else {\r\n            // 折叠状态\r\n            if (moreList.length >=1 ){\r\n                list.push(<span onClick={()=>loadWordData(moreList[0])}>{moreList[0]}</span>)\r\n            }\r\n            if(moreList.length > 1){\r\n                list.push(\r\n                    <span \r\n                        className=\"unfold-button\"\r\n                        onClick={()=>setMoreFold()}            \r\n                    >{`<`}</span>\r\n                )\r\n            }\r\n        }\r\n        return list;\r\n    }\r\n\r\n    let { position, arrowPosition } = calcPosition(explanation.coordinate, explanation.zoom)\r\n    let data = explanation.data || {}\r\n    let setting = explanation.setting || {}\r\n    let autoPlay = playingWhich(data, setting.playWhich, setting.autoPlay)\r\n    let more = explanation.more || [];\r\n    let zoom = {fontSize:`${14  + explanation.zoom}px`}\r\n    \r\n    return (\r\n        <div\r\n            id=\"wrp-ep\"\r\n            className={`explain-panel ${explanation.show ? '' : 'explain-hidden'}`} \r\n            style={{...position, ...zoom }}\r\n            data-wrp-action-block=\"tapword\"\r\n        >\r\n            <div \r\n                className=\"wrp-ep-arrow-container\" \r\n                style={ arrowPosition }\r\n            >\r\n                <div className=\"wrp-ep-arrow\"></div>\r\n            </div>\r\n            <div className=\"wrp-explain-content\">\r\n                <div className=\"wrp-ep-title\">\r\n                    <div className=\"wrp-title-left\">\r\n                        <h3 className=\"wrp-title-word\" \r\n                            style={ {fontSize: `${calcFontSize(1.2, 11, data.word || explanation.word)}em`} }>\r\n                            { data.word || explanation.word }\r\n                        </h3>\r\n                        {\r\n                            data.audioUS ? (\r\n                            <div className=\"title-tts\"  onClick={()=>document.getElementById(\"a-us\").play()}>\r\n                                <div className=\"\" >US</div>\r\n                                <svg \r\n                                    className=\"title-audio\"\r\n                                    // style={autoPlay[0]?playingStyle:{}}\r\n                                    fill=\"var(--t-fore-c)\"\r\n                                    viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M541.2 132.3c-7.2-3.3-15.2-5-23.3-5-13.9 0-26.8 5.1-36.5 14.4L280.6 312.4h-158c-11.5 0-23.9 3.9-33.6 10.4h-4l-8.7 9.2c-7.5 7.9-12.2 20.8-12.2 33.8v290.7c0 15 6.7 31.4 16.9 41.6 10.2 10.3 26.6 16.9 41.6 16.9h158.2l200.7 165.6c8.4 7.9 23.3 16 35.6 16 5.6 0 16.5 0 27.1-8 10-4.2 17.8-10.4 23.1-18.6 5.7-8.6 8.4-19.1 8.4-32V184c0-12.9-2.8-23.4-8.4-32-5.8-9-14.6-15.6-26.1-19.7z m-24.8 57.4v642.9L310.2 662.5l-8.2-6.8v0.1H123.3V371.7h179l214.1-182zM899.3 300c-20.9-32.7-46.5-61.1-75.9-84.2l-0.1-0.1c-1.3-1.1-2.2-1.8-2.9-2.4-4.5-2.8-9.6-4.3-15.1-4.3-10.3 0-21.6 5.3-31.1 14.5l-0.1 0.1c-8.4 13.5-3.9 35.9 9 45.2l0.1 0.1c6.1 2.5 14.7 9.7 20.8 15.4 9.4 8.7 23.6 23.7 38.1 45.6 24.3 36.8 53.3 99.7 53.3 190.8 0 91-27.4 153.9-50.3 190.6-13.7 22-27.2 36.9-36.1 45.6-8.6 8.3-15.3 13.5-20.1 15.5l-0.1 0.1c-13.9 9.8-17.2 28.6-8.1 46.7 3.8 7.7 17.2 12.9 27.3 12.9 3.8 0 13.9 0 17.4-3.5 0.7-0.7 1.5-1.4 3.3-2.8 28.1-22.9 52.6-51 72.7-83.8 38.8-63.2 58.5-137.6 58.5-221.4 0-83.4-20.4-157.6-60.6-220.6z\" p-id=\"778\"></path><path d=\"M752.7 376.7c-23.8-27.4-48.4-40.2-53.7-42.1h-1.6l-1.9-1.3c-3.2-2.2-7.4-3.3-12-3.3-11.9 0-24.9 7.6-27.8 16.4l-0.3 1-0.6 0.9c-3.8 5.8-4.3 14.2-1.4 22.7 2.9 8.4 8.6 15.1 14.6 17.1l0.6 0.2 0.6 0.3c0.7 0.4 17.2 9.5 33.6 29.7 15.1 18.5 33.1 50.3 33.1 96.7 0 96.6-54.4 128.5-60.7 131.9-13.8 9.4-23 27.9-14.6 40.4l0.3 0.4 0.2 0.5c4.3 8.7 18.9 18.6 27.3 18.6 5.5 0 8.4-0.1 11.7-3.8l2.2-2.2H704.7c6.2-2.3 28.7-15.6 50.6-44.2 20.6-26.9 45.1-74.4 45.1-147.4 0-64.2-25.9-107.5-47.7-132.5z\" p-id=\"779\"></path></svg>\r\n                                <audio id=\"a-us\" key={data.audioUS} src={data.audioUS} autoPlay={autoPlay[0]} ></audio>\r\n                            </div>)\r\n                            :\r\n                            ''\r\n                        }\r\n                        {\r\n                            data.audioUK ? (\r\n                            <div className=\"title-tts\" onClick={()=>document.getElementById(\"a-uk\").play()}>\r\n                                <div className=\"\" >UK</div>\r\n                                <svg\r\n                                    className=\"title-audio\" \r\n                                    // style={autoPlay[1]?playingStyle:{}}\r\n                                    fill=\"var(--t-fore-c)\"\r\n                                    viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M541.2 132.3c-7.2-3.3-15.2-5-23.3-5-13.9 0-26.8 5.1-36.5 14.4L280.6 312.4h-158c-11.5 0-23.9 3.9-33.6 10.4h-4l-8.7 9.2c-7.5 7.9-12.2 20.8-12.2 33.8v290.7c0 15 6.7 31.4 16.9 41.6 10.2 10.3 26.6 16.9 41.6 16.9h158.2l200.7 165.6c8.4 7.9 23.3 16 35.6 16 5.6 0 16.5 0 27.1-8 10-4.2 17.8-10.4 23.1-18.6 5.7-8.6 8.4-19.1 8.4-32V184c0-12.9-2.8-23.4-8.4-32-5.8-9-14.6-15.6-26.1-19.7z m-24.8 57.4v642.9L310.2 662.5l-8.2-6.8v0.1H123.3V371.7h179l214.1-182zM899.3 300c-20.9-32.7-46.5-61.1-75.9-84.2l-0.1-0.1c-1.3-1.1-2.2-1.8-2.9-2.4-4.5-2.8-9.6-4.3-15.1-4.3-10.3 0-21.6 5.3-31.1 14.5l-0.1 0.1c-8.4 13.5-3.9 35.9 9 45.2l0.1 0.1c6.1 2.5 14.7 9.7 20.8 15.4 9.4 8.7 23.6 23.7 38.1 45.6 24.3 36.8 53.3 99.7 53.3 190.8 0 91-27.4 153.9-50.3 190.6-13.7 22-27.2 36.9-36.1 45.6-8.6 8.3-15.3 13.5-20.1 15.5l-0.1 0.1c-13.9 9.8-17.2 28.6-8.1 46.7 3.8 7.7 17.2 12.9 27.3 12.9 3.8 0 13.9 0 17.4-3.5 0.7-0.7 1.5-1.4 3.3-2.8 28.1-22.9 52.6-51 72.7-83.8 38.8-63.2 58.5-137.6 58.5-221.4 0-83.4-20.4-157.6-60.6-220.6z\" p-id=\"778\"></path><path d=\"M752.7 376.7c-23.8-27.4-48.4-40.2-53.7-42.1h-1.6l-1.9-1.3c-3.2-2.2-7.4-3.3-12-3.3-11.9 0-24.9 7.6-27.8 16.4l-0.3 1-0.6 0.9c-3.8 5.8-4.3 14.2-1.4 22.7 2.9 8.4 8.6 15.1 14.6 17.1l0.6 0.2 0.6 0.3c0.7 0.4 17.2 9.5 33.6 29.7 15.1 18.5 33.1 50.3 33.1 96.7 0 96.6-54.4 128.5-60.7 131.9-13.8 9.4-23 27.9-14.6 40.4l0.3 0.4 0.2 0.5c4.3 8.7 18.9 18.6 27.3 18.6 5.5 0 8.4-0.1 11.7-3.8l2.2-2.2H704.7c6.2-2.3 28.7-15.6 50.6-44.2 20.6-26.9 45.1-74.4 45.1-147.4 0-64.2-25.9-107.5-47.7-132.5z\" p-id=\"779\"></path></svg>\r\n                                <audio id=\"a-uk\" key={data.audioUK} src={data.audioUK} autoPlay={autoPlay[1]} ></audio>\r\n                            </div>)\r\n                            :\r\n                            \"\"\r\n                        }\r\n                        {\r\n                            (!data.audioUK || !data.audioUS && data.audio) ? (\r\n                            <div className=\"title-tts\"  onClick={()=>document.getElementById(\"a-tts\").play()}>\r\n                                <svg\r\n                                    className=\"title-audio\" \r\n                                    // style={autoPlay[2]?playingStyle:{}}\r\n                                    fill=\"var(--t-fore-c)\" \r\n                                    viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M541.2 132.3c-7.2-3.3-15.2-5-23.3-5-13.9 0-26.8 5.1-36.5 14.4L280.6 312.4h-158c-11.5 0-23.9 3.9-33.6 10.4h-4l-8.7 9.2c-7.5 7.9-12.2 20.8-12.2 33.8v290.7c0 15 6.7 31.4 16.9 41.6 10.2 10.3 26.6 16.9 41.6 16.9h158.2l200.7 165.6c8.4 7.9 23.3 16 35.6 16 5.6 0 16.5 0 27.1-8 10-4.2 17.8-10.4 23.1-18.6 5.7-8.6 8.4-19.1 8.4-32V184c0-12.9-2.8-23.4-8.4-32-5.8-9-14.6-15.6-26.1-19.7z m-24.8 57.4v642.9L310.2 662.5l-8.2-6.8v0.1H123.3V371.7h179l214.1-182zM899.3 300c-20.9-32.7-46.5-61.1-75.9-84.2l-0.1-0.1c-1.3-1.1-2.2-1.8-2.9-2.4-4.5-2.8-9.6-4.3-15.1-4.3-10.3 0-21.6 5.3-31.1 14.5l-0.1 0.1c-8.4 13.5-3.9 35.9 9 45.2l0.1 0.1c6.1 2.5 14.7 9.7 20.8 15.4 9.4 8.7 23.6 23.7 38.1 45.6 24.3 36.8 53.3 99.7 53.3 190.8 0 91-27.4 153.9-50.3 190.6-13.7 22-27.2 36.9-36.1 45.6-8.6 8.3-15.3 13.5-20.1 15.5l-0.1 0.1c-13.9 9.8-17.2 28.6-8.1 46.7 3.8 7.7 17.2 12.9 27.3 12.9 3.8 0 13.9 0 17.4-3.5 0.7-0.7 1.5-1.4 3.3-2.8 28.1-22.9 52.6-51 72.7-83.8 38.8-63.2 58.5-137.6 58.5-221.4 0-83.4-20.4-157.6-60.6-220.6z\" p-id=\"778\"></path><path d=\"M752.7 376.7c-23.8-27.4-48.4-40.2-53.7-42.1h-1.6l-1.9-1.3c-3.2-2.2-7.4-3.3-12-3.3-11.9 0-24.9 7.6-27.8 16.4l-0.3 1-0.6 0.9c-3.8 5.8-4.3 14.2-1.4 22.7 2.9 8.4 8.6 15.1 14.6 17.1l0.6 0.2 0.6 0.3c0.7 0.4 17.2 9.5 33.6 29.7 15.1 18.5 33.1 50.3 33.1 96.7 0 96.6-54.4 128.5-60.7 131.9-13.8 9.4-23 27.9-14.6 40.4l0.3 0.4 0.2 0.5c4.3 8.7 18.9 18.6 27.3 18.6 5.5 0 8.4-0.1 11.7-3.8l2.2-2.2H704.7c6.2-2.3 28.7-15.6 50.6-44.2 20.6-26.9 45.1-74.4 45.1-147.4 0-64.2-25.9-107.5-47.7-132.5z\" p-id=\"779\"></path></svg>\r\n                                <audio id=\"a-tts\" key={data.audio} src={data.audio} autoPlay={autoPlay[2]}></audio>\r\n                            </div>\r\n                            )\r\n                            :\r\n                            \"\"\r\n                        }\r\n                        \r\n                    </div>\r\n                    <div>\r\n                        <svg \r\n                            className=\"wrp-title-button\" \r\n                            style={{display:'none'}} \r\n                            fill=\"var(--t-fore-c)\" \r\n                            viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\" ><defs><style type=\"text/css\"></style></defs><path d=\"M1009.562 454.103c-72.264 88.023-200.049 233.339-200.049 233.339s20.9 159.55 32.614 268.534c5.09 55.51-34.928 79.513-80.25 57.876-86.242-43.325-217.478-110.448-247-125.573-30.044 14.97-162.6 80.988-249.733 124.211-45.844 21.586-86.343-2.416-81.193-57.825 11.869-108.82 32.983-268.216 32.983-268.216S87.685 541.44 14.582 453.529c-25.836-31.928-9.247-77.311 41.697-85.657 103.885-19.64 264.909-50.944 264.909-50.944s88.074-162.335 143.8-261.755C495.657-5.325 516.874 1.66 520.5 3.441c9.452 3.256 24.371 15.022 43.848 51.783 55.091 99.574 142.172 262.124 142.172 262.124s159.13 31.304 261.806 50.995c50.33 8.397 66.765 53.832 41.237 85.76z\"  p-id=\"3336\"></path></svg>\r\n                        <svg \r\n                            className={`wrp-title-button ${ setting.show ? \"expl-menu-show\" : \"expl-menu-hidden\" }`} \r\n                            onClick={()=>{ setSetting({show:!setting.show})}} \r\n                            fill=\"var(--t-fore-c)\" \r\n                            viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M415.93 223.79c0-52.98 43.004-95.984 95.984-95.984s95.984 43.004 95.984 95.984-43.004 95.984-95.984 95.984-95.984-43.003-95.984-95.984zM415.93 511.742c0-52.98 43.004-95.984 95.984-95.984s95.984 43.004 95.984 95.984-43.004 95.984-95.984 95.984-95.984-43.004-95.984-95.984zM415.93 799.866c0-52.98 43.004-95.984 95.984-95.984s95.984 43.003 95.984 95.984-43.004 95.983-95.984 95.983-95.984-43.175-95.984-95.983z\" p-id=\"4126\"></path></svg>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"wrp-ep-content\">\r\n                    <dl style={explanation.menuBgStyle}>\r\n                        { explanation.status === 'completed' ? answerFormat(data.answer) : Loading }\r\n                        {(explanation.status === 'completed' && !data.answer) ? nothing : ''}\r\n                    </dl>\r\n                    <div className={`more-word-contanier ${explanation.unfoldMore ? 'more-unfold' : ''}`}>\r\n                        { renderMore(more, explanation.unfoldMore) }\r\n                    </div>\r\n                    {/* MENU 更多 菜单 */}\r\n                    <div className={`wrp-ep-menu ${ setting.show ? \"wrp-expl-menu-show\" : \"\"}`} >\r\n                        <div>\r\n                            <span>Auto Speech</span>\r\n                            <Switch\r\n                                defaultValue={setting.autoPlay !== false} \r\n                                onChange={(status)=> setSetting({autoPlay: status})}\r\n                            ></Switch>\r\n                        </div>\r\n                        <div>\r\n                            <span>Speech US</span>\r\n                            <Switch\r\n                                defaultValue={setting.playWhich ? setting.playWhich === 'us': true} \r\n                                onChange={(status)=> setSetting({playWhich: status ? 'us' : 'uk'})}\r\n                            ></Switch>\r\n                        </div>  \r\n                        <svg className=\"menu-button\" onClick={()=>setZoom(1)} fill=\"var(--t-fore-c)\" viewBox=\"0 0 1024 1024\" version=\"1.1\" p-id=\"2685\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M592 400l-128 0 0-128c0-19.2-12.8-32-32-32s-32 12.8-32 32l0 128-128 0c-19.2 0-32 12.8-32 32s12.8 32 32 32l128 0 0 128c0 19.2 12.8 32 32 32s32-12.8 32-32l0-128 128 0c19.2 0 32-12.8 32-32S611.2 400 592 400z\" p-id=\"2686\"></path><path d=\"M950.4 905.6l-236.8-236.8c54.4-64 86.4-147.2 86.4-236.8C800 227.2 636.8 64 432 64 227.2 64 64 227.2 64 432 64 636.8 227.2 800 432 800c89.6 0 172.8-32 236.8-86.4l236.8 236.8c6.4 6.4 16 9.6 22.4 9.6s16-3.2 22.4-9.6C963.2 937.6 963.2 918.4 950.4 905.6zM432 736C265.6 736 128 598.4 128 432 128 265.6 265.6 128 432 128c166.4 0 304 137.6 304 304C736 598.4 598.4 736 432 736z\" p-id=\"2687\"></path></svg>\r\n                        <svg className=\"menu-button\" onClick={()=>setZoom(-1)} fill=\"var(--t-fore-c)\" viewBox=\"0 0 1024 1024\" version=\"1.1\" p-id=\"2556\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M592 400l-320 0c-19.2 0-32 12.8-32 32s12.8 32 32 32l320 0c19.2 0 32-12.8 32-32S611.2 400 592 400z\" p-id=\"2557\"></path><path d=\"M950.4 905.6l-236.8-236.8c54.4-64 86.4-147.2 86.4-236.8C800 227.2 636.8 64 432 64 227.2 64 64 227.2 64 432 64 636.8 227.2 800 432 800c89.6 0 172.8-32 236.8-86.4l236.8 236.8c6.4 6.4 16 9.6 22.4 9.6s16-3.2 22.4-9.6C963.2 937.6 963.2 918.4 950.4 905.6zM432 736C265.6 736 128 598.4 128 432 128 265.6 265.6 128 432 128c166.4 0 304 137.6 304 304C736 598.4 598.4 736 432 736z\" p-id=\"2558\"></path></svg>\r\n                    </div>\r\n                </div>  \r\n            </div>\r\n                        \r\n        </div>\r\n    )\r\n}\r\n\r\n export default Explanation","import { connect } from 'react-redux'\r\n\r\nimport * as explActions from '../actions/explanation'\r\nimport Explanation from '../components/explanation'\r\n\r\nconst mapStateToProps = state => ({\r\n    explanation: state.explanation\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setSetting: setting => {\r\n        dispatch(explActions.setSetting(setting))\r\n    },\r\n    setMoreFold: isUnfold => {\r\n        dispatch(explActions.setMoreFold(isUnfold))\r\n    },\r\n    loadWordData: (word) =>{\r\n        dispatch(explActions.loadWordData(word))\r\n    },\r\n    setZoom: zoom => {\r\n        dispatch(explActions.setZoom(zoom))\r\n    }\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Explanation)\r\n","import React from 'react';\r\nimport { get } from 'lodash';\r\n\r\nimport './translatePanel.scss';\r\n\r\nconst TranslatePanel = (props) => {\r\n\r\n    const showStyle = {\r\n        hidden: {\r\n            bottom: \"-18rem\",\r\n            height: '16rem',\r\n        },\r\n        half: {\r\n            bottom: 0,\r\n            height: '12rem',\r\n        },\r\n        full: {\r\n            bottom: 0,\r\n            height: '36rem',\r\n            maxHeight: '80%',\r\n        }\r\n    }\r\n\r\n    console.log('props', props)\r\n\r\n    let show = props.show || 'hidden'\r\n    let panelStyle = Object.assign({}, showStyle[show]);\r\n\r\n    return (\r\n        <div id=\"tp\" className=\"wrp-translate-panel\" style={panelStyle}\r\n            onTouchStart={(e) => props.onSlipStart(e, props.show)}\r\n            onTouchMove={props.onSlipMove}\r\n            onTouchEnd={props.onSlipEnd}\r\n            onMouseMove={props.onSlipMove}\r\n            onMouseDown={(e) => props.onSlipStart(e, props.show)}\r\n            onMouseUp={props.onSlipEnd}\r\n            onMouseLeave={props.onSlipEnd}\r\n            onContextMenu={(e) => { e.preventDefault(); return false; }}\r\n            onClick={props.handleClick}\r\n        >\r\n            <div className=\"wrp-tp-handle\"\r\n                onTouchMove={props.handleDrag}\r\n                onClick={props.setTranslateY}\r\n            >\r\n                <div ref={props.handleEl} />\r\n            </div>\r\n\r\n            <div className=\"\">{props.original.elements}</div>\r\n            <br />\r\n            <div className=\"\">\r\n                {(props.status == \"completed\") ? props.translation.text : ''}\r\n            </div>\r\n            <div class=\"wrp-tr-scall-mask\">\r\n                <div></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TranslatePanel","\r\n\r\n/**\r\n * 记录TouchMove 的 dx, dy偏移值和 duration 持续时间, \r\n * 并在恰当时机触发回调\r\n * 不阻止默认事件 passive: false\r\n */\r\nclass Touch {\r\n    constructor(options) {\r\n        this.start = this.start.bind(this);\r\n        this.move = this.move.bind(this);\r\n        this.end = this.end.bind(this);\r\n        if (!options) return;\r\n        if (options.onEnd) this.setOnEnd(options.onEnd);\r\n        if (options.onMoving) this.setOnMoving(options.onMoving);\r\n        if (options.onStart) this.setOnStart(options.onStart);\r\n    }\r\n\r\n    clear() {\r\n        this.target = null;\r\n        this.sumX = 0;\r\n        this.sumY = 0;\r\n        this.startX = 0;\r\n        this.startY = 0;\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.startTime = 0;\r\n        this.duration = 0;\r\n    }\r\n\r\n    getCoordinate(e) {\r\n        return {\r\n            pageX: e.touches[0].pageX,\r\n            pageY: e.touches[0].pageY,\r\n            clientX: e.touches[0].clientX,\r\n            clientY: e.touches[0].clientY,\r\n        }\r\n    }\r\n\r\n    start(e, data) {\r\n        this.clear();\r\n\r\n        this.startTime = Date.now();\r\n        this.x = this.getCoordinate(e).pageX\r\n        this.y = this.getCoordinate(e).clientY;\r\n\r\n        this.startX = this.getCoordinate(e).clientX;\r\n        this.startY = this.getCoordinate(e).clientY;\r\n\r\n        this.target = e.target;\r\n\r\n        if (this.onStart)\r\n            this.onStart.call(null, this, e);\r\n        if (data)\r\n            this.data = data;\r\n    }\r\n\r\n    move(e) {\r\n        this.sumX = this.sumX + this.getCoordinate(e).pageX - this.x\r\n        this.sumY = this.sumY + this.getCoordinate(e).clientY - this.y\r\n\r\n        this.x = this.getCoordinate(e).pageX;\r\n        this.y = this.getCoordinate(e).clientY;\r\n\r\n        if (this.onMoving)\r\n            this.onMoving.call(null, this, e);\r\n    }\r\n\r\n    end(e) {\r\n        this.duration = Date.now() - this.startTime;\r\n        if (this.onEnd)\r\n            return this.onEnd.call(null, this, e);\r\n    }\r\n\r\n    setOnEnd(callback) {\r\n        if (typeof callback === 'function')\r\n            this.onEnd = callback;\r\n    }\r\n\r\n    setOnMoving(callback) {\r\n        if (typeof callback === 'function')\r\n            this.onMoving = callback;\r\n    }\r\n\r\n    setOnStart(callback) {\r\n        if (typeof callback === 'function')\r\n            this.onStart = callback;\r\n    }\r\n}\r\n\r\nexport default Touch;\r\n\r\n/**\r\n * 同一位置连续点击多次\r\n */\r\nexport class Tap {\r\n    constructor(options) {\r\n        this.tapList = [];\r\n        this.count = 0;\r\n\r\n        this.effectiveInterval = options.interval || 350;\r\n        this.effectiveOffset = options.offset || 20;\r\n        this.effectiveCount = options.count || 3;\r\n        if (typeof options.callback === 'function') {\r\n            this.callback = options.callback\r\n        } else {\r\n            this.callback = (() => { })\r\n        }\r\n\r\n    }\r\n\r\n    tap(e) {\r\n        this.tapList.unshift(\r\n            {\r\n                x: e.clientX,\r\n                y: e.clientY,\r\n                timeStamp: e.timeStamp,\r\n            }\r\n        )\r\n        this.tapList = this.tapList.slice(0, 3);\r\n\r\n        this.repeatedDetect()\r\n    }\r\n\r\n    repeatedDetect() {\r\n        if (this.tapList.length < 2) return;\r\n        if ((this.tapList[0].timeStamp - this.tapList[1].timeStamp) > this.effectiveInterval) {\r\n            return this.count = 0;\r\n        }\r\n\r\n        if (\r\n            Math.abs(this.tapList[0].x - this.tapList[1].x) <= this.effectiveOffset &&\r\n            Math.abs(this.tapList[0].y - this.tapList[1].y) <= this.effectiveOffset\r\n        ) {\r\n            this.count = this.count + 1;\r\n\r\n            if (this.count === this.effectiveCount - 1) {\r\n                return this.callback.call(null, this.count);\r\n            }\r\n        } else {\r\n            return this.count = 0;\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport class MouseMove extends Touch {\r\n    constructor(options) {\r\n        super(options)\r\n        this.button = options.button\r\n        this.moving = false\r\n    }\r\n\r\n    getCoordinate(e) {\r\n        return {\r\n            pageX: e.pageX,\r\n            pageY: e.pageY,\r\n            clientX: e.clientX,\r\n            clientY: e.clientY,\r\n        }\r\n    }\r\n\r\n    start(e, data) {\r\n        if (this.button.includes(e.button)) {\r\n            super.start(e, data)\r\n            this.moving = true\r\n        }\r\n\r\n    }\r\n\r\n    move(e) {\r\n        if (this.moving) {\r\n            super.move(e)\r\n        }\r\n    }\r\n\r\n    end(e) {\r\n        this.moving = false\r\n        if (this.button.includes(e.button)) {\r\n            return super.end(e)\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport class TouchOrMouse extends MouseMove {\r\n    getCoordinate(e) {\r\n        if (e.touches) {\r\n            return {\r\n                pageX: e.touches[0].pageX,\r\n                pageY: e.touches[0].pageY,\r\n                clientX: e.touches[0].clientX,\r\n                clientY: e.touches[0].clientY,\r\n            }\r\n        }\r\n        return {\r\n            pageX: e.pageX,\r\n            pageY: e.pageY,\r\n            clientX: e.clientX,\r\n            clientY: e.clientY,\r\n        }\r\n    }\r\n\r\n}","import React, { useState, useEffect, useMemo, useRef } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { get } from 'lodash'\r\n\r\nimport * as explActions from '../actions/explanation';\r\nimport * as translateActions from '../actions/translate';\r\n\r\nimport TranslatePanel from '../components/translatePanel';\r\n\r\nimport Touch, { TouchOrMouse } from '../utils/touch';\r\n\r\nimport '../components/translatePanel.scss';\r\n\r\nfunction ManageTranslatePanel(props) {\r\n\r\n    const handleEl = useRef(null);\r\n\r\n    const slipTouch = useMemo(() => {\r\n        const showStatusMap = {\r\n            hidden: 0,\r\n            half: 1,\r\n            full: 2,\r\n            0: 'hidden',\r\n            1: 'half',\r\n            2: 'full',\r\n        };\r\n        let sumY = 0;\r\n        let diffThreshold = 24;\r\n        const slipMoving = (touch, e) => {\r\n            // e.preventDefault();\r\n            e.stopPropagation();\r\n\r\n            let showStatus = showStatusMap[touch.data];\r\n            let diff = Math.round(touch.sumY - sumY);\r\n\r\n\r\n            if (showStatus === 2 && diff < 0) {\r\n                // 无效滑动\r\n                // handleEl.current.style.background = `linear-gradient(to right, var(--t-fore-c2) ${Math.abs(diff) - 1}%, var(--t-back-c2) ${Math.abs(diff)}%)`\r\n            } else {\r\n                handleEl.current.style.transform = `translateY(${diff / 2}px)`\r\n                handleEl.current.style.background = `linear-gradient(to right, var(--sc) ${Math.abs(diff / diffThreshold * 100) - 1}%, var(--t-back-c2) ${Math.abs(diff / diffThreshold * 100)}%)`\r\n            }\r\n\r\n            if (Math.abs(diff) < diffThreshold) {\r\n                return;\r\n            }\r\n\r\n            if (diff > diffThreshold) {\r\n                sumY = touch.sumY\r\n                showStatus -= 1;\r\n                console.log('-', showStatus)\r\n            }\r\n\r\n            if (diff < -diffThreshold) {\r\n                sumY = touch.sumY\r\n                showStatus += 1;\r\n                console.log('+', showStatus)\r\n            }\r\n\r\n            if (showStatus < 0) showStatus = 0;\r\n            if (showStatus > 2) showStatus = 2;\r\n\r\n            if (showStatus !== showStatusMap[touch.data]) {\r\n                // 更新showStatus\r\n                props.setShow(showStatusMap[showStatus]);\r\n                touch.data = showStatusMap[showStatus];\r\n            }\r\n        }\r\n\r\n        const slipStart = () => {\r\n\r\n        }\r\n\r\n        const slipEnd = () => {\r\n            if (handleEl.current) {\r\n                // transition: all 0.3s;\r\n                handleEl.current.style.transform = `translateY(0px)`;\r\n                handleEl.current.style.background = `linear-gradient(to right, var(--sc) 0%, var(--t-back-c2) 0%)`\r\n                handleEl.current.style.transition = `all 0.3s`;\r\n                setTimeout(() => {\r\n                    handleEl.current.style.transition = `all 0s`;\r\n                }, 300);\r\n            }\r\n            sumY = 0;\r\n        }\r\n        // return new Touch({ onMoving: slipMoving, onEnd: slipEnd, onStart: slipStart })\r\n        return new TouchOrMouse({ onMoving: slipMoving, onEnd: slipEnd, onStart: slipStart, button: [0, 2] })\r\n\r\n    }, []);\r\n\r\n    return (\r\n        <TranslatePanel\r\n            onSlipStart={slipTouch.start}\r\n            onSlipMove={slipTouch.move}\r\n            onSlipEnd={slipTouch.end}\r\n            handleEl={handleEl}\r\n\r\n            show={props.translate.show}\r\n            original={props.translate.original || {}}\r\n            status={props.translate.status}\r\n            translation={props.translate.translation}\r\n        ></TranslatePanel>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    translate: state.translate\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => ({\r\n    tapWord: event => {\r\n        dispatch(explActions.tapWord(event))\r\n    },\r\n    setShow: value => {\r\n        dispatch(translateActions.setShow(value))\r\n    }\r\n})\r\n\r\n// export default connect(mapStateToProps, mapDispatchToProps)(TranslatePanel);\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ManageTranslatePanel)","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport * as core from '../utils/core'\r\n\r\nimport \"./readPanel.scss\";\r\n\r\nimport Switch from \"./switch.js\";\r\n\r\nimport * as explActions from \"../actions/explanation\";\r\nimport * as translateActions from \"../actions/translate\";\r\nimport * as actions from '../actions/readPanel';\r\n\r\n\r\nfunction ReadPanel(props) {\r\n    const style = {};\r\n\r\n    return (\r\n        <div\r\n            id=\"wrp-read-panel\"\r\n            style={style}\r\n        >\r\n            { props.webApp.elements}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    webApp: state.webApp,\r\n    menuStyle: state.readPanel.menuStyle,\r\n    target: state.readPanel.target,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    setMenuStyle: (style) => {\r\n        dispatch(actions.setMenuStyle(style))\r\n    },\r\n    hiddenMenu: () => {\r\n        dispatch(actions.hiddenMenu())\r\n    }\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ReadPanel);\r\n\r\nfunction Menu(props) {\r\n\r\n    const style = {\r\n        opacity: 0,\r\n        pointerEvents: 'none',\r\n        left: '-5rem',\r\n    }\r\n\r\n    const hidden = () => {\r\n        props.hiddenMenu({})\r\n    }\r\n\r\n    const hiddenTarget = () => {\r\n        if (!props.target) hidden();\r\n        props.target.classList.add('wrp-rp-hidden')\r\n        hidden();\r\n    }\r\n\r\n    const removeTarget = () => {\r\n        if (!props.target) hidden();\r\n        props.target.classList.add('wrp-rp-remove')\r\n        hidden();\r\n    }\r\n\r\n    const showTarget = () => {\r\n        if (!props.target) hidden();\r\n        props.target.classList.remove('wrp-rp-hidden')\r\n        hidden();\r\n    }\r\n\r\n    return (\r\n        <div id=\"wrp-rp-menu\" style={{ ...style, ...props.menuStyle }}>\r\n            <div\r\n                className=\"wrp-nav-item\"\r\n                onClick={hidden}\r\n            >\r\n                <svg\r\n                    className=\"wrp-nav-item-icon\"\r\n                    fill=\"var(--t-fore-c)\"\r\n                    viewBox=\"0 0 1024 1024\"\r\n                    width=\"200\"\r\n                    height=\"200\"\r\n                >\r\n                    <defs>\r\n                        <style type=\"text/css\"></style>\r\n                    </defs>\r\n                    <path\r\n                        d=\"M877.216 491.808M575.328 510.496 946.784 140.672c17.568-17.504 17.664-45.824 0.192-63.424-17.504-17.632-45.792-17.664-63.36-0.192L512.032 446.944 143.712 77.216C126.304 59.712 97.92 59.648 80.384 77.12 62.848 94.624 62.816 123.008 80.288 140.576l368.224 369.632L77.216 879.808c-17.568 17.504-17.664 45.824-0.192 63.424 8.736 8.8 20.256 13.216 31.776 13.216 11.424 0 22.848-4.352 31.584-13.056l371.36-369.696 371.68 373.088C892.192 955.616 903.68 960 915.168 960c11.456 0 22.912-4.384 31.648-13.088 17.504-17.504 17.568-45.824 0.096-63.392L575.328 510.496 575.328 510.496zM575.328 510.496\"\r\n                        p-id=\"10091\"\r\n                    ></path>\r\n                </svg>\r\n                <div className=\"wrp-nav-item-title\"></div>\r\n            </div>\r\n            <div className=\"wrp-nav-item\" onClick={hiddenTarget}>\r\n                <svg\r\n                    className=\"wrp-nav-item-icon\"\r\n                    fill=\"var(--t-fore-c)\"\r\n                    viewBox=\"0 0 1024 1024\"\r\n                    width=\"200\"\r\n                    height=\"200\"\r\n                >\r\n                    <defs>\r\n                        <style type=\"text/css\"></style>\r\n                    </defs>\r\n                    <path\r\n                        d=\"M947.6 477.2c-85-106-175.9-177.5-272.8-214.7l60.1-122.3c8.8-17.8 1.4-39.5-16.4-48.2-17.8-8.8-39.5-1.4-48.2 16.4l-65.6 133.4c-30.4-6.4-61.3-9.6-92.7-9.6-159.3 0-304.5 81.7-435.6 245-8.3 10.2-12.4 22.6-12.4 35s4.1 24.8 12.3 35.1C161.3 653.2 252.2 724.7 349 762l-59.9 121.9c-8.8 17.8-1.4 39.5 16.4 48.2s39.5 1.3 48.2-16.4l65.3-133c30.4 6.4 61.4 9.6 93 9.6 159.3 0 304.5-81.7 435.6-245 16.4-20.5 16.4-49.7 0-70.1z m-799.1 35c112.4-140 232.8-207.8 363.5-207.8 20.1 0 39.9 1.6 59.6 4.8L544.7 364c-10.5-2.3-21.5-3.5-32.7-3.5-83.8 0-151.8 68-151.8 151.8 0 46.7 21.1 88.5 54.4 116.4L381.4 696c-81.5-30.8-159-91.7-232.9-183.8z m443.3 0c0 43.8-35.3 79.4-79 79.8l62.9-127.9c10.1 13.4 16.1 30.1 16.1 48.1z m-159.6 0c0-43.8 35.2-79.2 78.8-79.8l-62.8 127.8c-10.1-13.3-16-29.9-16-48zM512 720c-20.2 0-40.1-1.6-59.7-4.9l26.9-54.7c10.6 2.3 21.6 3.6 32.8 3.6 83.8 0 151.8-68 151.8-151.8 0-46.8-21.2-88.6-54.5-116.5l33.1-67.4C724 359.1 801.5 420 875.5 512.2 763.1 652.2 642.6 720 512 720z\"\r\n                        p-id=\"7888\"\r\n                    ></path>\r\n                </svg>\r\n                <div className=\"wrp-nav-item-title\">隐藏</div>\r\n            </div>\r\n            <div className=\"wrp-nav-item\" onClick={removeTarget}>\r\n                <svg\r\n                    className=\"wrp-nav-item-icon\"\r\n                    fill=\"var(--t-fore-c)\"\r\n                    viewBox=\"0 0 1024 1024\"\r\n                    width=\"200\"\r\n                    height=\"200\"\r\n                >\r\n                    <defs>\r\n                        <style type=\"text/css\"></style>\r\n                    </defs>\r\n                    <path\r\n                        d=\"M668.8 896h-320c-48.64 0-88.32-37.76-92.8-87.68L211.2 403.2c-1.92-17.28 10.88-33.28 28.16-35.2 17.28-1.92 33.28 10.88 35.2 28.16l44.16 405.76c1.28 17.28 14.08 30.08 28.8 30.08h320c14.72 0 27.52-12.8 28.8-29.44l44.16-406.4c1.92-17.28 17.92-30.08 35.2-28.16 17.28 1.92 30.08 17.92 28.16 35.2l-44.16 405.76c-2.56 49.28-42.88 87.04-90.88 87.04zM826.24 321.28H190.72c-17.92 0-32-14.08-32-32s14.08-32 32-32h636.16c17.92 0 32 14.08 32 32s-14.72 32-32.64 32z\"\r\n                        p-id=\"13417\"\r\n                    ></path>\r\n                    <path\r\n                        d=\"M424.96 789.12c-16.64 0-30.72-12.8-32-29.44l-27.52-347.52c-1.28-17.92 11.52-33.28 29.44-34.56 17.92-1.28 33.28 11.52 34.56 29.44l27.52 347.52c1.28 17.92-11.52 33.28-29.44 34.56h-2.56zM580.48 789.12h-2.56c-17.92-1.28-30.72-16.64-29.44-34.56L576 407.04c1.28-17.92 16.64-30.72 34.56-29.44 17.92 1.28 30.72 16.64 29.44 34.56l-27.52 347.52c-1.92 16.64-15.36 29.44-32 29.44zM581.76 244.48c-17.92 0-32-14.08-32-32 0-23.68-19.2-43.52-43.52-43.52s-43.52 19.2-43.52 43.52c0 17.92-14.08 32-32 32s-32-14.08-32-32c0-59.52 48-107.52 107.52-107.52s107.52 48 107.52 107.52c0 17.28-14.08 32-32 32z\"\r\n                        p-id=\"13418\"\r\n                    ></path>\r\n                </svg>\r\n                <div className=\"wrp-nav-item-title\">移除</div>\r\n            </div>\r\n            <div className=\"wrp-nav-item\" onClick={showTarget}>\r\n                <svg\r\n                    className=\"wrp-nav-item-icon\"\r\n                    fill=\"var(--t-fore-c)\"\r\n                    viewBox=\"0 0 1024 1024\"\r\n                    width=\"200\"\r\n                    height=\"200\"\r\n                >\r\n                    <defs>\r\n                        <style type=\"text/css\"></style>\r\n                    </defs>\r\n                    <path\r\n                        d=\"M512.14 819c-136.83 0-253.2-59.32-326.73-109.08C97.84 650.6 35.29 581.25 12.15 538.82a56.53 56.53 0 0 1 0-54.35c23.14-42.44 85.69-111.79 173.26-171 73.53-49.77 189.9-109.09 326.73-109.09 137.53 0 253.1 57.92 325.84 106.51 40.4 27 78.56 58.49 110.35 91.12 28.79 29.53 51.46 59.18 63.84 83.48a57.94 57.94 0 0 1 0 52.4c-12.38 24.3-35 53.95-63.84 83.48-31.79 32.63-70 64.14-110.35 91.13C765.24 761 649.67 819 512.14 819zM67 511.64c10 17.43 28.73 40.66 51.89 64.2a672.78 672.78 0 0 0 100.8 83.41c66.45 45 171.14 98.59 292.48 98.59 122.21 0 226.18-52.32 291.89-96.21 78.53-52.46 133.92-114.07 152.88-150-19-35.92-74.35-97.53-152.88-150-65.71-43.89-169.68-96.21-291.89-96.21-121.34 0-226 53.61-292.48 98.59a672.23 672.23 0 0 0-100.8 83.42C95.7 471 76.93 494.21 67 511.64z\"\r\n                        fill=\"#333333\"\r\n                        p-id=\"8662\"\r\n                    ></path>\r\n                    <path\r\n                        d=\"M511.81 682.86c-94.41 0-171.22-76.81-171.22-171.22s76.81-171.22 171.22-171.22S683 417.23 683 511.64s-76.78 171.22-171.19 171.22z m0-278.44A107.22 107.22 0 1 0 619 511.64a107.34 107.34 0 0 0-107.19-107.22z\"\r\n                        fill=\"#333333\"\r\n                        p-id=\"8663\"\r\n                    ></path>\r\n                </svg>\r\n                <div className=\"wrp-nav-item-title\">显示</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst ToolMenu = connect(mapStateToProps, mapDispatchToProps)(Menu);\r\n\r\nexport {\r\n    ToolMenu,\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport * as actions from './actions/app';\r\nimport * as explActions from './actions/explanation';\r\nimport * as transActions from './actions/translate';\r\nimport * as aActions from './actions/a';\r\nimport * as rpActions from './actions/readPanel';\r\n\r\nimport ReactDOM from 'react-dom';\r\n\r\n// import {\r\n//     Link,\r\n//     withRouter,\r\n// } from 'react-router-dom'\r\n\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport './App.scss';\r\n\r\nimport ManageExplanation from './containers/ManageExplanation';\r\nimport ManageTranslatePanel from './containers/ManageTranslatePanel';\r\nimport A, { AModal } from './components/a';\r\nimport { ToolMenu } from './components/readPanel';\r\n\r\nimport { extractPart, targetActionFilter, linkIntercept, getPath, scrollToTop } from './utils/core';\r\nimport Touch, { Tap, MouseMove } from './utils/touch';\r\n\r\nfunction App(props) {\r\n\r\n    const hiddenSomeone = function (name) {\r\n        let names = name.split(' ');\r\n        names.map((name) => {\r\n            switch (name) {\r\n                case \"explainPanel\":\r\n                    this.props.setExplShow(false);\r\n                    break;\r\n                case \"linkDialog\":\r\n                    this.props.setAShow(false)\r\n                    break;\r\n            }\r\n        })\r\n    }\r\n\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n\r\n        const tapOptions = {\r\n            count: 3,\r\n            callback: () => {\r\n                console.log('连按3次')\r\n                history.push('/wrp-home')\r\n                scrollToTop();\r\n            }\r\n        }\r\n        const tap = new Tap(tapOptions);\r\n        const onClick = function (e) {\r\n            // console.log('window onClick e', e)\r\n            // action filter\r\n            if (targetActionFilter(e.path || getPath(e.target), 'tapword'))\r\n                props.tapWord(e);\r\n\r\n            linkIntercept(e, props.tapA);\r\n            tap.tap(e);\r\n            props.hiddenToolMenu();\r\n        }\r\n\r\n        const touch = new Touch();\r\n        const onTouchStart = function (e) {\r\n            // console.log('window onTouchStart', e)\r\n        }\r\n        touch.setOnStart(onTouchStart)\r\n        const onTouchMove = function (touch, e) {\r\n            // console.log('window onTouchMove', e)\r\n        }\r\n        touch.setOnMoving(onTouchMove)\r\n        const onTouchEnd = function (touch, e) {\r\n            console.log('window onTouchEnd', touch, e)\r\n            if (\r\n                Math.abs(touch.sumX) > 50 &&\r\n                Math.abs(touch.sumY) < 15\r\n            ) {\r\n                console.log('translate', touch)\r\n                props.slideTranslate(touch.target, touch.startX, touch.startY)\r\n            }\r\n\r\n            if (\r\n                touch.duration > 800 &&\r\n                touch.duration < 1200 &&\r\n                Math.abs(touch.sumX) < 8 &&\r\n                Math.abs(touch.sumY) < 5\r\n            ) {\r\n                if (targetActionFilter(e.path, 'toolmenu'))\r\n                    props.showToolMenu(touch.target, touch.startX, touch.startY)\r\n            }\r\n        }\r\n        touch.setOnEnd(onTouchEnd)\r\n\r\n        const mouseMove = new MouseMove({ button: [2] })\r\n        let preventContextMenu = false;\r\n\r\n        mouseMove.setOnEnd((move, e) => {\r\n            if (\r\n                Math.abs(move.sumX) > 50 &&\r\n                Math.abs(move.sumY) < 15\r\n            ) {\r\n                props.slideTranslate(move.target, move.startX, move.startY)\r\n                preventContextMenu = true\r\n            }\r\n\r\n            if (\r\n                touch.duration > 800 &&\r\n                touch.duration < 1200 &&\r\n                Math.abs(touch.sumX) < 8 &&\r\n                Math.abs(touch.sumY) < 5\r\n            ) {\r\n                if (targetActionFilter(e.path, 'toolmenu')) {\r\n                    props.showToolMenu(touch.target, touch.startX, touch.startY)\r\n                    preventContextMenu = true\r\n                }\r\n            }\r\n        })\r\n\r\n        const onContextMenu = (e) => {\r\n            if (preventContextMenu === true) {\r\n                preventContextMenu = false\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                return false\r\n            }\r\n        }\r\n\r\n        let scrolling = false\r\n        let timestamp = 0;\r\n        let scrollTop = 0;\r\n        let scrollOffset = 0;\r\n        /**\r\n         * 连续滚动时长超过300ms 触发\r\n         * \r\n         * @param {*} e \r\n         */\r\n        const onScroll = function (e) {\r\n            // console.log('-')\r\n            if (scrolling) return;\r\n\r\n            scrolling = true;\r\n            setTimeout(() => {\r\n                scrolling = false;\r\n                timestamp = Date.now();\r\n                scrollOffset = document.documentElement.scrollTop - scrollTop\r\n                if (Math.abs(scrollOffset) > 50) {\r\n                    props.setExplShow(false);\r\n                    props.setAShow(false);\r\n                };\r\n            }, 300);\r\n\r\n            // console.log(Date.now() - timestamp, e)\r\n            if (Date.now() - timestamp < 20) {\r\n                props.setExplShow(false);\r\n                props.setAShow(false);\r\n            }\r\n            props.hiddenToolMenu();\r\n            scrollTop = document.documentElement.scrollTop;\r\n        }\r\n        const touchEventCapture = true;\r\n        window.addEventListener('click', onClick, true)\r\n        // { passive: false }\r\n        window.addEventListener('touchstart', touch.start, { capture: touchEventCapture, passive: false });\r\n        window.addEventListener('touchmove', touch.move);\r\n        window.addEventListener('touchend', touch.end);\r\n        window.addEventListener('scroll', onScroll, { capture: touchEventCapture, passive: false });\r\n        window.addEventListener('mousedown', mouseMove.start, true)\r\n        window.addEventListener('mouseup', mouseMove.end, true)\r\n        window.addEventListener('mousemove', mouseMove.move, true)\r\n        window.addEventListener('contextmenu', onContextMenu, true)\r\n\r\n        return () => {\r\n            window.removeEventListener('click', onClick, true);\r\n            window.removeEventListener('touchstart', touch.start, { capture: touchEventCapture, passive: false });\r\n            window.removeEventListener('touchmove', touch.move);\r\n            window.removeEventListener('touchend', touch.end);\r\n            window.removeEventListener('scroll', onScroll, { capture: touchEventCapture, passive: false });\r\n            window.removeEventListener('mousedown', mouseMove.start, true)\r\n            window.removeEventListener('mouseup', mouseMove.end, true)\r\n            window.removeEventListener('mousemove', mouseMove.move, true)\r\n            window.removeEventListener('contextmenu', onContextMenu, true)\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            { console.log('⛑ App.js render')}\r\n            <div id=\"wrp-app\" data-wrp-action-block=\"toolmenu\" >\r\n                <div className=\"wrp-view\">\r\n                    <ManageTranslatePanel />\r\n                    <AModal />\r\n                    <ToolMenu />\r\n                </div>\r\n                <ManageExplanation />\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    // app: state.app,\r\n    // a: state.a,\r\n    // explShow: state.explanation.show,\r\n    // aShow: state.a.show,\r\n    // toolMenuShow: state,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    setStatus: (status) => {\r\n        dispatch(actions.setStatus(status))\r\n    },\r\n    setHistory: (item) => {\r\n        dispatch(actions.setHistory(item))\r\n    },\r\n    setXmlDoc: xmlDoc => {\r\n        dispatch(actions.setXmlDoc(xmlDoc))\r\n    },\r\n    tapWord: events => {\r\n        dispatch(explActions.tapWord(events))\r\n    },\r\n    loadWordData: word => {\r\n        dispatch(explActions.loadWordData(word))\r\n    },\r\n    setExplShow: show => {\r\n        dispatch(explActions.setShow(show))\r\n        // dispatch(explActions.setSetting({ show: false }))\r\n        // dispatch(explActions.setMore([]))\r\n        // dispatch(explActions.setMoreFold(false))\r\n    },\r\n    setAShow: isShow => {\r\n        dispatch(aActions.setShow(isShow))\r\n    },\r\n    tapA: a => {\r\n        dispatch(aActions.tapA(a))\r\n    },\r\n    loadXmlDoc: url => {\r\n        console.log(`mapDispatchToProps: input: ${url}`)\r\n        dispatch(actions.loadXmlDoc(url))\r\n    },\r\n    setUrl: url => {\r\n        dispatch(actions.setUrl(url))\r\n    },\r\n\r\n    slideTranslate: (target, x, y) => {\r\n        dispatch(transActions.slideTranslate(target, x, y))\r\n    },\r\n\r\n    showToolMenu: (target, x, y) => {\r\n        dispatch(rpActions.showMenu(target, x, y))\r\n    },\r\n\r\n    hiddenToolMenu: () => {\r\n        dispatch(rpActions.hiddenMenu())\r\n    }\r\n\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","export const proxyHostList = [\r\n    \"www.wikipedia.org\",\r\n    \"www.wikibooks.org\",\r\n    \"wikibooks.org\",\r\n    \"m.wikipedia.org\",\r\n    \"en.wikipedia.org\",\r\n    \"en.m.wikipedia.org\",\r\n    \"twitter.com\",\r\n    \"t.co\",\r\n    \"news.google.com\",\r\n    \"developer.chrome.com\",\r\n    \"www.bbc.com\",\r\n    \"bbc.com\",\r\n    \"blog.diigo.com\",\r\n    \"diigo.com\",\r\n    \"www.kali.org\",\r\n    \"gutenberg.net.au\",\r\n    \"golang.org\",\r\n    \"developer.android.com\",\r\n    \"www.bbc.co.uk\",\r\n\r\n]","import axios from 'axios'\r\nimport { htmlTraversal, extractHead, extractAbstract, scrollToTop } from '../utils/core'\r\n\r\nimport { proxyHostList } from '../utils/config'\r\n\r\nexport const setStatus = (status) => ({\r\n    type: \"webApp/SETSTATUS\",\r\n    status\r\n})\r\n\r\nexport const setXmlDoc = (xmlDoc) => ({\r\n    type: \"webApp/SETXMLDOC\",\r\n    xmlDoc\r\n})\r\n\r\nexport const setUrl = (url) => ({\r\n    type: \"webApp/SETURI\",\r\n    url\r\n})\r\n\r\nexport const setKey = (key) => ({\r\n    type: \"webApp/SETKEY\",\r\n    key\r\n})\r\n\r\nexport const setLocation = (location) => {\r\n    if (location === undefined) {\r\n        return ({\r\n            type: \"webApp/SETLOCATION\",\r\n            location: {}\r\n        })\r\n    }\r\n\r\n    if (typeof (location) === 'string') {\r\n        return ({\r\n            type: \"webApp/SETLOCATION\",\r\n            location: {\r\n                path: location\r\n            }\r\n        })\r\n    }\r\n\r\n    if (typeof (location) === 'object') {\r\n        return ({\r\n            type: \"webApp/SETLOCATION\",\r\n            location\r\n        })\r\n    }\r\n}\r\n\r\n/** historyList 为当前完成List, item 为新条目，可为空 */\r\nexport const setHistory = (item) => {\r\n\r\n    let historyList = JSON.parse(localStorage.getItem('read_history'));\r\n    if (!Array.isArray(historyList)) historyList = [];\r\n\r\n    console.log('historyList', historyList)\r\n\r\n    if (item) {\r\n        historyList = historyList.filter(v => v.url !== item.url || v.key !== item.key)\r\n\r\n        console.log('actions app : history.push: ', item)\r\n        historyList.push(item);\r\n    }\r\n\r\n    while (historyList.length > 200) {\r\n        // Array.shift() 移除数组中的第一个值并返回\r\n        let remove = historyList.shift();\r\n        if (remove.key) localStorage.removeItem(remove.key);\r\n    }\r\n\r\n    console.log('actions setHistory 3', historyList);\r\n\r\n    // 存储\r\n    let historyStr = JSON.stringify(historyList);\r\n    localStorage.setItem('read_history', historyStr);\r\n\r\n    return ({\r\n        type: \"webApp/SETHISTORY\",\r\n        history: historyList\r\n    })\r\n}\r\n\r\nexport const setHeads = (heads) => ({\r\n    type: \"webApp/SETHEADS\",\r\n    heads\r\n})\r\n\r\nexport const loadXmlDoc = (input) => {\r\n    console.log('action creaters loadXMLDoc')\r\n    if (!input) return;\r\n    return dispatch => {\r\n\r\n        let encode = encodeURIComponent(input);\r\n        let url2 = `https://1773134661611650.ap-northeast-1.fc.aliyuncs.com/2016-08-15/proxy/Tr/tr/?url=${encode}`;\r\n        let url = `https://1773134661611650.ap-northeast-1.fc.aliyuncs.com/2016-08-15/proxy/Tr/tr/?url=${encode}`;\r\n        url = `https://1773134661611650.cn-shanghai.fc.aliyuncs.com/2016-08-15/proxy/wrp/wrp_server/get?url=${encode}`;\r\n\r\n        // let url = `http://47.94.145.177:8000/get?url=${encode}`;\r\n        console.log(\"input:\", input)\r\n        let inputObj = new URL(input);\r\n        let timeout = 60000;\r\n\r\n        // proxy\r\n        if (proxyHostList.includes(inputObj.host)) {\r\n            url = url2;\r\n            timeout = 80000;\r\n        }\r\n\r\n        return new Promise(async (resolve, reject) => {\r\n            // try{\r\n            let res = await axios({ url: url, method: \"get\", timeout: timeout })\r\n            if (res.status === 200) {\r\n                // dispatch(setXmlDoc(res.data))\r\n                console.log('doc parser')\r\n                dispatch(docParser(res.data, input))\r\n                // dispatch(setStatus('parsing'))\r\n            } else {\r\n                console.log(`loadxmldoc status!=200, res:${res}`)\r\n                dispatch(setStatus('failed'))\r\n            }\r\n            // }catch(e){\r\n            //     console.log(`loadxmldoc catch err : ${e}`)\r\n            //     dispatch(setStatus('failed'))\r\n            // }\r\n\r\n\r\n        })\r\n    }\r\n\r\n}\r\n\r\nexport const setElements = (elements) => ({\r\n    type: \"webApp/SETELEMENTS\",\r\n    elements\r\n})\r\n\r\nexport const docParser = (doc, baseUrl, key = '') => {\r\n    let t1 = Date.now()\r\n    let dom = (new DOMParser()).parseFromString(doc, 'text/html')\r\n\r\n    if (baseUrl) {\r\n        let base = dom.createElement('base');\r\n        console.log('base app.url', baseUrl)\r\n        base.href = new URL(baseUrl).origin;\r\n        dom.head.insertBefore(base, dom.head.firstChild);\r\n    }\r\n\r\n    let htmlElements = htmlTraversal(dom.body);\r\n    let t2 = Date.now()\r\n    console.log(\"traversal Runing time \", t2 - t1)\r\n\r\n    // this.htmlElements = htmlElements;\r\n    // this.abstract = null;\r\n\r\n    scrollToTop();\r\n\r\n    // 提取head， 渲染head\r\n    let heads = extractHead(dom.head);\r\n    // head(headChildList);\r\n    let abstract = extractAbstract(dom);\r\n    abstract = Object.assign(abstract, key ? { key: key } : { url: baseUrl })\r\n\r\n    return dispatch => {\r\n        dispatch(setElements(htmlElements))\r\n        dispatch(setHeads(heads))\r\n        dispatch(setStatus('completed'))\r\n        dispatch(setHistory(abstract))\r\n    }\r\n}\r\n\r\nexport const goRead = (input, currentUrl) => {\r\n    // input 可以是输入框输入, 历史banner中的url, 阅读页面中的url\r\n    return dispatch => {\r\n\r\n        let urlPattern = /^https?:\\/\\/(.+\\.\\w+.*)|(localhost.*)/\r\n        let isUrl = input.length < 10000 ? urlPattern.test(input) : false\r\n\r\n        if (isUrl && input === currentUrl) {\r\n            // 将要打开的页面与当前阅读的页面是同一个\r\n            dispatch(setStatus('parsing'))\r\n            dispatch(setLocation('/wrp-read'))\r\n            return;\r\n        }\r\n        if (!isUrl) {\r\n            // input 不是url， 是文本\r\n            // dispatch(setXmlDoc( input ))\r\n            dispatch(setUrl(''))\r\n            dispatch(setStatus('parsing'))\r\n            dispatch(setLocation('/wrp-read'))\r\n\r\n            return;\r\n        }\r\n\r\n        // 将要打开的是新页面\r\n        dispatch(setStatus('loading'))\r\n        dispatch(loadXmlDoc(input))\r\n        dispatch(setLocation('/wrp-read'))\r\n\r\n    }\r\n\r\n}","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link,\r\n    useLocation,\r\n    useRouteMatch,\r\n    useParams,\r\n    useHistory,\r\n    withRouter,\r\n} from 'react-router-dom';\r\n\r\nimport * as actions from './actions/webApp'\r\n\r\nimport { calcHash } from './utils/core';\r\n\r\nimport './home.scss';\r\n\r\nimport logo from './components/res/logo.png';\r\n\r\nfunction ItemCard(props) {\r\n    let data = props.data;\r\n    if (!data) data = {};\r\n    return (\r\n        <Link\r\n            to={`/wrp-read?url=${encodeURIComponent(data.url)}`}\r\n            className=\"wrp-card-wrapper\"\r\n            data-url={data.url}\r\n            data-key={data.key}\r\n        >\r\n            <div className=\"wrp-image-wrapper wrp-card-image\">\r\n                <img className=\"wrp-image\" src={data.icon}></img>\r\n            </div>\r\n            <div className=\"wrp-card-text-wrapper\">\r\n                <div className=\"wrp-ellipsis wrp-ct\">{data.title}</div>\r\n                <div className=\"wrp-cs\">{data.des}</div>\r\n            </div>\r\n        </Link>\r\n    )\r\n}\r\n\r\nfunction History(props) {\r\n    let List = [];\r\n    if (!props.readHistory) return List;\r\n    if (!Array.isArray(props.readHistory)) {\r\n        console.warn('Home.js History(props), props.readHistory is not an Array.')\r\n        return List;\r\n    }\r\n    for (let i of props.readHistory) {\r\n        List.unshift(\r\n            <ItemCard\r\n                key={i.url || i.key || i}\r\n                data={i}\r\n            ></ItemCard>\r\n        )\r\n    }\r\n    return List;\r\n}\r\n\r\nfunction Home(props) {\r\n    const [focused, setFocused] = useState(false);\r\n    const [input, setInput] = useState('');\r\n\r\n    const urlPattern = /^https?:\\/\\/(.+\\.\\w+.*)|(localhost.*)/;\r\n\r\n    const onKeyUp = (e) => {\r\n        if (e.key == \"Enter\") {\r\n            go();\r\n        }\r\n    }\r\n\r\n    const onChange = (e) => {\r\n        // console.log('onChange');\r\n        setInput(e.currentTarget.value)\r\n    }\r\n\r\n    const onPaste = (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        // console.log('onPaste');\r\n        let copiedText = e.clipboardData.getData('text/plain');\r\n        let copiedRichText = e.clipboardData.getData('text/html');\r\n        if (!copiedRichText || copiedRichText.length <= copiedText.length) {\r\n            setInput(copiedText)\r\n        } else {\r\n            // 如果粘贴的不是url, 则尝试获取富文本\r\n            setInput(copiedRichText);\r\n        }\r\n    }\r\n\r\n    const go = () => {\r\n        let isUrl = input.length < 10000 && urlPattern.test(input);\r\n\r\n        if (isUrl) {\r\n            return readFromUrl(input);\r\n        }\r\n\r\n        let key = String(calcHash(input));\r\n        localStorage.setItem(key, input);\r\n        readFromText(key, input);\r\n    }\r\n\r\n    const readFromUrl = (url) => {\r\n        if (url === props.webApp.url) {\r\n            props.setStatus('parsing')\r\n            props.setLocation('/wrp-read')\r\n        } else {\r\n            props.setUrl(url)\r\n            props.setKey('')\r\n            props.setStatus('loading')\r\n            props.loadXmlDoc(url)\r\n            props.setLocation('/wrp-read')\r\n        }\r\n\r\n        // 转跳至 /wrp-read\r\n        props.history.push({\r\n            pathname: '/wrp-read',\r\n            search: `?url=${url}`\r\n        })\r\n    }\r\n\r\n    const readFromText = (key, value = '') => {\r\n        if (!value) value = localStorage.getItem(key)\r\n        props.setKey(key)\r\n        // props.setXmlDoc(value)\r\n        props.setStatus('parsing')\r\n        props.docParser(value, null, key);\r\n        props.setUrl('')\r\n        props.setLocation('/wrp-read')\r\n\r\n        // 转跳至 /wrp-read\r\n        props.history.push({\r\n            pathname: '/wrp-read',\r\n            search: `?key=${key}`\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"wrp-page\">\r\n            <div className=\"wrp-app-logo-container\">\r\n                <img className=\"wrp-app-logo\" src={logo} />\r\n                <h1 class=\"wrp-app-logo-title\" style={{ display: 'none' }}>Word Reading Beta</h1>\r\n            </div>\r\n            <div className={\"wrp-input-container \".concat(focused ? \"focused\" : \"\")}>\r\n                <div className=\"wrp-input-bar\">\r\n                    {focused ? (\r\n                        <div\r\n                            className=\"wrp-input-bar-button\"\r\n                            onClick={() => setFocused(false)}\r\n                        >\r\n                            <svg viewBox=\"0 0 1118 1024\" version=\"1.1\" width=\"218.359375\" height=\"200\" fill=\"var(--c-dark)\"><defs><style type=\"text/css\"></style></defs><path d=\"M229.42 558.545h841.125c25.707 0 46.546-20.839 46.546-46.545 0-25.706-20.84-46.545-46.546-46.545H229.42L544.913 149.96c18.177-18.177 18.177-47.648 0-65.825-18.178-18.177-47.648-18.177-65.826 0L84.137 479.087c-9.09 9.089-13.634 21.001-13.634 32.913 0 11.912 4.545 23.824 13.633 32.913l394.951 394.95c18.178 18.178 47.648 18.178 65.826 0 18.177-18.176 18.177-47.647 0-65.824L229.419 558.545z\" p-id=\"5564\"></path></svg>\r\n                        </div>\r\n                    ) : ''}\r\n                    {/* <input type=\"file\"></input> */}\r\n                    <input\r\n                        className={\"wrp-input \".concat(focused ? \"wrp-input-focused\" : \"\")}\r\n                        id=\"wrp-home-input\"\r\n                        autoComplete=\"on\"\r\n                        contentEditable=\"true\"\r\n                        onChange={onChange}\r\n                        onKeyUp={onKeyUp}\r\n                        onPaste={onPaste}\r\n                        onFocus={() => setFocused(true)}\r\n                        type=\"text\"\r\n                        placeholder=\"贴入文章或链接\"\r\n                        value={input}\r\n                    ></input>\r\n                    {focused ? (\r\n                        <div\r\n                            className=\"wrp-input-bar-button wb-clearinput\"\r\n                            onClick={() => setInput('')}\r\n                        >\r\n                            <svg viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\" fill=\"var(--c-dark)\"><defs><style type=\"text/css\"></style></defs><path d=\"M512 0a512 512 0 0 0-512 512 512 512 0 0 0 512 512 512 512 0 0 0 512-512 512 512 0 0 0-512-512z m241.005714 703.268571a32.182857 32.182857 0 0 1 0.512 45.348572 32.182857 32.182857 0 0 1-45.348571 0.512L512 556.763429 315.830857 748.982857a31.963429 31.963429 0 1 1-44.836571-45.787428L466.285714 512l-195.291428-191.268571a32.182857 32.182857 0 0 1-0.512-45.348572 32.182857 32.182857 0 0 1 45.348571-0.512L512 467.236571 708.169143 275.017143a31.963429 31.963429 0 1 1 44.836571 45.787428L557.714286 512l195.291428 191.268571z\" p-id=\"10064\"></path></svg>\r\n                        </div>\r\n                    ) : ''}\r\n                    <div className=\"wrp-input-bar-go\" onClick={go}>\r\n                        <svg viewBox=\"0 0 218.36 200\"><path fill=\"var(--c-light)\" d=\"M187.14,109.09l-61.62,61.62a9.09,9.09,0,0,0,12.86,12.86l77.14-77.14a9.1,9.1,0,0,0,0-12.86L138.38,16.43a9.09,9.09,0,1,0-12.86,12.86l61.62,61.62H22.86a9.09,9.09,0,1,0,0,18.18Z\" /></svg>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            <div className=\"wrp-card-container\">\r\n                <History readHistory={props.readHistory}></History>\r\n            </div>\r\n            <div>\r\n                {/**推荐文章 */}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    readHistory: state.webApp.history,\r\n    webApp: state.webApp,\r\n    app: state.app,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    goRead: (input, currentUrl) => {\r\n        dispatch(actions.goRead(input, currentUrl))\r\n    },\r\n    setUrl: url => {\r\n        dispatch(actions.setUrl(url))\r\n    },\r\n    setKey: key => {\r\n        dispatch(actions.setKey(key))\r\n    },\r\n    loadXmlDoc: (url) => {\r\n        dispatch(actions.loadXmlDoc(url))\r\n    },\r\n    setStatus: status => {\r\n        dispatch(actions.setStatus(status))\r\n    },\r\n    setLocation: location => {\r\n        dispatch(actions.setLocation(location))\r\n    },\r\n    setXmlDoc: xmlDoc => {\r\n        dispatch(actions.setXmlDoc(xmlDoc))\r\n    },\r\n    docParser: (doc, baseUrl, key) => {\r\n        dispatch(actions.docParser(doc, baseUrl, key))\r\n    }\r\n})\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Home));\r\nexport { ItemCard }\r\n\r\n\r\n\r\n// 废弃\r\nclass _Home extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            // ReactRouter_DeclarativeRoutingForReact.js.html\r\n            // https://github.com/reactjs/react-router-tutorial/tree/master/lessons/08-index-routes \r\n            // 点击Next: Index Links 中的非文字部分，不弹出转跳框\r\n            input: 'https://',  //  paste.html   Golden_swallow-Wiki.html   wikipedia-1.html\r\n            typing: false,\r\n\r\n        };\r\n        this.urlPattern = /^https?:\\/\\/(.+\\.\\w+.*)|(localhost.*)/;\r\n        this.jumpChange = 0;\r\n    }\r\n\r\n    handleChange(e) {\r\n        if (this.jumpChange >= 1) {\r\n            // console.log('change jump', e, e.currentTarget.value);\r\n            this.jumpChange -= 1;\r\n            return '';\r\n        };\r\n        // console.log('change', e, e.currentTarget.value);\r\n        let input = e.currentTarget.value;\r\n        if (this.state.input != input) {\r\n            // console.log('setState')\r\n            this.setState({\r\n                input: input\r\n            })\r\n        }\r\n    }\r\n\r\n    handlePaste(e) {\r\n        console.log('paste', e.clipboardData.getData('text/plain'), e.clipboardData.getData('text/html'));\r\n        let pasteText = e.clipboardData.getData('text/plain');\r\n        if (this.urlPattern.test(pasteText)) {\r\n            // 粘贴的为url, 不进行操作\r\n        } else {\r\n            // 如果粘贴的不是url, 则尝试获取富文本\r\n            let pasteHtml = e.clipboardData.getData('text/html');\r\n            let input = this.state.input;\r\n            if (pasteHtml != '' && input == '') {\r\n                console.log('获取html', input + pasteHtml);\r\n                if (this.state.input != pasteHtml) {\r\n                    this.jumpChange += 1;\r\n                    this.setState({\r\n                        input: input + pasteHtml\r\n                    })\r\n                }\r\n                // e.currentTarget.value = pasteHtml;\r\n                // this.input = pasteHtml;\r\n            }\r\n        }\r\n    }\r\n\r\n    goRead() {\r\n        console.log(`home.js goRead: ${this.state.input} url: ${this.props.webApp.url}`)\r\n\r\n        let input = this.state.input\r\n\r\n        let a = /^(?=^.{3,255}$)[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+$/\r\n\r\n        let urlPattern = /^http(s)?:\\/\\/\\w{0,62}(\\.?\\w{0,62})+\\.\\w{1,62}([:\\/].*)*$/\r\n        let isUrl = input.length < 10000 ? urlPattern.test(input) : false\r\n\r\n        if (isUrl) {\r\n            this.readFromUrl(input)\r\n        } else {\r\n            const getHash = (s) => {\r\n                return s.split(\"\").reduce(function (a, b) { a = ((a << 5) - a) + b.charCodeAt(0); return a & a }, 0);\r\n            }\r\n            const t1 = new Date()\r\n            let key = String(getHash(input))\r\n            const t2 = new Date()\r\n            console.log('getHash: time', t2 - t1, key)\r\n            localStorage.setItem(key, input)\r\n            this.readFromText(key, input)\r\n        }\r\n\r\n    }\r\n\r\n    readFromUrl(url) {\r\n        if (url === this.props.webApp.url) {\r\n            this.props.setStatus('parsing')\r\n            this.props.setLocation('/wrp-read')\r\n        } else {\r\n            this.props.setUrl(url)\r\n            this.props.setKey('')\r\n            this.props.setStatus('loading')\r\n            this.props.loadXmlDoc(url)\r\n            this.props.setLocation('/wrp-read')\r\n        }\r\n        // 转跳至 /wrp-read\r\n        this.props.history.push({\r\n            pathname: '/wrp-read',\r\n            search: `?url=${url}`\r\n        })\r\n    }\r\n\r\n    readFromText(key, value = '') {\r\n        if (!value) value = localStorage.getItem(key)\r\n        this.props.setKey(key)\r\n        this.props.setXmlDoc(value)\r\n        this.props.setUrl('')\r\n        this.props.setStatus('parsing')\r\n        this.props.setLocation('/wrp-read')\r\n\r\n        // 转跳至 /wrp-read\r\n        this.props.history.push({\r\n            pathname: '/wrp-read',\r\n            search: `?key=${key}`\r\n        })\r\n    }\r\n\r\n    onClickCard(e) {\r\n        e.preventDefault()\r\n        console.log(`e : ${e}`, e, e.currentTarget.dataset.input)\r\n        let url = e.currentTarget.dataset.url\r\n        let key = e.currentTarget.dataset.key\r\n        if (key) this.readFromText(key)\r\n        if (url) this.readFromUrl(url)\r\n\r\n    }\r\n\r\n    handleKeyUp(e) {\r\n        console.log('handleKeyUp', e)\r\n        if (e.key == \"Enter\") {\r\n            this.goRead();\r\n        }\r\n    }\r\n\r\n    setTyping(value) {\r\n        if (this.state.typing == value) return;\r\n        this.setState({\r\n            typing: value\r\n        })\r\n    }\r\n\r\n    setInput(value, focus) {\r\n        console.log('setInput', value, focus)\r\n        if (focus) {\r\n            document.getElementById('whinput').focus();\r\n        }\r\n        if (typeof (value) !== 'string') return;\r\n        if (this.state.input == value) return;\r\n        this.setState({\r\n            input: value,\r\n        })\r\n    }\r\n\r\n    createHistory() {\r\n        let readHistory = this.props.readHistory;\r\n        // console.log('createHistory', readHistory);\r\n        if (!readHistory) return [];\r\n        let history = [];\r\n        for (let i in readHistory) {\r\n            // console.log('i loog',i);\r\n            history.unshift(<ItemCard\r\n                data={readHistory[i]}\r\n                onClick={(e) => this.onClickCard(e)}\r\n            ></ItemCard>)\r\n        }\r\n        // console.log('createHistory - a', history);\r\n        this.history = this.props.readHistory;\r\n        return history;\r\n    }\r\n\r\n    render() {\r\n        let typing = this.state.typing;\r\n        let history = this.createHistory();\r\n\r\n        return (<div className=\"wrp-page\">\r\n            <div className=\"wrp-app-logo-container\">\r\n                <img className=\"wrp-app-logo\" src={logo} />\r\n                {/*<h1 class=\"wrp-app-logo-title\">Word Reading Pro</h1>*/}\r\n            </div>\r\n            <div className={\"wrp-input-container \".concat(typing ? \"typing\" : \"\")}>\r\n                <div className=\"wrp-input-bar\">\r\n                    {typing ? (<div className=\"wrp-input-bar-button\" onClick={() => this.setTyping(false)}>\r\n                        <svg viewBox=\"0 0 1118 1024\" version=\"1.1\" width=\"218.359375\" height=\"200\" fill=\"var(--c-dark)\"><defs><style type=\"text/css\"></style></defs><path d=\"M229.42 558.545h841.125c25.707 0 46.546-20.839 46.546-46.545 0-25.706-20.84-46.545-46.546-46.545H229.42L544.913 149.96c18.177-18.177 18.177-47.648 0-65.825-18.178-18.177-47.648-18.177-65.826 0L84.137 479.087c-9.09 9.089-13.634 21.001-13.634 32.913 0 11.912 4.545 23.824 13.633 32.913l394.951 394.95c18.178 18.178 47.648 18.178 65.826 0 18.177-18.176 18.177-47.647 0-65.824L229.419 558.545z\" p-id=\"5564\"></path></svg>\r\n                    </div>) : ''}\r\n                    <input\r\n                        className={\"wrp-input \".concat(typing ? \"wrp-input-typing\" : \"\")}\r\n                        id=\"whinput\"\r\n                        autoComplete=\"on\"\r\n                        contentEditable=\"true\"\r\n                        onChange={(e) => this.handleChange(e)}\r\n                        onKeyUp={(e) => this.handleKeyUp(e)}\r\n                        onPaste={(e) => { this.handlePaste(e); }}\r\n                        onFocus={() => this.setTyping(true)}\r\n                        type=\"text\"\r\n                        placeholder=\"输入文章或链接\"\r\n                        value={this.state.input}\r\n                    ></input>\r\n                    {typing ? (<div className=\"wrp-input-bar-button wb-clearinput\" onClick={() => { this.setInput('', true) }}>\r\n                        <svg viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\" fill=\"var(--c-dark)\"><defs><style type=\"text/css\"></style></defs><path d=\"M512 0a512 512 0 0 0-512 512 512 512 0 0 0 512 512 512 512 0 0 0 512-512 512 512 0 0 0-512-512z m241.005714 703.268571a32.182857 32.182857 0 0 1 0.512 45.348572 32.182857 32.182857 0 0 1-45.348571 0.512L512 556.763429 315.830857 748.982857a31.963429 31.963429 0 1 1-44.836571-45.787428L466.285714 512l-195.291428-191.268571a32.182857 32.182857 0 0 1-0.512-45.348572 32.182857 32.182857 0 0 1 45.348571-0.512L512 467.236571 708.169143 275.017143a31.963429 31.963429 0 1 1 44.836571 45.787428L557.714286 512l195.291428 191.268571z\" p-id=\"10064\"></path></svg>\r\n                    </div>) : ''}\r\n                    <div className=\"wrp-input-bar-go\" onClick={() => { this.goRead() }}>\r\n                        <svg viewBox=\"0 0 218.36 200\"><path fill=\"var(--c-light)\" d=\"M187.14,109.09l-61.62,61.62a9.09,9.09,0,0,0,12.86,12.86l77.14-77.14a9.1,9.1,0,0,0,0-12.86L138.38,16.43a9.09,9.09,0,1,0-12.86,12.86l61.62,61.62H22.86a9.09,9.09,0,1,0,0,18.18Z\" /></svg>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            <div>\r\n                {history}\r\n            </div>\r\n            <div>\r\n                {/**推荐文章 */}\r\n            </div>\r\n        </div>\r\n        );\r\n    }\r\n}","import React from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport * as actions from './actions/app';\r\n\r\nimport './status.scss';\r\n\r\n\r\nfunction Status(props){\r\n    // props.status,\r\n    console.log('Status', props.status)\r\n\r\n    const handleClick = ()=>{\r\n        // 回退，将状态重置为completed\r\n        if(props.status == 'completed') return;\r\n        if(props.status == 'loading') return;\r\n        if(props.status == 'parsing') return;\r\n\r\n        try{\r\n            props.setStatus('completed')\r\n        }catch(e){\r\n            console.error('status.js: need props.setStatus() ', e);\r\n        }\r\n\r\n    }\r\n\r\n    const wrapper = (content)=>{\r\n        return (\r\n            <div \r\n                className=\"wrp-show-status\"\r\n                onClick = {handleClick}\r\n            >\r\n                {content}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const errorIcon = (\r\n        <div className=\"wrp-icon\">\r\n            <svg className=\"wrp-icon-svg\" viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\" fill=\"rgb(var(--t-c-e))\"><defs><style type=\"text/css\"></style></defs><path d=\"M512 0a512 512 0 0 0-512 512 512 512 0 0 0 512 512 512 512 0 0 0 512-512 512 512 0 0 0-512-512z m241.005714 703.268571a32.182857 32.182857 0 0 1 0.512 45.348572 32.182857 32.182857 0 0 1-45.348571 0.512L512 556.763429 315.830857 748.982857a31.963429 31.963429 0 1 1-44.836571-45.787428L466.285714 512l-195.291428-191.268571a32.182857 32.182857 0 0 1-0.512-45.348572 32.182857 32.182857 0 0 1 45.348571-0.512L512 467.236571 708.169143 275.017143a31.963429 31.963429 0 1 1 44.836571 45.787428L557.714286 512l195.291428 191.268571z\" p-id=\"10064\"></path></svg>\r\n        </div>\r\n    );\r\n\r\n    const button = (\r\n        <div>\r\n            <button>重试</button>\r\n            <button>返回</button>\r\n        </div>\r\n    );\r\n\r\n    var statusContent = '';\r\n    switch(props.status){\r\n        case \"loading\":\r\n        case \"parsing\":\r\n        default:\r\n            if(props.status == \"loading\" || props.status == \"parsing\"){\r\n                statusContent = wrapper(\r\n                    <>\r\n                        <div className=\"wrp-icon\">\r\n                            <div className=\"wrp-loading-icon\">\r\n                                <div/> <div/>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"wrp-status-tip\">{props.status==\"loading\"?\"加载中...\":\"解析中...\"}</div>\r\n                    </>\r\n                )\r\n            }\r\n            break;\r\n        case \"failed\":\r\n        case \"timeout\":\r\n            statusContent = wrapper(\r\n                <>\r\n                    {errorIcon}\r\n                    <div className=\"wrp-text\">{props.status==\"failed\"?\"加载失败\":\"加载超时\"}</div>\r\n                    <div className=\"wrp-text wrp-status-des\">\r\n                        加载此网址：\r\n                        <span className=\"wrp-warning\">{props.url}</span>\r\n                        <br/>发生问题，请检查网址!\r\n                    </div>\r\n                </>\r\n            )\r\n            break;\r\n        case \"typeError\":\r\n            statusContent = wrapper(\r\n                <>\r\n                    {errorIcon}\r\n                    <div className=\"wrp-text\">返回类型错误</div>\r\n                    <div className=\"wrp-text wrp-status-des\">\r\n                        此网址：\r\n                        <span className=\"wrp-warning\">{props.url}</span>\r\n                        <br/>返回不受支持的内容，请检查网址!\r\n                    </div>\r\n                </>\r\n            )\r\n            break;\r\n        case \"completed\":\r\n            statusContent = ''\r\n            break;\r\n    }\r\n\r\n    return statusContent\r\n            \r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    status: state.webApp.status\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    setStatus: status => {\r\n        dispatch(actions.setStatus(status))\r\n    }\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Status);","import React, { useState, useEffect } from 'react';\r\n\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link,\r\n    useLocation,\r\n    useRouteMatch,\r\n    useParams,\r\n    useHistory,\r\n    withRouter,\r\n} from 'react-router-dom';\r\n\r\nimport './trayBar.scss';\r\n\r\nfunction fixCurrentIndex(trayData, setCurrentIndex) {\r\n    let pathList = trayData.map(item => item.path)\r\n    let pathName = (new URL(window.location.href)).pathname\r\n    let current = pathList.findIndex((path) => pathName.search(path) === 0)\r\n    setCurrentIndex(current)\r\n    return current;\r\n}\r\n\r\nfunction TrayBar(props) {\r\n\r\n    const icon = {\r\n        home: <svg className=\"wrp-nav-item-icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\"><path d=\"M854.08768 503.1168l0 342.08768c0 44.450816-36.040704 80.490496-80.49152 80.490496L612.614144 925.694976 612.614144 664.09984c0-44.450816-36.03968-80.490496-80.490496-80.490496l-40.245248 0c-44.450816 0-80.49152 36.03968-80.49152 80.490496L411.38688 925.696 250.40384 925.696c-44.450816 0-80.490496-36.03968-80.490496-80.490496l0-342.08768L49.175552 503.117824 512 60.416l462.824448 442.701824L854.08768 503.117824z\" p-id=\"13773\"></path></svg>,\r\n        explore: <svg className=\"wrp-nav-item-icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\"><path d=\"M534.378667 574.549333c31.338667 0 58.410667-17.130667 73.152-42.346667 0.149333 0.149333 0.256 0.256 0.405333 0.405333 32.341333-55.658667 57.045333-127.168 74.176-190.869333-57.472 15.466667-121.024 36.949333-173.717333 64.725333-1.365333 0.725333-2.730667 1.450667-4.096 2.176-9.557333 5.141333-12.8 7.445333-13.952 8.405333-24.490667 14.933333-41.024 41.642667-41.024 72.448C449.322667 536.469333 487.402667 574.549333 534.378667 574.549333z\" p-id=\"14571\"></path><path d=\"M512.021333 64C264.554667 64 64 264.554667 64 511.978667 64 759.445333 264.554667 960 512.021333 960 759.381333 960 960 759.445333 960 511.978667 960 264.512 759.381333 64 512.021333 64zM603.989333 603.989333c-90.986667 90.944-304.149333 120.213333-304.149333 120.213333s29.269333-213.205333 120.213333-304.149333 304.149333-120.213333 304.149333-120.213333S694.976 513.045333 603.989333 603.989333z\" p-id=\"14572\"></path></svg>,\r\n        reading: <svg class=\"wrp-nav-item-icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" width=\"200\" height=\"200\"><defs><style type=\"text/css\"></style></defs><path d=\"M307.2 173.346133c108.049067 17.066667 187.733333 111.325867 187.733333 222.088534v433.032533c0 32.597333-26.112 59.016533-58.299733 58.999467-5.563733 0-11.093333-0.8192-16.452267-2.4064l-217.207466-65.024C153.463467 805.2224 119.466667 759.176533 119.466667 706.884267V212.616533C119.466667 180.0192 145.5616 153.6 177.732267 153.6c3.003733 0 6.007467 0.238933 8.977066 0.699733L307.2 173.346133z m596.650667 30.190934c0.443733 3.003733 0.682667 6.058667 0.682666 9.096533V706.901333c0 52.292267-33.979733 98.3552-83.5072 113.152L603.818667 885.060267c-30.8736 9.216-63.266133-8.6528-72.362667-39.918934a59.716267 59.716267 0 0 1-2.389333-16.657066V395.434667c0-110.7456 79.684267-205.0048 187.733333-222.0544l120.490667-19.063467c31.7952-5.034667 61.5936 16.9984 66.56 49.2032z\" p-id=\"3000\"></path></svg>,\r\n        word: <svg className=\"wrp-nav-item-icon\" version=\"1.1\" viewBox=\"0 0 200 200\"><path d=\"M78.6,96.4h42.8c10.8,0,19.6-8.8,19.6-19.6V34.1c0-10.8-8.8-19.6-19.6-19.6H78.6C67.8,14.5,59,23.3,59,34.1v42.8\tC59,87.7,67.8,96.4,78.6,96.4z M84,44.8c0-8.9,7.2-16,16-16s16,7.2,16,16v32.1c0,3-2.4,5.3-5.3,5.3s-5.3-2.4-5.3-5.3V64.4\tc0-2-1.6-3.6-3.6-3.6h-3.6c-2,0-3.6,1.6-3.6,3.6v0v12.5c0,3-2.4,5.3-5.3,5.3S84,79.8,84,76.8V44.8z M98.2,50.1h3.6\tc2,0,3.6-1.6,3.6-3.6v-1.8c0-3-2.4-5.3-5.3-5.3s-5.3,2.4-5.3,5.3v1.8C94.7,48.5,96.3,50.1,98.2,50.1L98.2,50.1z M76.8,103.6H34.1\tc-10.8,0-19.6,8.8-19.6,19.6v42.8c0,10.8,8.8,19.6,19.6,19.6h42.8c10.8,0,19.6-8.8,19.6-19.6v-42.8\tC96.4,112.3,87.7,103.6,76.8,103.6L76.8,103.6z M68.9,146.5c4.8,7.4,2.7,17.3-4.7,22.2c-2.6,1.7-5.7,2.6-8.8,2.6H44.8\tc-3,0-5.3-2.4-5.3-5.3v-42.8c0-3,2.4-5.3,5.3-5.3h10.7c8.8,0,16,7.1,16,16c0,3.1-0.9,6.2-2.6,8.8C68.1,143.8,68.1,145.3,68.9,146.5\tL68.9,146.5z M55.5,149.9h-1.8c-2,0-3.6,1.6-3.6,3.6v3.6c0,2,1.6,3.6,3.6,3.6h1.8c3,0,5.3-2.4,5.3-5.3\tC60.8,152.3,58.4,149.9,55.5,149.9L55.5,149.9z M55.5,128.5h-1.8c-2,0-3.6,1.6-3.6,3.6v3.6c0,2,1.6,3.6,3.6,3.6h1.8\tc3,0,5.3-2.4,5.3-5.3C60.8,130.9,58.4,128.5,55.5,128.5L55.5,128.5z M165.9,103.6h-42.8c-10.8,0-19.6,8.8-19.6,19.6v42.8\tc0,10.8,8.8,19.6,19.6,19.6h42.8c10.8,0,19.6-8.8,19.6-19.6v-42.8C185.5,112.3,176.7,103.6,165.9,103.6L165.9,103.6z M151.7,160.6\tc3,0,5.3,2.4,5.3,5.3s-2.4,5.3-5.3,5.3c-14.8,0-26.7-12-26.7-26.7c0-14.8,12-26.7,26.7-26.7c3,0,5.3,2.4,5.3,5.3\tc0,3-2.4,5.3-5.3,5.3c-8.9,0-16,7.2-16,16S142.8,160.6,151.7,160.6z\" /></svg>,\r\n        about: <svg className=\"wrp-nav-item-icon\" version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 200 200\"><path d=\"M100,10c-49.7,0-90,40.3-90,90c0,49.7,40.3,90,90,90c49.7,0,90-40.3,90-90C190,50.3,149.7,10,100,10z M97.2,156.3\tc-4.3,0-7.8-4.2-7.8-9.3l0-56.7c0-5.1,3.5-9.3,7.8-9.3c4.3,0,7.8,4.2,7.8,9.3l0,56.7C105,152.1,101.5,156.3,97.2,156.3z M97.2,64\tc-4.6,0-8.4-4.5-8.4-10l0-0.3c0-5.5,3.8-10,8.4-10c4.6,0,8.4,4.5,8.4,10l0,0.3C105.6,59.6,101.9,64,97.2,64z\" /></svg>\r\n    }\r\n\r\n    const trayData = [\r\n        {\r\n            icon: 'home',\r\n            title: '首页',\r\n            path: '/wrp-home'\r\n        }, {\r\n            icon: 'explore',\r\n            title: '探索',\r\n            path: '/wrp-explore'\r\n        }, {\r\n            icon: 'reading',\r\n            title: '阅读',\r\n            path: '/wrp-reading'\r\n        }, {\r\n            icon: 'word',\r\n            title: '单词',\r\n            path: '/wrp-word'\r\n        }, {\r\n            icon: 'about',\r\n            title: '关于',\r\n            path: '/wrp-about'\r\n        }\r\n    ]\r\n\r\n    let c = \"var(--t-fore-c)\";\r\n    let c2 = \"var(--sc)\";\r\n\r\n    const [isShow, setIsShow] = useState(true);\r\n    const [currentIndex, setCurrentIndex] = useState(0);\r\n    const location = useLocation();\r\n\r\n    let colors = [c, c, c, c];\r\n    colors = colors.map((v, i) => { return i == currentIndex ? c2 : c });\r\n\r\n    useEffect(function () {\r\n        console.log('location', location);\r\n        if (!isShow) setIsShow(true);\r\n        if (location.pathname === '/wrp-read') {\r\n            setIsShow(false);\r\n        }\r\n\r\n        fixCurrentIndex(trayData, setCurrentIndex);\r\n\r\n    }, [location]);\r\n\r\n    return (\r\n        <div\r\n            className={`wrp-nav ${isShow ? '' : 'wrp-nav-hidden'}`}\r\n            data-wrp-action-block=\"intercept\"\r\n        >\r\n            <div className=\"wrp-nav-item-container\">\r\n                {\r\n                    trayData.map((item, index) => (\r\n                        <Link to={item.path} onClick={() => setCurrentIndex(index)} key={item.path}>\r\n                            <div className={`wrp-nav-item ${index === currentIndex && 'wrp-tary-bar-selected'}`}>\r\n                                {icon[item.icon]}\r\n                                <div className=\"wrp-nav-item-title\">{item.title}</div>\r\n                            </div>\r\n                        </Link>\r\n                    ))\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport { TrayBar };","\r\nexport const exploreData = {\r\n    \"recommended\": {\r\n        list: [\r\n            {\r\n                des: \"User LoginCompletely Free Textbooksby Industry-Leading Professors and Other ExpertsOr search the web for open content using our custom Google search.At EdTech Books, we believe that knowledge should be free, and that educational technology should lead the way! We provide high-quality textbooks to students at zero cost. Each year, we save students Loading...\",\r\n                icon: \"https://edtechbooks.org/favicon-1.ico\",\r\n                title: \"EdTech Books\",\r\n                url: \"https://edtechbooks.org/\"\r\n            }, {\r\n                url: 'https://github.com/',\r\n                icon: 'https://github.com/fluidicon.png',\r\n                title: 'GitHub: Where the world builds software · GitHub',\r\n                des: 'Millions of developers and companies build, ship, and maintain their software on GitHub—the largest and most advanced development platform in the world. '\r\n            }, {\r\n                icon: \"https://developer.mozilla.org/static/img/favicon144.e7e21ca263ca.png\",\r\n                title: \"MDN Web Docs\",\r\n                des: \"The browser built for devsGet the latest and greatest from MDN delivered straight to your inbox.If you haven’t previously confirmed a subscription to a Mozilla-related newsletter you may have to do so. Please check your inbox or your spam filter for an email from us.Open search\",\r\n                url: \"https://developer.mozilla.org/en-US/\"\r\n            }, {\r\n                icon: \"https://webpack.js.org/icon_180x180.png\",\r\n                title: \"webpack\",\r\n                des: \"Webpack 5 has been officially released. Read our announcement. Not ready yet? Read webpack 4 documentation here.src/index.jssrc/bar.jsWithout config or provide custom webpack.config.jspage.htmlThen run webpack on the command-line to create bundle.js.English中文\",\r\n                url: \"https://webpack.js.org/\"\r\n            }, {\r\n                icon: \"https://en.m.wikipedia.org/static/apple-touch/wikipedia.png\",\r\n                title: \"Wikipedia\",\r\n                des: \"\",\r\n                url: \"https://en.m.wikipedia.org/wiki/Main_Page\"\r\n            }, {\r\n                url: \"https://www.sciencemag.org/\",\r\n                icon: \"https://www.sciencemag.org/sites/default/files/favicon.ico\",\r\n                title: \"Science | AAAS\",\r\n                des: \"\"\r\n            }, {\r\n                icon: \"https://www.nature.com/static/images/favicons/nature/apple-touch-icon.f39cb19454.png\",\r\n                title: \"Nature\",\r\n                url: \"https://www.nature.com/\",\r\n                des: \"\"\r\n            }, {\r\n                des: \"QR CodeOngoing Call for Case Report Chapter ProposalsFaculty, instructional designers and administrators who have implemented Hybrid-Flexible courses at their own institutions are invited to propose case report chapters for Unit III of this book.Hybrid-Flexible Course Design\",\r\n                icon: \"https://edtechbooks.org/favicon-1.ico\",\r\n                title: \"Hybrid-Flexible Course Design\",\r\n                url: \"https://edtechbooks.org/hyflex\"\r\n            }, {\r\n                des: \"Find expert information to make the most out of online learningFind resourcesThe next chapter in learningFind expert information to make the most out of online learningFind everything you need to help you with your studies and in the format you want\",\r\n                icon: \"https://www.pearson.com/etc/designs/global-store/sites/en/favicon.ico\",\r\n                title: \"The world’s learning company | Pearson\",\r\n                url: \"https://www.pearson.com/\"\r\n            }\r\n        ]\r\n    },\r\n    \"gettingStarted\": {\r\n        list: [\r\n            {\r\n                des: \"Skip to main contentLearnEnglish Subscription: self-access courses for professionalsRead a review of the book 'The Martian' to practise and improve your reading skills.Do the preparation task first. Then read the text and do the exercises.Section menu\",\r\n                icon: \"https://learnenglish.britishcouncil.org/sites/podcasts/themes/le7/favicon.ico\",\r\n                title: \"The Martian: a book review | Reading - Intermediate B1 | British Council\",\r\n                url: \"https://learnenglish.britishcouncil.org/skills/reading/intermediate-b1/the-martian-a-book-review\"\r\n            }, {\r\n                des: \"GrammarStudy basic grammar | Study intermediate grammar | Study upper-intermediate grammar | Study advanced grammar | The Grammar Gameshow | 6 Minute Grammar - basic | 6 Minute Grammar - intermediateVocabulary & PronunciationBBC Account\",\r\n                title: \"BBC Learning English - BBC Learning English - Homepage\",\r\n                url: \"https://www.bbc.co.uk/learningenglish/\",\r\n                icon: \"https://static.files.bbci.co.uk/orbit/7ba98e3db9d415f8cbdb0978bf084f9e/img/blq-orbit-blocks_grey_sm.svg\"\r\n            }\r\n        ]\r\n    },\r\n    \"textbook\": {\r\n        list: [\r\n            {\r\n                des: \"User LoginCompletely Free Textbooksby Industry-Leading Professors and Other ExpertsOr search the web for open content using our custom Google search.At EdTech Books, we believe that knowledge should be free, and that educational technology should lead the way! We provide high-quality textbooks to students at zero cost. Each year, we save students Loading...\",\r\n                icon: \"https://edtechbooks.org/favicon-1.ico\",\r\n                title: \"EdTech Books\",\r\n                url: \"https://edtechbooks.org/\"\r\n            }, {\r\n                des: \"View related sitesCambridge Assessment EnglishWhy choose us?Exams and testsUseful linksLearning EnglishTeaching EnglishHelpYou are here:Want to improve your writing skills? Our free online tool helps you to practise your writing and get valuable feedback instantly. Write & Improve is simple to use: just choose a task, write or upload Cambridge Assessment English\",\r\n                title: \"Cambridge English Write & Improve\",\r\n                url: \"https://www.cambridgeenglish.org/learning-english/free-resources/write-and-improve/\",\r\n                icon: \"https://www.cambridgeenglish.org/assets/img/favicon.ico\"\r\n            }, {\r\n                des: \"Normal Speed:Slow Speed:Hello.Hi.How↵                              ↵                                  are↵                              ↵                                  you?I'm↵                              ↵                                  good.↵                              ↵                                  How↵                              ↵                         \",\r\n                title: \"↵      English lesson: Where are you from? | English Speak↵    \",\r\n                url: \"https://www.englishspeak.com/en/english-lessons/1/english-lesson\",\r\n                icon: \"\"\r\n            }, {\r\n                des: \"Every individual has the right to communicate as he pleases, however if the person desires to express himself effectively and confidently, he should be aware of common errors while speaking in the Eng×\",\r\n                icon: \"https://www.tutorialspoint.com/favicon.ico\",\r\n                title: \"Spoken English Errors Tutorial - Tutorialspoint\",\r\n                url: \"https://www.tutorialspoint.com/spoken_english_errors/index.htm\"\r\n            }, {\r\n                des: \"MERRY CHRISTMAS 2020Grammar LessonsEnglish grammar lessons with example sentences and testsPronunciation Lessons 🔊English pronunciation lessons with audio and videoVocabulary Lessons 📕English vocabulary lessons with example sentences and quizzesPlease submit guest articles here\",\r\n                icon: \"https://www.englishclub.com/apple-touch-icon.png\",\r\n                title: \"Learn English | EnglishClub\",\r\n                url: \"https://www.englishclub.com/learn-english.htm\"\r\n            }, {\r\n                des: \"Now test yourself on the phrasal verbs from this lesson by trying this quiz.There are 20 questions. For each one, you will see a sentence with a phrasal verb missing. The first ten questions are multiple choice; then, for the final ten, you need to write an answer. You should0\",\r\n                icon: \"https://www.oxfordonlineenglish.com/wp-content/themes/omega/assets/images/favicons/apple-touch-icon-precomposed.png\",\r\n                title: \"24 Phrasal Verbs for Business - Video | Oxford Online English\",\r\n                url: \"https://www.oxfordonlineenglish.com/phrasal-verbs-for-business\",\r\n            }, {\r\n                des: \"You want to improve your English speaking but don’t know where to start? You know a lot of English words but have a hard time making sentences in English?You know why?The reason is you don’t learn common English phrases and sentence patterns, do you? These phrases and patterns are said as basic units for you to make much more correct sentences in English.\",\r\n                icon: \"https://basicenglishspeaking.com/wp-content/uploads/2018/02/cropped-icon-180x180.png\",\r\n                title: \"(Audio Lessons) 100 Common English Phrases and Sentence Patterns With Dialogue - Basic English Speaking\",\r\n                url: \"https://basicenglishspeaking.com/100-common-phrases-and-sentence-patterns/\"\r\n            }, {\r\n                des: \"This program is designed to equip our graduate students with valuable language skills that enable them to get the most out of their studies.Each year, the Faculty of Science offers graduate students the opportunity to apply for the Graduate Science Academic English Tutorial.Faculty of Science\",\r\n                title: \"Graduate Science Academic English Tutorial\",\r\n                url: \"https://science.unimelb.edu.au/students/graduate-science-academic-english-tutorial\",\r\n                icon: \"https://cms.unimelb.edu.au/__data/assets/image/0006/1456044/favicon.gif\"\r\n            }\r\n        ]\r\n    },\r\n    \"classicNovel\": {\r\n        list: [\r\n            {\r\n                des: \"They're the bane of many a high schooler's existence. And yet, we all have one or two (or 20) classic books that we've been meaning to read... eventually. But when you walk into the bookMENU\",\r\n                icon: \"https://cdn2.bustle.com/bustle/2020/icon-c030f451b3.png\",\r\n                title: \"21 Classic Books That You Can Read For Free Online\",\r\n                url: \"https://www.bustle.com/p/21-classic-books-that-you-can-read-for-free-online-8483838\"\r\n            }, {\r\n                des: \"Abigail Adams and Her Times (1917) is a chapter book biography intended for young people, written by Laura E. Richards. Richards wrote several other biographies for young people, as well as nonsense ptoggle navigation\",\r\n                icon: \"https://assets.americanliterature.com/al/ico/favicon.ico\",\r\n                title: \"Abigail Adams and Her Times\",\r\n                url: \"https://americanliterature.com/author/laura-e-richards/book/abigail-adams-and-her-times/summary\"\r\n            }, {\r\n                des: \"20,000 Leagues Under the SeaAbigail Adams and Her TimesAbsalom's HairA Child's History of EnglandA Christmas CarolA Comic History of the United StatesA Connecticut Yankee in King Arthur's CourtA Country Doctortoggle navigation\",\r\n                icon: \"https://assets.americanliterature.com/al/ico/favicon.ico\",\r\n                title: \"The Greatest Classical Books of All Time\",\r\n                url: \"https://americanliterature.com/books\"\r\n            }\r\n        ]\r\n    },\r\n    \"technicalDocuments\": {\r\n        list: [\r\n            {\r\n                url: \"https://docs.microsoft.com/en-us/\",\r\n                des: \"The home for Microsoft documentation and learning for developers and technology professionals.Search our expansive documentation resources for Microsoft products.Discover training paths by role, subject matter, or technology.\",\r\n                title: \"Developer tools, technical documentation and coding examples | Microsoft Docs\",\r\n                icon: \"https://docs.microsoft.com/en-us/media/logos/logo-ms-social.png\"\r\n            }, {\r\n                des: \"Welcome to the ArchWiki: your source for Arch Linux documentation on the web.Visit the Table of contents for a listing of article categories.The distributionOur communityWiki interactionPersonal tools\",\r\n                icon: \"https://wiki.archlinux.org/favicon.ico\",\r\n                title: \"ArchWiki\",\r\n                url: \"https://wiki.archlinux.org/\"\r\n            }, {\r\n                des: \"There are several types of documentation available on this website:The API reference documentation provides detailed information about a function or object in Node.js. This documentation indicates what arguments a method accepts, the return value of that method, and Toggle Language\",\r\n                icon: \"https://nodejs.org/static/images/favicons/apple-touch-icon.png\",\r\n                title: \"Documentation | Node.js\",\r\n                url: \"https://nodejs.org/en/docs/\"\r\n            }, {\r\n                des: \"Whether you are working on a new cutting edge app or simply ramping up on new technology, Java documentation has all the information you need to make your project a smashing success. Use the rich set Toggle navigation\",\r\n                icon: \"https://docs.oracle.com/sp_common/site-template/ohc-common/img/favicon.ico\",\r\n                title: \"Java Documentation - Get Started\",\r\n                url: \"https://docs.oracle.com/en/java/\"\r\n            }, {\r\n                title: \"Welcome to Clang's documentation! — Clang 12 documentation\",\r\n                url: \"https://clang.llvm.org/docs/index.html\",\r\n                des: \"\",\r\n                icon: \"\"\r\n            }, {\r\n                des: \"The Go programming language is an open source project to make programmers more↵productive.Go is expressive, concise, clean, and efficient. Its concurrency↵mechanisms make it easy to write programs that get the most out of multicore↵and networked machines, while its novel type system enable\",\r\n                title: \"Documentation - The Go Programming Language\",\r\n                url: \"https://golang.org/doc/\",\r\n                icon: \"\"\r\n            }, {\r\n                des: \"Kotlin documentation is a good place to start, check out these links to get your feet wet:A modern IDE like IntelliJ IDEA can help in learning Kotlin:Kotlin community is open, helpful, and welcoming. Don't hesitate to join and ask on any platform you like:Solutions\",\r\n                icon: \"https://kotlinlang.org/assets/images/apple-touch-icon.png\",\r\n                title: \"Reference - Kotlin Programming Language\",\r\n                url: \"https://kotlinlang.org/docs/reference/\"\r\n            }, {\r\n                des: \"Notice: While Javascript is not essential for this website, your interaction with the content will be limited. Please turn Javascript on for the full experience.The core of extensible programming is defining functions. Python allows mandatory and optional arguments, keyword arguments, and even arbitrary argument lists. More about defining functions in Python ▼\",\r\n                icon: \"https://www.python.org/static/apple-touch-icon-144x144-precomposed.png\",\r\n                title: \"Welcome to Python.org\",\r\n                url: \"https://www.python.org/\"\r\n            }, {\r\n                des: \"TypeScript extends JavaScript by adding types.By understanding JavaScript, TypeScript saves you time catching errors and providing fixes before you run code.Any browser, any OS, anywhere JavaScript runs. Entirely Open Source.TypeScript\",\r\n                icon: \"https://www.typescriptlang.org/icons/icon-48x48.png?v=8944a05a8b601855de116c8a56d3b3ae\",\r\n                title: \"TypeScript: Typed JavaScript at Any Scale.\",\r\n                url: \"https://www.typescriptlang.org/\"\r\n            }, {\r\n                des: \"Termux is an Android terminal emulator and Linux environment app that↵     works directly with no rooting or setup required. A minimal base system is installed automatically↵     - additional packages\",\r\n                title: \"Termux\",\r\n                url: \"https://termux.com/\"\r\n            }, {\r\n                des: \"An introduction to PDF.js with examples.Before downloading PDF.js please take a moment to understand the different layers of the PDF.js project.Includes the generic build of PDF.js and the viewer.Includes the generic build of PDF.js and the viewer.\",\r\n                icon: \"https://mozilla.github.io/images/favicon.ico\",\r\n                title: \"Getting Started\",\r\n                url: \"https://mozilla.github.io/pdf.js/getting_started/\"\r\n            }\r\n        ]\r\n    },\r\n    \"news\": {\r\n        list: [\r\n            {\r\n                url: \"https://www.bbc.com/\",\r\n                title: \"BBC\",\r\n                des: \"\",\r\n                icon: \"https://gn-web-assets.api.bbc.com/wwhp/20201210-0846-578c61aa216ef5d4049b32847e3da53ea1a677f5/responsive/img/apple-touch/apple-touch-180.jpg\"\r\n            }, {\r\n                des: \"Unlimited digital access, free for 1 monthJohnson needs to play the Grinch or thousands will dieThe inside story of our unprecedented yearBan bouncers? No, batsmen must learn  to deal with themMake a difference with FareShare, Sported and TuskMore from The Times and The Sunday Times\",\r\n                icon: \"https://www.thetimes.co.uk/d/img/icons/favicon-ab3ea01fbe.ico\",\r\n                title: \"The Times & The Sunday Times\",\r\n                url: \"https://www.thetimes.co.uk/\"\r\n            }\r\n        ]\r\n    },\r\n    \"politicalFinance\": {\r\n        list: [\r\n            {\r\n                url: \"https://www.mckinsey.com/\",\r\n                des: \"McKinsey & Company is an American worldwide management consulting firm, founded in 1926 by University of Chicago professor James O. McKinsey, that advises on strategic management to corporations, governments, and other organizations. Under the leadership of Marvin Bower, McKinsey expanded into Europe during the 1940s and 1950s. \",\r\n                title: \"Global management consulting | McKinsey & Company\",\r\n                icon: \"https://www.mckinsey.com/redesign/resources/images/mck-touch-icon-57x57.png\"\r\n            }, {\r\n\r\n            }\r\n        ]\r\n    },\r\n    \"history\": {\r\n        list: [\r\n            {\r\n                url: \"http://www.newconceptenglish.com/index.php?id=nce-1\",\r\n                title: \"新概念英语\",\r\n                des: \"\",\r\n                icon: \"\"\r\n            }\r\n        ]\r\n    },\r\n    \"sports\": {\r\n        list: []\r\n    },\r\n    // \"\": {\r\n    //     list: []\r\n    // },\r\n    // \"\": {\r\n    //     list: []\r\n    // }\r\n}","import React, { useState, useRef } from 'react';\r\n\r\nimport './explore.scss';\r\nimport { withRouter } from 'react-router';\r\n\r\nimport { ItemCard } from '../home';\r\n\r\nimport { exploreData } from '../assets/explore'\r\n\r\n\r\nfunction ExploreApp() {\r\n\r\n    const navigationList = [\r\n        {\r\n            title: '推荐',\r\n            key: 'recommended',\r\n            color: '',\r\n        }, {\r\n            title: '入门级',\r\n            key: 'gettingStarted',\r\n            color: '',\r\n        }, {\r\n            title: '英语教材',\r\n            key: 'textbook',\r\n            color: '',\r\n        }, {\r\n            title: '名著小说',\r\n            key: 'classicNovel',\r\n            color: '',\r\n        }, {\r\n            title: '技术文档',\r\n            key: 'technicalDocuments',\r\n            color: '',\r\n        }, {\r\n            title: '时事新闻',\r\n            key: 'news',\r\n            color: '',\r\n        }, {\r\n            title: '政治金融',\r\n            key: 'politicalFinance',\r\n            color: '',\r\n        }, {\r\n            title: '文史哲',\r\n            key: 'history',\r\n            color: '',\r\n        }, {\r\n            title: '体育运动',\r\n            key: 'sports',\r\n            color: '',\r\n        }\r\n    ]\r\n\r\n    const navigationData = exploreData\r\n\r\n    const [navigationIndex, setIndex] = useState(0);\r\n\r\n    const seletedKey = navigationList[navigationIndex].key\r\n\r\n    return (\r\n        <>\r\n            <header className=\"wrp-find-header\">\r\n                <NavigationBar\r\n                    list={navigationList}\r\n                    seleted={navigationIndex}\r\n                    setIndex={setIndex}\r\n                ></NavigationBar>\r\n            </header>\r\n\r\n            <div className=\"wrp-page wrp-card-container\">\r\n                {\r\n                    navigationData[seletedKey].list.map((item, index) => (\r\n                        <ItemCard data={item} key={item.url}></ItemCard>\r\n                    ))\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nfunction NavigationBar(props) {\r\n\r\n    const scrollView = useRef(null);\r\n\r\n    const wheel = (e) => {\r\n        // console.log(e, '\\n', e.deltaY)\r\n        scrollView.current.scroll({\r\n            left: scrollView.current.scrollLeft + e.deltaY,\r\n            behavior: 'smooth'\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div\r\n                className=\"wrp-navigation-bar-wrapper\"\r\n                onWheel={wheel}\r\n                ref={scrollView}\r\n            >\r\n                <ul className=\"wrp-navigation-bar-container\">\r\n                    {\r\n                        props.list.map((item, index) => (\r\n                            <li\r\n                                className={`wrp-navigation-bar-item ${props.seleted === index\r\n                                    ? 'wrp-navigation-selected' : ''}`}\r\n                                onClick={() => props.setIndex(index)}\r\n                                key={item.key}\r\n                            >\r\n                                {item.title}\r\n                            </li>\r\n                        ))\r\n                    }\r\n                </ul>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ExploreApp;","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport logo from \"./components/res/logo.png\";\r\nimport manifest from \"./manifest.json\";\r\n\r\nimport './Head.scss'\r\n\r\nfunction Head(props) {\r\n  return <div id=\"wrp-head\">{props.heads}</div>;\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  heads: state.webApp.heads,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Head);","import React, { useEffect } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link,\r\n    useLocation,\r\n    useRouteMatch,\r\n    useParams,\r\n    useHistory,\r\n    withRouter,\r\n\r\n} from 'react-router-dom';\r\nimport './webApp.scss';\r\n\r\nimport App from './App';\r\n// import {AppWithRouter as App} from './App';\r\nimport Home from './home';\r\nimport Status from './status';\r\nimport './common.scss';\r\n\r\nimport { TrayBar } from './components/trayBar';\r\nimport ExploreApp from './components/explore';\r\n\r\nimport { store } from './index'\r\nimport * as actions from './actions/webApp'\r\nimport * as aActions from './actions/a';\r\n\r\nimport { connect } from 'react-redux'\r\n\r\nimport Head from './head';\r\nimport ReadPanel from './components/readPanel';\r\n\r\nimport { replaceScript } from './utils/core'\r\n\r\nfunction WebApp(props) {\r\n\r\n    const checkURI = () => {\r\n        console.log('webApp.js: checkURI()');\r\n\r\n        let urlParams = (new URL(window.location.href)).searchParams;\r\n        let url = urlParams.get('url');\r\n        let key = urlParams.get('key');\r\n\r\n        if (key) {\r\n            let doc = localStorage.getItem(key);\r\n            // props.setXmlDoc(doc)\r\n            props.setStatus('parsing')\r\n            props.docParser(doc, null, key)\r\n        }\r\n\r\n        let elements = props.elements || []\r\n\r\n        if (!url) return;\r\n\r\n        if (url === props.app.url && elements.length !== 0) {\r\n\r\n        }\r\n\r\n        if (url === props.app.url && elements.length === 0) {\r\n            // this.props.setStatus('parsing')\r\n            // this.docParser(this.props.app.xmlDoc)\r\n            console.log('checkURI call docParser')\r\n            props.docParser(props.app.xmlDoc, props.app.url)\r\n            // this.props.setLocation('/wrp-read')\r\n        }\r\n\r\n        if (url !== props.app.url) {\r\n            // this.inputIsURL = true;\r\n            // if (this.input == url) return;\r\n            props.setUrl(url)\r\n            props.setStatus('loading')\r\n            props.loadXmlDoc(url)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        props.setHistory(null);\r\n\r\n        props.history.listen(location => {\r\n            if (props.app.status !== 'loading') {\r\n                checkURI()\r\n            }\r\n        })\r\n\r\n        checkURI();\r\n\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        replaceScript();\r\n\r\n        // 对页面内js控制的转跳进行重定向\r\n        let location = window.location;\r\n        let dir = location.pathname.split(\"/\")[1]; // 没有的话返回\"\"\r\n        switch (dir) {\r\n            case \"\":\r\n                props.history.push('/wrp-home');\r\n                break\r\n            case \"wrp-read\":\r\n            case \"wrp-home\":\r\n            case \"wrp-find\":\r\n            case \"wrp-word\":\r\n            case \"wrp-about\":\r\n            case \"wrp-test\":\r\n                break;\r\n            default:\r\n                console.log(\"pathname 为 其他路径\", dir);\r\n                // js转跳 或是 用户输入的路径\r\n                let origin;\r\n                let history = props.app.history\r\n                if (!history) break\r\n                if (history[history.length - 1]) {\r\n                    origin = new URL(history[history.length - 1].input).origin;\r\n                    let href = `${location.origin}/wrp-read?url=${encodeURIComponent(origin + location.pathname + location.search)}`;\r\n                    console.log('转跳目标 ->', origin + location.pathname + location.search)\r\n                    window.location.href = href;\r\n                } else {\r\n                    origin = window.location.origin + \"/wrp-home\";\r\n                    console.log('转跳目标', origin);\r\n                    window.location.href = origin;\r\n                }\r\n\r\n                // alert('转跳！');\r\n                // window.location.pathname = '/wrp-read';\r\n                // window.location.search = `?url=${encodeURIComponent(\"https://qq.com\")}`\r\n                break;\r\n        }\r\n\r\n    });\r\n\r\n    return (\r\n        <>\r\n            { console.log('⛑ webApp render')}\r\n            <Switch>\r\n                <Route path=\"/\" >\r\n                    <Switch>\r\n                        <Route exact path=\"/wrp-home\">\r\n                            <Home></Home>\r\n                        </Route>\r\n                        <Route path=\"/wrp-explore\" >\r\n                            <ExploreApp></ExploreApp>\r\n                        </Route>\r\n                        <Route path=\"/wrp-word\" >\r\n                            <div>\r\n                                <h1>word</h1>\r\n                                <p>开发中...</p>\r\n                            </div>\r\n                        </Route>\r\n \r\n                        <Route path=\"/wrp-word/:id\">\r\n                            <div>\r\n                                <input type=\"text\" className=\"form-control input-sm header-search-input  js-site-search-focus \" data-hotkey=\"s,/\" name=\"q\" placeholder=\"Search GitHub\" data-unscoped-placeholder=\"Search GitHub\" data-scoped-placeholder=\"Search\" autocapitalize=\"off\" aria-label=\"Search GitHub\"></input>\r\n\r\n                                <input style={{ \"border\": \"1px solid #000\" }} onInput={() => { console.log('test entering') }}></input>\r\n\r\n                                <input style={{ \"border\": \"1px solid #000\" }} ></input>\r\n                            </div>\r\n                        </Route>\r\n                        <Route path=\"/wrp-about\">\r\n                            <h1>about</h1>\r\n                            <p>开发中...</p>\r\n                        </Route>\r\n                        <Route path=\"/wrp-reading\">\r\n                            <ReadPanel />\r\n                            <Head></Head>\r\n                            <App></App>\r\n                            <Status />\r\n                        </Route>\r\n                        <Route path=\"/:name\">\r\n                            <ReadPanel />\r\n                            <Head></Head>\r\n                            <App></App>\r\n                            <Status />\r\n                        </Route>\r\n                    </Switch>\r\n                    <TrayBar />\r\n                </Route>\r\n            </Switch>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n    // webApp: state.webApp,\r\n    app: state.app,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    setStatus: (status) => {\r\n        dispatch(actions.setStatus(status))\r\n    },\r\n\r\n    loadXmlDoc: url => {\r\n        console.log(`mapDispatchToProps: input: ${url}`)\r\n        dispatch(actions.loadXmlDoc(url))\r\n    },\r\n\r\n    setXmlDoc: doc => {\r\n        dispatch(actions.setXmlDoc(doc))\r\n    },\r\n\r\n    docParser: (doc, baseUrl, key) => {\r\n        dispatch(actions.docParser(doc, baseUrl, key))\r\n    },\r\n\r\n    setHistory: (historyList, item) => {\r\n        dispatch(actions.setHistory(historyList, item))\r\n    },\r\n\r\n    setUrl: url => {\r\n        dispatch(actions.setUrl(url))\r\n    },\r\n\r\n    setAShow: isShow => {\r\n        dispatch(aActions.setShow(isShow))\r\n    },\r\n})\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(WebApp));\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\nimport rootReducer from './reducers';\r\nimport thunk from 'redux-thunk';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link,\r\n    useLocation,\r\n    useRouteMatch,\r\n    useParams,\r\n    useHistory,\r\n    withRouter,\r\n\r\n} from 'react-router-dom';\r\n\r\n\r\n// import ReactDOMServer from 'react-dom/server';\r\n// import ReactHtmlParser from 'react-html-parser';\r\n\r\nimport WebApp from './webApp';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nconst traget = document.getElementById('wrp-root')\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n    rootReducer,\r\n    composeEnhancers(\r\n        applyMiddleware(thunk)\r\n    )\r\n);\r\n\r\nrender(\r\n    <Provider store={store}>\r\n        <Router>\r\n            <WebApp />\r\n        </Router>\r\n    </Provider>\r\n    , traget);\r\n\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n\r\nexport { store }"],"sourceRoot":""}